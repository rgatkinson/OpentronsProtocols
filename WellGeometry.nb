Notebook[{

Cell[CellGroupData[{
Cell["Well Geometry", \
"Title",ExpressionUUID->"39796d72-87ca-4320-97ff-a98d4bd016ce"],

Cell["\<\
Robert Atkinson
02 Oct 2019\
\>", "Author",ExpressionUUID->"05aea015-05f3-4e99-899d-20a8cd5792a1"],

Cell["We explore the geometry of various labware.", \
"Text",ExpressionUUID->"56cc4ba9-b77c-4512-b3b4-73f00a3c0eee"],

Cell[CellGroupData[{

Cell["Basics", \
"Section",ExpressionUUID->"752773aa-79a8-4543-97a4-9a28a9955492"],

Cell[BoxData[{
 RowBox[{"On", "[", "Assert", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assert", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"value", "=", 
      RowBox[{"Evaluate", "[", "expr", "]"}]}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"BooleanQ", "[", "value", "]"}], ",", " ", 
      RowBox[{"Assert", "[", 
       RowBox[{"value", ",", " ", 
        RowBox[{"HoldForm", "[", "expr", "]"}]}], "]"}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"SetAttributes", "[", 
  RowBox[{"assert", ",", " ", "HoldAll"}], 
  "]"}]}], "Input",ExpressionUUID->"5325dfb4-04b1-494c-bcbd-e2677b467f94"],

Cell[BoxData[
 RowBox[{
  RowBox[{"printCell", "[", "cell_", "]"}], " ", ":=", " ", 
  RowBox[{"CellPrint", "[", 
   RowBox[{"ExpressionCell", "[", 
    RowBox[{"cell", ",", " ", "\"\<Output\>\""}], "]"}], 
   "]"}]}]], "Input",ExpressionUUID->"37bb6aae-3724-4681-b762-434c36589e57"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "evald", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"evald", " ", "=", " ", 
      RowBox[{"Evaluate", "[", "expr", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"printCell", "[", 
      RowBox[{
       RowBox[{"HoldForm", "[", "expr", "]"}], " ", "\[Rule]", " ", "evald"}],
       "]"}], ";", "\[IndentingNewLine]", "evald"}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"SetAttributes", "[", 
  RowBox[{"test", ",", " ", "HoldAll"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", "[", 
   RowBox[{"7", "!"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"%", " ", "+", " ", 
  "1"}]}], "Input",ExpressionUUID->"5aa89327-f38a-4c75-8bc4-5f11f8896fc6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"complement", "[", "angle_", "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"\[Pi]", "/", "2"}], " ", "-", " ", 
   "angle"}]}]], \
"Input",ExpressionUUID->"78d80425-9321-49ab-b281-593a15d6063e"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "hasImaginary", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"hasImaginary", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "result", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"result", " ", "=", " ", 
       RowBox[{"Reap", "[", 
        RowBox[{"Scan", "[", 
         RowBox[{
          RowBox[{"Function", "[", 
           RowBox[{"ee", ",", " ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"ee", " ", "\[NotEqual]", " ", 
               RowBox[{"Conjugate", "[", "ee", "]"}]}], ",", " ", 
              RowBox[{"Sow", "[", "True", "]"}]}], "]"}]}], "]"}], ",", 
          RowBox[{"{", "expr", "}"}], ",", " ", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", " ", "Infinity"}], "}"}]}], "]"}], 
        "]"}]}], ";"}], "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"Scan", "[", 
       RowBox[{
        RowBox[{"Function", "[", 
         RowBox[{"ee", ",", " ", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"ee", " ", "\[NotEqual]", " ", 
             RowBox[{"Conjugate", "[", "ee", "]"}]}], ",", " ", 
            RowBox[{"Return", "[", "True", "]"}]}], "]"}]}], "]"}], ",", 
        RowBox[{"{", "expr", "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"-", "1"}], ",", " ", "Infinity"}], "}"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Length", " ", "@", " ", 
        RowBox[{"result", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], " ", ">", " ", "0"}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"result", " ", "===", " ", "True"}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"SetAttributes", "[", 
  RowBox[{"hasImaginary", ",", " ", "HoldAll"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"hasImaginary", "[", 
    RowBox[{"1", " ", "+", " ", 
     RowBox[{"2", "I"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"hasImaginary", "[", 
    RowBox[{"30", "!"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"440d00c8-54b5-4b08-bfe8-ae5feb69d532"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toDeg", "[", "rad_", "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"rad", " ", "/", " ", "Pi"}], " ", "*", " ", 
   "180"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toRadian", "[", "deg_", "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"deg", " ", "/", " ", "180"}], " ", "*", " ", 
   "Pi"}]}]}], "Input",ExpressionUUID->"2bbc42e7-5161-4850-a96b-3fb814745a8d"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Cone", "Section",ExpressionUUID->"ba3070ae-c27c-4d58-875e-e5382c2c77d0"],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsection",ExpressionUUID->"83535e67-e4e6-4dcc-a592-ecdfc718e245"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"cone", "[", 
    RowBox[{"h_", ",", " ", "r_"}], "]"}], "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"h", " ", ">=", " ", "0"}], " ", "&&", " ", 
   RowBox[{"r", " ", ">=", " ", "0"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"cone", "[", 
    RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], "]"}], 
   "]"}], ":=", " ", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{
    RowBox[{"h", " ", ">=", " ", "0"}], " ", "&&", " ", 
    RowBox[{"\[Alpha]", " ", ">", " ", "0"}], " ", "&&", " ", 
    RowBox[{"\[Alpha]", " ", "<", " ", 
     RowBox[{"\[Pi]", " ", "/", " ", "2"}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"cone", "[", 
    RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], "]"}], "]"}],
   ":=", " ", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{"assumptions", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", 
      RowBox[{"complement", "[", "\[Beta]", "]"}], ",", " ", "apexangle"}], 
     "]"}], "]"}], 
   "]"}]}]}], "Input",ExpressionUUID->"dba8de03-9f0f-41dc-8536-c8df1d846200"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "baseangle"}], "]"}], 
    "]"}]}], ";"}]}], \
"Input",ExpressionUUID->"421e5ca0-f5f7-4d89-8478-1770f4650170"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"radius", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  "r"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radius", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "apexangle"}], "]"}]}], "]"}], " ", 
  ":=", " ", 
  RowBox[{"h", " ", 
   RowBox[{"Tan", "[", "\[Alpha]", "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"radius", "[", 
    RowBox[{"c", ":", " ", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], "]"}]}], 
    "]"}], " ", ":=", " ", 
   RowBox[{"h", " ", 
    RowBox[{"Cot", "[", "\[Beta]", "]"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "r_"}], "]"}]}], "]"}], ":=", 
  "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "apexangle"}], "]"}]}], "]"}], " ", 
  ":=", " ", "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", "baseangle"}], "]"}]}], "]"}], " ", ":=",
   " ", "h"}]}], \
"Input",ExpressionUUID->"27077a15-096d-4641-90f1-572aa4a9b801"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"Assuming", "[", 
   RowBox[{
    RowBox[{"assumptions", "[", "c", "]"}], ",", " ", 
    RowBox[{"ArcTan", "[", 
     RowBox[{"h", ",", " ", "r"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", "apexangle"}], "]"}]}], "]"}], 
  ":=", " ", "\[Alpha]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", "baseangle"}], "]"}]}], "]"}], ":=", 
  RowBox[{"complement", "[", 
   RowBox[{"baseangle", "[", "c", "]"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"Assuming", "[", 
   RowBox[{
    RowBox[{"assumptions", "[", "c", "]"}], ",", " ", 
    RowBox[{"ArcTan", "[", 
     RowBox[{"r", ",", " ", "h"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", "apexangle"}], "]"}]}], "]"}], 
  ":=", " ", 
  RowBox[{"complement", "[", "\[Alpha]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", "baseangle"}], "]"}]}], "]"}], ":=", 
  "\[Beta]"}]}], \
"Input",ExpressionUUID->"32fbe51b-b998-4851-b75e-41c13eb4174b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", "apexangle"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", "baseangle"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"baseangle", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"baseangle", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", "apexangle"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{
    StyleBox["baseangle",
     FontWeight->"Bold"], "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", "baseangle"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"a5350e02-5082-4e9c-a536-f350aaf76110"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Conversion", \
"Subsection",ExpressionUUID->"d6bf2bfb-41fd-42d1-be93-3cdc6faccb37"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toCone", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  "c"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCone", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], "]"}]}], 
   "]"}], ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"radius", "[", "c", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toCone", "[", 
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], "]"}]}], 
    "]"}], " ", ":=", " ", 
   RowBox[{"cone", "[", 
    RowBox[{"h", ",", " ", 
     RowBox[{"radius", "[", "c", "]"}]}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"toCone", " ", "@", " ", "c"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], "]"}]}], 
   "]"}], ":=", " ", 
  RowBox[{"toCone", " ", "@", " ", "c"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toCartesian", "[", 
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], "]"}]}], 
    "]"}], " ", ":=", " ", 
   RowBox[{"toCone", " ", "@", " ", "c"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"apexangle", "[", "c", "]"}], ",", " ", "apexangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "apexangle"}], "]"}]}], "]"}], ":=",
   " ", "c"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toApexAngled", "[", 
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", "\[Beta]_", ",", "baseangle"}], "]"}]}], "]"}], ":=",
    " ", 
   RowBox[{"cone", "[", 
    RowBox[{"h", ",", " ", 
     RowBox[{"apexangle", "[", "c", "]"}], ",", " ", "apexangle"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"baseangle", "[", "c", "]"}], ",", " ", "baseangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "apexangle"}], "]"}]}], "]"}], ":=",
   " ", 
  RowBox[{"cone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"baseangle", "[", "c", "]"}], ",", " ", "baseangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toBaseAngled", "[", 
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", "\[Beta]_", ",", "baseangle"}], "]"}]}], "]"}], ":=",
    " ", "c"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"scaled", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", "r_"}], "]"}]}], ",", " ", "factor_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{"cone", "[", 
   RowBox[{
    RowBox[{"h", " ", "*", " ", "factor"}], ",", " ", 
    RowBox[{"r", " ", "*", " ", "factor"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"scaled", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", "\[Alpha]_", ",", "apexangle"}], "]"}]}], ",", " ", 
    "factor_"}], "]"}], ":=", " ", 
  RowBox[{"toApexAngled", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"toCartesian", " ", "@", " ", "c"}], ",", " ", "factor"}], 
    "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"scaled", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", "\[Beta]_", ",", "baseangle"}], "]"}]}], ",", " ", 
    "factor_"}], "]"}], ":=", 
  RowBox[{"toBaseAngled", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"toCartesian", " ", "@", " ", "c"}], ",", " ", "factor"}], 
    "]"}]}]}]}], \
"Input",ExpressionUUID->"841fd25b-121c-4958-a155-ebaff935362d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCone", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCone", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], "]"}], 
    "]"}]}], " ", ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCone", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "baseangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "baseangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "baseangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", "r"}], "]"}], ",", " ", "2"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], "]"}], ",", 
     "2"}], "]"}]}], " ", ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "baseangle"}], "]"}], ",", 
     "2"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"acb9121b-29fe-4ef3-9296-b193f4c178e0"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsection",ExpressionUUID->"2e392080-fd66-4f28-bc01-4e194deadab6"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Pi", " ", "r", " ", "r", " ", 
   RowBox[{"h", " ", "/", " ", "3"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], "]"}]}], 
   "]"}], ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", "c"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], "]"}]}], 
   "]"}], " ", ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", "c"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "\[Alpha]", ",", "apexangle"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "\[Beta]", ",", "baseangle"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"ad5b5403-1cf3-477d-a458-a360c2978259"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height and Depth", \
"Subsection",ExpressionUUID->"4e43b5ff-f03a-486d-a8ad-cad8d66886fe"],

Cell[CellGroupData[{

Cell["Final", \
"Subsubsection",ExpressionUUID->"5a07ac8d-aa42-4c68-a665-4f963dcda7ab"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"genericConeDepthFromVolume", "[", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "c", ",", " ", "cc", ",", " ", "h", ",", " ", "r", ",", " ", "hh", ",", 
      " ", "vol", ",", "a", ",", " ", "eqn", ",", " ", "solns", ",", " ", 
      "soln"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{
     "conjures", " ", "up", " ", "a", " ", "soln", " ", "with", " ", 
      "varaibles", " ", "known", " ", "to", " ", "be", " ", "free"}], " ", 
     "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"c", " ", "=", " ", 
      RowBox[{"cone", "[", 
       RowBox[{"h", ",", "r"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"cc", " ", "=", " ", 
      RowBox[{"scaled", "[", 
       RowBox[{"c", ",", " ", 
        RowBox[{"hh", " ", "/", " ", "h"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"a", " ", "=", " ", 
      RowBox[{
       RowBox[{"assumptions", "[", "c", "]"}], " ", "&&", " ", 
       RowBox[{"assumptions", "[", "cc", "]"}], " ", "&&", " ", 
       RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], " ", ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqn", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"vol", " ", "\[Equal]", " ", 
         RowBox[{
          RowBox[{"volume", "[", "c", "]"}], " ", "-", " ", 
          RowBox[{"volume", "[", "cc", "]"}]}]}], ",", " ", "a"}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Assuming", "[", 
       RowBox[{"a", ",", " ", 
        RowBox[{"Solve", "[", 
         RowBox[{"eqn", ",", " ", "hh"}], "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"soln", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"h", " ", "-", " ", 
         RowBox[{"(", 
          RowBox[{"hh", " ", "/.", " ", 
           RowBox[{"First", " ", "@", " ", "solns"}]}], ")"}]}], ",", " ", 
        "a"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"genericConeDepthFromVolume", "[", "]"}], " ", "=", " ", 
      RowBox[{"{", 
       RowBox[{"h", ",", "r", ",", " ", "vol", ",", " ", "soln"}], 
       "}"}]}]}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"genericConeDepthFromVolume", "[", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"f2890e37-aabd-4a01-8c34-3868c0e1fa8b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", "r_"}], "]"}]}], ",", " ", "v_"}], "]"}], " ", ":=", 
  " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"hh", ",", " ", "rr", ",", " ", "vol", ",", " ", "soln"}], "}"}],
     ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"hh", ",", " ", "rr", ",", " ", "vol", ",", " ", "soln"}], 
       "}"}], " ", "=", " ", 
      RowBox[{"genericConeDepthFromVolume", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"soln", "  ", "/.", " ", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"hh", " ", "\[Rule]", " ", "h"}], ",", " ", 
          RowBox[{"rr", " ", "\[Rule]", " ", "r"}], ",", " ", 
          RowBox[{"vol", " ", "\[Rule]", " ", "v"}]}], "}"}]}], ")"}], " ", "//",
       " ", "FullSimplify"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], "]"}]}], 
    ",", " ", "v_"}], "]"}], ":=", " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"toCartesian", " ", "@", " ", "c"}], ",", " ", "v"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"c", ":", 
      RowBox[{"cone", "[", 
       RowBox[{"h_", ",", " ", "\[Beta]_", ",", "baseangle"}], "]"}]}], ",", 
     " ", "v_"}], "]"}], ":=", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"toCartesian", " ", "@", " ", "c"}], ",", " ", "v"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", "r"}], "]"}], ",", " ", "volume"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"b28a6672-c170-4dc0-b84d-7f97d9cc597f"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Testing", \
"Subsubsection",ExpressionUUID->"ae33e579-2122-4f97-ab4d-46f0f3ec832e"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{"2", ",", " ", 
    RowBox[{"\[Pi]", "/", "6"}], ",", " ", "apexangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}]}], 
  "]"}]}], "Input",ExpressionUUID->"0e3171ab-ef8e-4c05-bf51-94bbc9231f19"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Inverted Cone", \
"Section",ExpressionUUID->"a64b90a3-0fb2-4e43-9e60-3cebd9a60c87"],

Cell[CellGroupData[{

Cell["Construction & Conversion", \
"Subsection",ExpressionUUID->"429a2e9f-ed22-41e0-9ae9-5749bc72e900"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toCone", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invert", " ", "@", " ", "c"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCone", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], "]"}]}], 
   "]"}], " ", ":=", " ", 
  RowBox[{"invert", " ", "@", " ", "c"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toCone", "[", 
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], "]"}]}], 
    "]"}], " ", ":=", " ", 
   RowBox[{"invert", " ", "@", " ", "c"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invert", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "c"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], "]"}]}], 
   "]"}], " ", ":=", 
  RowBox[{"invert", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "c"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toCartesian", "[", 
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], "]"}]}], 
    "]"}], " ", ":=", " ", 
   RowBox[{"invert", " ", "@", " ", 
    RowBox[{"toCartesian", " ", "@", " ", 
     RowBox[{"invert", " ", "@", " ", "c"}]}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{"h", ",", " ", "r"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], "]"}]}], 
   "]"}], " ", ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{"h", ",", "\[Alpha]", ",", "apexangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"invert", "[", 
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], "]"}]}], 
    "]"}], " ", ":=", " ", 
   RowBox[{"cone", "[", 
    RowBox[{"h", ",", "\[Beta]", ",", "baseangle"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{"h", ",", " ", "r"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], "]"}]}], 
   "]"}], " ", ":=", " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{"h", ",", "\[Alpha]", ",", "apexangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"invert", "[", 
    RowBox[{"c", ":", " ", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], "]"}]}], 
    "]"}], " ", ":=", " ", 
   RowBox[{"invertedCone", "[", 
    RowBox[{"h", ",", "\[Beta]", ",", "baseangle"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"scaled", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", "r_"}], "]"}]}], ",", " ", "factor_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{
    RowBox[{"h", " ", "*", " ", "factor"}], ",", " ", 
    RowBox[{"r", " ", "*", " ", "factor"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"scaled", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", "\[Alpha]_", ",", "apexangle"}], "]"}]}], ",", " ", 
    "factor_"}], "]"}], ":=", " ", 
  RowBox[{"toApexAngled", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"toCartesian", " ", "@", " ", "c"}], ",", " ", "factor"}], 
    "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"scaled", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", "\[Beta]_", ",", "baseangle"}], "]"}]}], ",", " ", 
    "factor_"}], "]"}], ":=", 
  RowBox[{"toBaseAngled", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"toCartesian", " ", "@", " ", "c"}], ",", " ", "factor"}], 
    "]"}]}]}]}], \
"Input",ExpressionUUID->"cb530f5b-57ac-491f-b1d8-9e53e5dc12ab"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", "r"}], "]"}], ",", " ", "2"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], "]"}], ",", 
     "2"}], "]"}]}], " ", ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "baseangle"}], "]"}], ",", 
     "2"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"f63b996c-cd00-4611-96b8-4f0b551b19ff"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsection",ExpressionUUID->"489c3c73-b457-411d-9e4c-5c0a8cc7c89c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"assumptions", "[", 
   RowBox[{"toCone", " ", "@", " ", "c"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], "]"}]}], 
   "]"}], ":=", 
  RowBox[{"assumptions", "[", 
   RowBox[{"toCone", " ", "@", " ", "c"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", " ", "baseangle"}], "]"}]}], "]"}], ":=", 
  RowBox[{"assumptions", "[", 
   RowBox[{"toCone", " ", "@", " ", "c"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "baseangle"}], "]"}], 
    "]"}]}], ";"}]}], \
"Input",ExpressionUUID->"f5542b20-341b-4fd8-9897-6fd8eefccfbf"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"radius", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  "r"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radius", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "apexangle"}], "]"}]}], "]"}], " ", 
  ":=", " ", 
  RowBox[{"radius", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "c"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"radius", "[", 
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], "]"}]}], 
    "]"}], " ", ":=", " ", 
   RowBox[{"radius", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "c"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "r_"}], "]"}]}], "]"}], ":=", 
  "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "apexangle"}], "]"}]}], "]"}], " ", 
  ":=", " ", "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", "baseangle"}], "]"}]}], "]"}], " ", ":=",
   " ", "h"}]}], \
"Input",ExpressionUUID->"dc744b19-e444-4da9-bb19-e15e7676a3fb"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"Assuming", "[", 
   RowBox[{
    RowBox[{"assumptions", "[", "c", "]"}], ",", " ", 
    RowBox[{"ArcTan", "[", 
     RowBox[{"h", ",", " ", "r"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", "apexangle"}], "]"}]}], "]"}], 
  ":=", " ", "\[Alpha]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", "baseangle"}], "]"}]}], "]"}], ":=", 
  RowBox[{"complement", "[", 
   RowBox[{"baseangle", "[", "c", "]"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"Assuming", "[", 
   RowBox[{
    RowBox[{"assumptions", "[", "c", "]"}], ",", " ", 
    RowBox[{"ArcTan", "[", 
     RowBox[{"r", ",", " ", "h"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", "apexangle"}], "]"}]}], "]"}], 
  ":=", " ", 
  RowBox[{"complement", "[", "\[Alpha]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", "baseangle"}], "]"}]}], "]"}], ":=", 
  "\[Beta]"}]}], \
"Input",ExpressionUUID->"38e3ef7b-a2ba-4a6d-817c-f2902c7ac5a5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", "apexangle"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", "baseangle"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"baseangle", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"baseangle", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", "apexangle"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{
    StyleBox["baseangle",
     FontWeight->"Bold"], "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", "baseangle"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"ebe56994-73cb-4b9d-a83f-69ef258c8bd9"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Conversion Redux", \
"Subsection",ExpressionUUID->"e5b719cc-42db-452b-be04-b37ed947966a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toInvertedCone", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  "c"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toInvertedCone", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], "]"}]}], 
   "]"}], ":=", " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"h", " ", 
     RowBox[{"Tan", "[", "\[Alpha]", "]"}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toInvertedCone", "[", 
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], "]"}]}], 
    "]"}], " ", ":=", " ", 
   RowBox[{"toInvertedCone", "[", 
    RowBox[{"toApexAngled", "[", "c", "]"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"toInvertedCone", " ", "@", " ", "c"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], "]"}]}], 
   "]"}], ":=", " ", 
  RowBox[{"toInvertedCone", " ", "@", " ", "c"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toCartesian", "[", 
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], "]"}]}], 
    "]"}], " ", ":=", " ", 
   RowBox[{"toInvertedCone", " ", "@", " ", "c"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"apexangle", "[", "c", "]"}], ",", " ", "apexangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "apexangle"}], "]"}]}], "]"}], ":=",
   " ", "c"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toApexAngled", "[", 
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", "\[Beta]_", ",", "baseangle"}], "]"}]}], "]"}], ":=",
    " ", 
   RowBox[{"invertedCone", "[", 
    RowBox[{"h", ",", " ", 
     RowBox[{"apexangle", "[", "c", "]"}], ",", " ", "apexangle"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"baseangle", "[", "c", "]"}], ",", " ", "baseangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "apexangle"}], "]"}]}], "]"}], ":=",
   " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"baseangle", "[", "c", "]"}], ",", " ", "baseangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", "baseangle"}], "]"}]}], "]"}], ":=", 
  " ", "c"}]}], \
"Input",ExpressionUUID->"07fe310a-9462-44f1-ae51-cd16bfb0aad1"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toInvertedCone", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toInvertedCone", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toInvertedCone", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "baseangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "baseangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "baseangle"}], "]"}], 
    "]"}]}], ";"}]}], \
"Input",ExpressionUUID->"ad13e60d-0bfa-4d2f-be66-588581c8f521"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsection",ExpressionUUID->"1ae6326f-9092-46be-9bd8-a9753e254b1b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{"toCone", " ", "@", " ", "c"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], "]"}]}], 
   "]"}], ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{"toCone", " ", "@", " ", "c"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], "]"}]}], 
   "]"}], " ", ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{"toCone", " ", "@", " ", "c"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "\[Alpha]", ",", "apexangle"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "\[Beta]", ",", "baseangle"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"c083abed-8bba-4ffd-a0cc-be61d4b6b296"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height and Depth", \
"Subsection",ExpressionUUID->"ff3f47b6-6b93-4744-af0f-058c0af8c6d3"],

Cell[CellGroupData[{

Cell["Final", \
"Subsubsection",ExpressionUUID->"88b9fa6a-5dfc-40ea-9a3e-60a29ec38c46"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"genericInvertedConeDepthFromVolume", "[", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "c", ",", " ", "h", ",", " ", "\[Alpha]", ",", " ", "hh", ",", " ", 
      "vol", ",", "a", ",", " ", "eqn", ",", " ", "solns", ",", " ", "soln"}],
      "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"c", " ", "=", " ", 
      RowBox[{"invertedCone", "[", 
       RowBox[{"h", ",", "\[Alpha]", ",", " ", "apexangle"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"a", " ", "=", " ", 
      RowBox[{
       RowBox[{"assumptions", "[", "c", "]"}], "  ", "&&", " ", 
       RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], " ", ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqn", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"vol", " ", "\[Equal]", " ", 
         RowBox[{"volume", "[", "c", "]"}]}], ",", " ", "a"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Assuming", "[", 
       RowBox[{"a", ",", " ", 
        RowBox[{"Solve", "[", 
         RowBox[{"eqn", ",", " ", "h"}], "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"soln", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"h", " ", "/.", " ", 
         RowBox[{"solns", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], ",", " ", "a"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"genericInvertedConeDepthFromVolume", "[", "]"}], " ", "=", " ", 
      RowBox[{"{", 
       RowBox[{"\[Alpha]", ",", "vol", ",", "soln"}], "}"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"genericInvertedConeDepthFromVolume", "[", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"49b86f54-6ad5-4b88-85c7-baf8182d3050"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"ignored_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
      "]"}]}], ",", " ", "v_"}], "]"}], ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\[Alpha]\[Alpha]", ",", " ", "vol", ",", " ", "soln"}], "}"}], 
    ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\[Alpha]\[Alpha]", ",", " ", "vol", ",", " ", "soln"}], "}"}],
       " ", "=", " ", 
      RowBox[{"genericInvertedConeDepthFromVolume", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"soln", "  ", "/.", " ", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"\[Alpha]\[Alpha]", "\[Rule]", "\[Alpha]"}], ",", " ", 
          RowBox[{"vol", "\[Rule]", "v"}]}], "}"}]}], ")"}], " ", "//", " ", 
      "FullSimplify"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", "r_"}], "]"}]}], ",", " ", "v_"}], "]"}], " ", ":=", 
  " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"toApexAngled", " ", "@", " ", "c"}], ",", " ", "v"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"c", ":", " ", 
      RowBox[{"invertedCone", "[", 
       RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], "]"}]}], 
     ",", " ", "v_"}], "]"}], " ", ":=", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"toApexAngled", " ", "@", " ", "c"}], ",", " ", "v"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"ignored", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], "]"}],
      ",", " ", "volume"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", "r"}], "]"}], ",", " ", "volume"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", " ", "\[Beta]", ",", "baseangle"}], "]"}], ",", " ", 
     "volume"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"cf711b47-c540-460b-94b2-5428859d1756"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Testing", \
"Subsubsection",ExpressionUUID->"08fcd502-ddfb-4f05-b00e-ba204084e2e6"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{"2", ",", " ", 
    RowBox[{"\[Pi]", "/", "6"}], ",", " ", "apexangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}]}], 
  "]"}]}], "Input",ExpressionUUID->"eda28cd1-4ea9-4c41-851c-83ef569ccd57"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Cylinder", \
"Section",ExpressionUUID->"268f996d-601e-4c4d-8349-4b98c2192a1a"],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsection",ExpressionUUID->"9aa74426-8f97-4e1a-a673-b6c6286c20be"],

Cell[BoxData[
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"cylinder", "[", 
    RowBox[{"h_", ",", " ", "r_"}], "]"}], "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"h", " ", ">=", " ", "0"}], " ", "&&", " ", 
   RowBox[{
   "r", " ", ">=", " ", 
    "0"}]}]}]], \
"Input",ExpressionUUID->"6906adab-d37d-4f82-8859-4884ac5c2862"],

Cell[BoxData[
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"cylinder", "[", 
     RowBox[{"h", ",", " ", "r"}], "]"}], "]"}]}], 
  ";"}]], "Input",ExpressionUUID->"c51dab49-73f5-4c22-999d-f648404a5d1b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"emptyCylinder", "[", "]"}], " ", ":=", " ", 
  RowBox[{"cylinder", "[", 
   RowBox[{"0", ",", "0"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cylinder", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radius", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cylinder", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  "r"}]}], "Input",ExpressionUUID->"544c155e-c8c3-4072-aef6-30d6d63db032"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsection",ExpressionUUID->"ad784929-644a-4b85-bcda-e7c523ca7cea"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"volume", "[", 
    RowBox[{"cylinder", "[", 
     RowBox[{"h_", ",", "r_"}], "]"}], "]"}], " ", ":=", " ", 
   RowBox[{"Pi", " ", "r", " ", "r", " ", "h"}]}], 
  " "}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"cylinder", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", " ", "@", " ", 
    RowBox[{"emptyCylinder", "[", "]"}]}]}], 
  ";"}]}], "Input",ExpressionUUID->"5b3bb265-2276-4272-92b2-e591c51ea43e"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height and Depth", \
"Subsection",ExpressionUUID->"30b784b4-6156-43b7-bd50-3cb3552d3a14"],

Cell[CellGroupData[{

Cell["Final", \
"Subsubsection",ExpressionUUID->"1056974d-0cd6-40cf-b2d3-4b034b017002"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cylinder", "[", 
      RowBox[{"_", ",", "0"}], "]"}]}], ",", " ", "v_"}], "]"}], " ", ":=", 
  " ", "0"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cylinder", "[", 
      RowBox[{"0", ",", "_"}], "]"}]}], ",", " ", "v_"}], "]"}], " ", ":=", 
  " ", "0"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cylinder", "[", 
      RowBox[{"_", ",", "r_"}], "]"}]}], ",", " ", "v_"}], "]"}], " ", ":=", 
  " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "hh", "}"}], ",", " ", 
    RowBox[{"hh", " ", "/.", " ", 
     RowBox[{"First", " ", "@", " ", 
      RowBox[{"Solve", "[", 
       RowBox[{
        RowBox[{"v", " ", "\[Equal]", " ", 
         RowBox[{"volume", "[", 
          RowBox[{"cylinder", "[", 
           RowBox[{"hh", ",", "r"}], "]"}], "]"}]}], ",", " ", "hh"}], 
       "]"}]}]}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"cylinder", "[", 
      RowBox[{"ignored", ",", "r"}], "]"}], ",", " ", "volume"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"cylinder", "[", 
      RowBox[{"1", ",", "2"}], "]"}], ",", " ", "volume"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"emptyCylinder", "[", "]"}], ",", " ", "volume"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"ef46489a-deb5-41fa-888c-f96402496143"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Testing", \
"Subsubsection",ExpressionUUID->"05307345-4a74-4a9d-9988-54cf1a0e2b68"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"cylinder", "[", 
   RowBox[{"4", ",", " ", "2"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}]}], 
  "]"}]}], "Input",ExpressionUUID->"645760b4-e03e-4f17-9d9a-58f468eb9693"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Right Conical Frustum", \
"Section",ExpressionUUID->"e49bc361-322b-49a0-9324-adfcdc3a1faa"],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsection",ExpressionUUID->"43b8a553-f599-44d8-9adb-205ffb2b5cd0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"frustum", "[", 
    RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}], "]"}], " ",
   ":=", " ", 
  RowBox[{
   RowBox[{"h", "\[GreaterEqual]", "0"}], " ", "&&", " ", 
   RowBox[{"rbig", " ", "\[GreaterEqual]", " ", "0"}], " ", "&&", " ", 
   RowBox[{"rsmall", " ", "\[GreaterEqual]", " ", "0"}], " ", "&&", " ", 
   RowBox[{"rbig", " ", ">", " ", "rsmall"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"frustum", "[", 
    RowBox[{
    "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
    "]"}], "]"}], " ", ":=", " ", 
  RowBox[{"FullSimplify", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", 
      RowBox[{"complement", "[", "\[Alpha]", "]"}], ",", " ", "baseangle"}], 
     "]"}], "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"frustum", "[", 
    RowBox[{
    "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
    "]"}], "]"}], " ", ":=", " ", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{
    RowBox[{"h", "\[GreaterEqual]", "0"}], " ", "&&", " ", 
    RowBox[{"rbig", "\[GreaterEqual]", " ", "0"}], " ", "&&", " ", 
    RowBox[{"\[Beta]", " ", ">", " ", "0"}], " ", "&&", " ", 
    RowBox[{"\[Beta]", " ", "<", " ", 
     RowBox[{"\[Pi]", "/", "2"}]}]}], 
   "]"}]}]}], "Input",ExpressionUUID->"489c2a11-40a4-4d7f-b280-e3eb125ede08"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", " ", "baseangle"}], 
     "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"3d87902f-589b-49bf-a49a-1a208098175b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], ":=", " ", "\[Alpha]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], ":=", 
  RowBox[{"complement", "[", 
   RowBox[{"baseangle", "[", "f", "]"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"apexangle", "[", 
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], ":=", 
   RowBox[{"Assuming", "[", 
    RowBox[{
     RowBox[{"assumptions", "[", "f", "]"}], ",", " ", 
     RowBox[{"ArcTan", "[", 
      RowBox[{"h", ",", " ", 
       RowBox[{"rbig", "-", "rsmall"}]}], "]"}]}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"complement", "[", " ", 
   RowBox[{"apexangle", "[", "f", "]"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", "\[Beta]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"baseangle", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"Assuming", "[", 
    RowBox[{
     RowBox[{"assumptions", "[", "f", "]"}], ",", " ", 
     RowBox[{"ArcTan", "[", 
      RowBox[{
       RowBox[{"rbig", "-", "rsmall"}], ",", " ", "h"}], "]"}]}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"baseangle", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", "rbig_", ",", 
       RowBox[{"rbig_", "-", 
        RowBox[{"h_", " ", 
         RowBox[{"Cot", "[", "\[Beta]_", "]"}]}]}]}], "]"}]}], "]"}], " ", ":=",
    " ", "\[Beta]"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"baseangle", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"{", " ", 
    RowBox[{
     RowBox[{"baseangle", "[", 
      RowBox[{"frustum", "[", 
       RowBox[{"1", ",", " ", "3", ",", " ", "2"}], "]"}], "]"}], ",", " ", 
     RowBox[{"baseangle", "[", 
      RowBox[{"frustum", "[", 
       RowBox[{
        RowBox[{"Sqrt", "[", "3", "]"}], ",", " ", "2", ",", " ", "1"}], 
       "]"}], "]"}]}], "}"}]}], 
  ";"}]}], "Input",ExpressionUUID->"6e23e0d6-8580-45d2-85ef-f6dbc1d06acf"],

Cell[BoxData[{
 RowBox[{"Solve", "[", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"rbig", " ", "-", " ", "rsmall"}], ")"}], " ", "/", " ", "h"}], 
    " ", "\[Equal]", " ", 
    RowBox[{"Tan", "[", "\[Alpha]", "]"}]}], ",", " ", "rsmall"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"Solve", "[", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"rbig", " ", "-", " ", "rsmall"}], ")"}], " ", "/", " ", "h"}], 
    " ", "\[Equal]", " ", 
    RowBox[{"Tan", "[", "\[Alpha]", "]"}]}], ",", " ", "rbig"}], 
  "]"}]}], "Input",ExpressionUUID->"4339313c-3074-4176-8abd-0da5c5e63698"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  "h"}]}], "Input",ExpressionUUID->"03d53029-ebfc-4a96-b195-601c09f39c4f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"rbig", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", "rbig"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rbig", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", "rbig"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rbig", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  "rbig"}]}], "Input",ExpressionUUID->"c324bef0-1083-4154-98de-07fd3dbf41ca"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Tan", "[", "\[Alpha]", "]"}], " ", "/", " ", 
   RowBox[{"Cot", "[", 
    RowBox[{"complement", "[", "\[Alpha]", "]"}], "]"}]}], " ", "\[Equal]", 
  " ", "1"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Assuming", "[", 
   RowBox[{
    RowBox[{"assumptions", "[", "f", "]"}], ",", " ", 
    RowBox[{"rbig", " ", "-", " ", 
     RowBox[{"h", " ", 
      RowBox[{"Tan", "[", "\[Alpha]", "]"}]}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Assuming", "[", 
   RowBox[{
    RowBox[{"assumptions", "[", "f", "]"}], ",", " ", 
    RowBox[{"rbig", " ", "-", " ", 
     RowBox[{"h", " ", 
      RowBox[{"Cot", "[", "\[Beta]", "]"}]}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", "rsmall"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", "rbig_", ",", 
      RowBox[{"ArcTan", "[", 
       RowBox[{
        RowBox[{"rbig_", "-", "rsmall_"}], ",", "h_"}], "]"}], ",", 
      "baseangle"}], "]"}]}], "]"}], " ", ":=", " ", 
  "rsmall"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"rsmall", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Alpha]", ",", " ", "apexangle"}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"rsmall", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Beta]", ",", " ", "baseangle"}], "]"}],
     "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"rsmall", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "rsmall"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"0f0b9eda-12cd-45a1-9f0d-b134567af187"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Construction & Conversion", \
"Subsection",ExpressionUUID->"fcff828c-bb16-4164-a190-488e96d7694b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toFrustum", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", "rbig", ",", 
    RowBox[{"rsmall", "[", "f", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toFrustum", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", "rbig", ",", 
    RowBox[{"rsmall", "[", "f", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toFrustum", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", "f"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"toFrustum", " ", "@", " ", "f"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"toFrustum", " ", "@", " ", "f"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toCartesian", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"toFrustum", " ", "@", " ", "f"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", "f"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", " ", "rbig", ",", " ", 
    RowBox[{"complement", "[", "\[Beta]", "]"}], ",", " ", "apexangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toApexAngled", "[", 
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"frustum", "[", 
    RowBox[{"h", ",", " ", "rbig", ",", " ", 
     RowBox[{"apexangle", "[", "f", "]"}], ",", " ", "apexangle"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], " ", ":=", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", " ", "rbig", ",", " ", 
    RowBox[{"complement", "[", "\[Alpha]", "]"}], ",", " ", "baseangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", "f"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", " ", "rbig", ",", " ", 
    RowBox[{"baseangle", "[", "f", "]"}], ",", " ", "baseangle"}], 
   "]"}]}]}], "Input",ExpressionUUID->"29e42e1e-cb99-4413-b621-03727087be8d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", " ", "baseangle"}], 
     "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", " ", "%"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", " ", "@", " ", "%%"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toFrustum", " ", "@", "  ", "%"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", "  ", "%%"}]}], 
  ";"}]}], "Input",ExpressionUUID->"38b7c5a4-e070-416e-ad4c-877c18c50cf9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", "%"}]}], 
  ";"}]}], "Input",ExpressionUUID->"368feb84-cda9-4cb8-80f4-ae631e545ed3"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsection",ExpressionUUID->"d54a95d2-c602-4270-b8d7-6cb9baf5c291"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"genericConeHeightCartesianFrustum", "[", "]"}], " ", ":=", " ", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "f", ",", " ", "h", ",", " ", "rbig", ",", " ", "rsmall", ",", " ", 
       "eqn", ",", " ", "ch"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"f", " ", "=", " ", 
       RowBox[{"frustum", "[", 
        RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"eqn", " ", "=", " ", 
       RowBox[{
        RowBox[{"ch", " ", "/", " ", "rbig"}], " ", "\[Equal]", " ", 
        RowBox[{"h", " ", "/", " ", 
         RowBox[{"(", 
          RowBox[{"rbig", " ", "-", " ", "rsmall"}], ")"}]}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"genericConeHeightCartesianFrustum", "[", "]"}], " ", "=", " ", 
       RowBox[{"{", 
        RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall", ",", " ", 
         RowBox[{"ch", " ", "/.", " ", 
          RowBox[{"First", " ", "@", " ", 
           RowBox[{"Solve", "[", 
            RowBox[{"eqn", ",", " ", "ch"}], "]"}]}]}]}], "}"}]}]}]}], 
    "\[IndentingNewLine]", "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"coneHeight", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], ":=", 
  RowBox[{"rbig", " ", "/", " ", 
   RowBox[{"Tan", "[", "\[Alpha]", "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"coneHeight", "[", 
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
      "]"}]}], "]"}], ":=", 
   RowBox[{"rbig", " ", "/", " ", 
    RowBox[{"Cot", "[", "\[Beta]", "]"}]}]}], " "}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"coneHeight", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"hh", ",", " ", "rrbig", ",", " ", "rrsmall", ",", " ", "ch"}], 
     "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"hh", ",", " ", "rrbig", ",", " ", "rrsmall", ",", " ", "ch"}],
        "}"}], " ", "=", " ", 
      RowBox[{"genericConeHeightCartesianFrustum", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"ch", " ", "/.", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"hh", " ", "\[Rule]", " ", "h"}], ",", " ", 
        RowBox[{"rrbig", " ", "\[Rule]", " ", "rbig"}], ",", " ", 
        RowBox[{"rrsmall", " ", "\[Rule]", " ", "rsmall"}]}], "}"}]}]}]}], 
   " ", "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Alpha]", ",", "apexangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Beta]", ",", "baseangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", " ", "@", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Beta]", ",", "baseangle"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "@", " ", "%"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "rsmall"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"1", ",", " ", "3", ",", " ", "2"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"50ade1b7-e803-4726-a3a1-973d21c77ab6"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"fullCone", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{
    RowBox[{"coneHeight", "[", "f", "]"}], ",", " ", "\[Alpha]", ",", 
    "apexangle"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fullCone", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"fullCone", " ", "@", " ", 
   RowBox[{"toApexAngled", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fullCone", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{
    RowBox[{"coneHeight", "[", "f", "]"}], ",", " ", "rbig"}], 
   "]"}]}]}], "Input",ExpressionUUID->"cdeea2b3-8dcd-4879-a6a9-e5e868cc1619"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"topCone", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"coneHeight", "[", "f", "]"}], "-", "h"}], ",", " ", "\[Alpha]", 
    ",", "apexangle"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"topCone", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"topCone", " ", "@", " ", 
   RowBox[{"toApexAngled", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"topCone", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"full", ",", " ", "eqn", ",", " ", "scale", ",", " ", "result"}],
      "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"full", " ", "=", " ", 
      RowBox[{"fullCone", "[", "f", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"scaled", "[", 
       RowBox[{"full", ",", " ", "scale"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqn", " ", "=", " ", 
      RowBox[{
       RowBox[{"radius", "[", "result", "]"}], " ", "\[Equal]", " ", 
       "rsmall"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"result", " ", "/.", " ", 
      RowBox[{"First", " ", "@", " ", 
       RowBox[{"Solve", "[", 
        RowBox[{"eqn", ",", " ", "scale"}], "]"}]}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"topCone", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"a456ebc9-d20f-41dc-82b2-e6fd224f024c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"volume", "[", 
     RowBox[{"fullCone", "[", "f", "]"}], "]"}], "-", 
    RowBox[{"volume", "[", 
     RowBox[{"topCone", "[", "f", "]"}], "]"}]}], " ", "//", " ", 
   "FullSimplify"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"volume", "[", 
     RowBox[{"fullCone", "[", "f", "]"}], "]"}], "-", 
    RowBox[{"volume", "[", 
     RowBox[{"topCone", "[", "f", "]"}], "]"}]}], " ", "//", " ", 
   "FullSimplify"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{
   "toApexAngled", "[", "f", 
    "]"}]}]}]}], \
"Input",ExpressionUUID->"151660bd-05b9-4f47-bae5-d60eacd767d7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"compare", " ", "to", " ", "textbook", " ", "answer", " ", 
    FractionBox["1", "3"], " ", "h", " ", "\[Pi]", " ", 
    RowBox[{"(", 
     RowBox[{
      SuperscriptBox["r1", "2"], "+", 
      RowBox[{"r1", " ", "r2"}], "+", 
      SuperscriptBox["r2", "2"]}], ")"}]}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"test", " ", "@", " ", 
     RowBox[{"volume", "[", 
      RowBox[{"frustum", "[", 
       RowBox[{"h", ",", "r1", ",", "r2"}], "]"}], "]"}]}], ";"}], " ", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"test", " ", "@", " ", 
     RowBox[{"volume", "[", 
      RowBox[{"frustum", "[", 
       RowBox[{"h", ",", "r", ",", "\[Alpha]", ",", "apexangle"}], "]"}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"test", " ", "@", " ", 
     RowBox[{"volume", "[", 
      RowBox[{"toFrustum", " ", "@", " ", 
       RowBox[{"frustum", "[", 
        RowBox[{"h", ",", "r", ",", "\[Alpha]", ",", "apexangle"}], "]"}]}], 
      "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"%", " ", "/", " ", "%%"}], " ", "//", " ", "FullSimplify"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"test", " ", "@", " ", 
     RowBox[{"volume", "[", 
      RowBox[{"frustum", "[", 
       RowBox[{"h", ",", " ", "r", ",", " ", "\[Beta]", ",", "baseangle"}], 
       "]"}], "]"}]}], 
    ";"}]}]}]], "Input",ExpressionUUID->"20ad7c34-c981-48f0-b1ad-ff0dc60f43d5"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height and Depth", \
"Subsection",ExpressionUUID->"2d0b2e68-3709-43d4-8e04-21ec0ab78e3e"],

Cell[CellGroupData[{

Cell["Experimenting", \
"Subsubsection",ExpressionUUID->"9f18af75-6b07-455e-8947-eb810e72a14b"],

Cell["\<\
In the below,  the \[OpenCurlyQuote]Solve\[CloseCurlyQuote] calls generate \
three solutions each. Which index to choose is unfortunately data-dependent.\
\>", "Text",ExpressionUUID->"572f0b06-6181-4279-bb20-435e261af2ee"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolumeExperiment", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], ",", 
    " ", "vol_", ",", " ", "index_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"hh", ",", " ", "ff", ",", " ", "eqn", ",", " ", "solns"}], 
     "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"we", "'"}], "re", " ", "looking", " ", "for", " ", "a", " ", 
       "frustum", " ", "with", " ", "same", " ", "base", " ", "angle", " ", 
       "and", " ", "bottom", " ", "radius"}], ",", " ", 
      RowBox[{"but", " ", "different", " ", "height"}]}], " ", "*)"}], 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"ff", " ", "=", " ", 
      RowBox[{"frustum", "[", 
       RowBox[{"hh", ",", "rbig", ",", " ", 
        RowBox[{"baseangle", "[", "f", "]"}], ",", " ", "baseangle"}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"eqn", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"vol", " ", "\[Equal]", " ", 
         RowBox[{"volume", "[", "ff", "]"}]}], ",", " ", 
        RowBox[{
         RowBox[{"assumptions", "[", "f", "]"}], " ", "&&", " ", 
         RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Solve", "[", 
       RowBox[{"eqn", ",", " ", "hh"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"FullSimplify", "[", 
      RowBox[{
       RowBox[{"hh", " ", "/.", " ", 
        RowBox[{"solns", "[", 
         RowBox[{"[", "index", "]"}], "]"}]}], ",", " ", 
       RowBox[{
        RowBox[{"assumptions", "[", "f", "]"}], " ", "&&", " ", 
        RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolumeExperiment", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], ",", 
    " ", "vol_"}], "]"}], " ", ":=", " ", 
  RowBox[{"depthFromVolumeExperiment", "[", 
   RowBox[{"f", ",", " ", "vol", ",", " ", "1"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolumeExperiment", "[", 
    RowBox[{
     RowBox[{"frustum", "[", 
      RowBox[{"h", ",", " ", "r1", ",", " ", "r2"}], "]"}], ",", " ", "vol"}],
     "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"34b63a2d-a8c1-4fb0-bac8-5b4b0741a427"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolumeExperiment", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{
      "ignored_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
       "apexangle"}], "]"}]}], ",", " ", "vol_", ",", " ", "index_"}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"hh", ",", " ", "ff", ",", " ", "eqn", ",", " ", "solns"}], 
     "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"we", "'"}], "re", " ", "looking", " ", "for", " ", "a", " ", 
       "frustum", " ", "with", " ", "same", " ", "base", " ", "angle", " ", 
       "and", " ", "bottom", " ", "radius"}], ",", " ", 
      RowBox[{"but", " ", "different", " ", "height"}]}], " ", "*)"}], 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"ff", " ", "=", " ", 
      RowBox[{"frustum", "[", 
       RowBox[{"hh", ",", "rbig", ",", " ", 
        RowBox[{"baseangle", "[", "f", "]"}], ",", " ", "baseangle"}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"eqn", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"vol", " ", "\[Equal]", " ", 
         RowBox[{"volume", "[", "ff", "]"}]}], ",", " ", 
        RowBox[{
         RowBox[{"assumptions", "[", "f", "]"}], " ", "&&", " ", 
         RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Solve", "[", 
       RowBox[{"eqn", ",", " ", "hh"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"FullSimplify", "[", 
      RowBox[{
       RowBox[{"hh", " ", "/.", " ", 
        RowBox[{"solns", "[", 
         RowBox[{"[", "index", "]"}], "]"}]}], ",", " ", 
       RowBox[{
        RowBox[{"assumptions", "[", "f", "]"}], " ", "&&", " ", 
        RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolumeExperiment", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{
      "ignored_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
       "apexangle"}], "]"}]}], ",", " ", "vol_"}], "]"}], " ", ":=", " ", 
  RowBox[{"depthFromVolumeExperiment", "[", 
   RowBox[{"f", ",", " ", "vol", ",", " ", "1"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolumeExperiment", "[", 
    RowBox[{
     RowBox[{"frustum", "[", 
      RowBox[{
      "h", ",", " ", "r", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], 
      "]"}], ",", " ", "vol"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"911ba4af-b333-4338-bc7c-42cbcba508b2"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolumeExperiment", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{
      "ignored_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
       "baseangle"}], "]"}]}], ",", " ", "vol_", ",", " ", "index_"}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"hh", ",", " ", "ff", ",", " ", "eqn", ",", " ", "solns"}], 
     "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{
      RowBox[{
       RowBox[{"we", "'"}], "re", " ", "looking", " ", "for", " ", "a", " ", 
       "frustum", " ", "with", " ", "same", " ", "base", " ", "angle", " ", 
       "and", " ", "bottom", " ", "radius"}], ",", " ", 
      RowBox[{"but", " ", "different", " ", "height"}]}], " ", "*)"}], 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"ff", " ", "=", " ", 
      RowBox[{"frustum", "[", 
       RowBox[{"hh", ",", "rbig", ",", " ", 
        RowBox[{"baseangle", "[", "f", "]"}], ",", " ", "baseangle"}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"eqn", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"vol", " ", "\[Equal]", " ", 
         RowBox[{"volume", "[", "ff", "]"}]}], ",", " ", 
        RowBox[{
         RowBox[{"assumptions", "[", "f", "]"}], " ", "&&", " ", 
         RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Solve", "[", 
       RowBox[{"eqn", ",", " ", "hh"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"FullSimplify", "[", 
      RowBox[{
       RowBox[{"hh", " ", "/.", " ", 
        RowBox[{"solns", "[", 
         RowBox[{"[", "index", "]"}], "]"}]}], ",", " ", 
       RowBox[{
        RowBox[{"assumptions", "[", "f", "]"}], " ", "&&", " ", 
        RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolumeExperiment", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{
      "ignored_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
       "baseangle"}], "]"}]}], ",", " ", "vol_"}], "]"}], " ", ":=", " ", 
  RowBox[{"depthFromVolumeExperiment", "[", 
   RowBox[{"f", ",", " ", "vol", ",", " ", "1"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolumeExperiment", "[", 
    RowBox[{
     RowBox[{"frustum", "[", 
      RowBox[{
      "h", ",", " ", "r", ",", " ", "\[Beta]", ",", " ", "baseangle"}], "]"}],
      ",", " ", "vol"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"486b7795-d005-4bbf-bfe2-3e2be519cb74"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Final Angled", \
"Subsubsection",ExpressionUUID->"44a527b7-05dc-4f7a-b6c8-673330f82736"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"genericFrustumDepthFromVolumeApex", "[", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "f", ",", " ", "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", " ", 
      "vol", ",", "a", ",", " ", "eqn", ",", " ", "solns", ",", " ", 
      "depth"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{
     "conjures", " ", "up", " ", "a", " ", "soln", " ", "with", " ", 
      "varaibles", " ", "known", " ", "to", " ", "be", " ", "free"}], " ", 
     "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"f", " ", "=", " ", 
      RowBox[{"frustum", "[", 
       RowBox[{
       "h", ",", "rbig", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"a", " ", "=", " ", 
      RowBox[{
       RowBox[{"assumptions", "[", "f", "]"}], " ", "&&", " ", 
       RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqn", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"vol", " ", "\[Equal]", " ", 
         RowBox[{"volume", "[", "f", "]"}]}], ",", " ", "a"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Assuming", "[", 
       RowBox[{"a", ",", " ", 
        RowBox[{"Solve", "[", 
         RowBox[{"eqn", ",", " ", "h"}], "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"depth", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"h", " ", "/.", " ", 
         RowBox[{"First", " ", "@", " ", "solns"}]}], ",", " ", "a"}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"genericFrustumDepthFromVolume1", "[", "]"}], " ", "=", " ", 
      RowBox[{"{", 
       RowBox[{
       "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", " ", "vol", ",", " ",
         "depth"}], "}"}]}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"genericFrustumDepthFromVolumeApex", "[", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"5dbfc950-9a56-4971-ba88-d66729d461db"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{
      "ignored_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
       "apexangle"}], "]"}]}], ",", " ", "vol_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hh", ",", " ", "rr", ",", " ", "\[Alpha]\[Alpha]", ",", " ", "vv", ",", 
      "eqn", ",", " ", "depth"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "hh", ",", " ", "rr", ",", " ", "\[Alpha]\[Alpha]", ",", " ", "vv", 
        ",", " ", "depth"}], "}"}], "=", 
      RowBox[{"genericFrustumDepthFromVolumeApex", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"depth", " ", "/.", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"rr", "\[Rule]", "rbig"}], ",", " ", 
        RowBox[{"\[Alpha]\[Alpha]", "\[Rule]", "\[Alpha]"}], ",", " ", 
        RowBox[{"vv", "\[Rule]", "vol"}]}], "}"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"generalApexFrustum", " ", "=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{
   "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"generalApexFrustum", ",", " ", "vol"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"74dc6d1d-417f-4e47-ae2a-64864eb276a0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{
      "ignored_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
       "baseangle"}], "]"}]}], ",", " ", "vol_"}], "]"}], " ", ":=", "  ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hh", ",", " ", "rr", ",", " ", "\[Alpha]\[Alpha]", ",", " ", "vv", ",", 
      "eqn", ",", " ", "soln"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "hh", ",", " ", "rr", ",", " ", "\[Alpha]\[Alpha]", ",", " ", "vv", 
        ",", " ", "soln"}], "}"}], "=", 
      RowBox[{"genericFrustumDepthFromVolumeApex", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"soln", " ", "/.", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"rr", "\[Rule]", "rbig"}], ",", " ", 
        RowBox[{"\[Alpha]\[Alpha]", "\[Rule]", 
         RowBox[{"apexangle", "[", "f", "]"}]}], ",", " ", 
        RowBox[{"vv", "\[Rule]", "vol"}]}], "}"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"generalBaseFrustum", " ", "=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{
   "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", " ", "baseangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"generalBaseFrustum", ",", " ", "vol"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"6432cfe7-9db1-4d4b-9570-5ebfb2d1caa9"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Final Cartesian", \
"Subsubsection",ExpressionUUID->"6fc79875-6565-45e4-b956-17dd1d82f4de"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"genericFrustumDepthFromVolumeCartesian", "[", "]"}], " ", ":=", 
  " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "f", ",", " ", "ch", ",", " ", "fullf", ",", " ", "topf", ",", " ", 
      "scaledTop", ",", " ", "scale", ",", " ", "h", ",", " ", "rbig", ",", 
      " ", "rsmall", ",", " ", "vol", ",", " ", "a", ",", " ", "eqn", ",", 
      " ", "solns", ",", " ", "soln", ",", " ", "depth"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"f", " ", "=", " ", 
      RowBox[{"frustum", "[", 
       RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"fullf", " ", "=", " ", 
      RowBox[{"fullCone", "[", "f", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"topf", " ", "=", " ", 
      RowBox[{"topCone", "[", "f", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"scaledTop", " ", "=", " ", 
      RowBox[{"scaled", "[", 
       RowBox[{"topf", ",", " ", "scale"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"a", " ", "=", " ", 
      RowBox[{
       RowBox[{"assumptions", "[", "fullf", "]"}], " ", "&&", " ", 
       RowBox[{"assumptions", "[", "scaledTop", "]"}], " ", "&&", " ", 
       RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqn", " ", "=", " ", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"volume", "[", "fullf", "]"}], " ", "-", " ", 
         RowBox[{"volume", "[", "scaledTop", "]"}]}], ")"}], " ", "\[Equal]", 
       " ", "vol"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Assuming", "[", 
       RowBox[{"a", ",", " ", 
        RowBox[{"Solve", "[", 
         RowBox[{"eqn", ",", " ", "scale"}], "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"soln", " ", "=", " ", 
      RowBox[{"solns", "[", 
       RowBox[{"[", "2", "]"}], "]"}]}], ";", " ", "\[IndentingNewLine]", 
     RowBox[{"depth", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"height", "[", "fullf", "]"}], " ", "-", " ", 
           RowBox[{"height", "[", "scaledTop", "]"}]}], ")"}], " ", "/.", " ",
          "soln"}], " ", ",", " ", "a"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"genericFrustumDepthFromVolumeCartesian", "[", "]"}], " ", "=", 
      " ", 
      RowBox[{"{", " ", 
       RowBox[{
       "h", ",", " ", "rbig", ",", " ", "rsmall", ",", " ", "vol", ",", " ", 
        "depth"}], " ", "}"}]}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"genericFrustumDepthFromVolumeCartesian", "[", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"f0eed134-b003-4e87-b689-c0ceab30f856"],

Cell["\<\
We compute depth from volume two different ways, then show they\
\[CloseCurlyQuote]re the same. We then choose for use the version that avoids \
trigonometry (in the apex-angled conversion).\
\>", "Text",ExpressionUUID->"1a18cf9b-816c-417f-9b59-dfedce084714"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume1", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{"ignored_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], 
    ",", " ", "vol_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hh", ",", " ", "rr", ",", " ", "\[Alpha]\[Alpha]", ",", " ", "vv", ",", 
      "eqn", ",", " ", "depth"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "hh", ",", " ", "rr", ",", " ", "\[Alpha]\[Alpha]", ",", " ", "vv", 
        ",", " ", "depth"}], "}"}], "=", 
      RowBox[{"genericFrustumDepthFromVolumeApex", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"depth", " ", "/.", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"rr", "\[Rule]", "rbig"}], ",", " ", 
        RowBox[{"\[Alpha]\[Alpha]", "\[Rule]", 
         RowBox[{"apexangle", "[", "f", "]"}]}], ",", " ", 
        RowBox[{"vv", "\[Rule]", "vol"}]}], "}"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume2", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], ",", 
    " ", "vol_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hh", ",", " ", "rrbig", ",", " ", "rrsmall", ",", " ", "vv", ",", "eqn",
       ",", " ", "depth"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", " ", 
       RowBox[{
       "hh", ",", " ", "rrbig", ",", " ", "rrsmall", ",", " ", "vv", ",", " ",
         "depth"}], " ", "}"}], " ", "=", " ", 
      RowBox[{"genericFrustumDepthFromVolumeCartesian", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"depth", " ", "/.", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"hh", " ", "\[Rule]", " ", "h"}], ",", " ", 
        RowBox[{"rrbig", " ", "\[Rule]", " ", "rbig"}], ",", " ", 
        RowBox[{"rrsmall", " ", "\[Rule]", " ", "rsmall"}], ",", " ", 
        RowBox[{"vv", " ", "\[Rule]", " ", "vol"}]}], " ", "}"}]}]}]}], " ", 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"generalFrustum", " ", "=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume1", "[", 
    RowBox[{"generalFrustum", ",", " ", "vol"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume2", "[", 
    RowBox[{"generalFrustum", ",", " ", "vol"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Module", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"d", " ", "=", " ", 
      RowBox[{"(", 
       RowBox[{"rbig", " ", "-", " ", "rsmall"}], ")"}]}], ",", " ", 
     RowBox[{"r1", " ", "=", " ", "%%"}], ",", " ", 
     RowBox[{"r2", " ", "=", "%"}], ",", " ", "fn", ",", " ", "rules"}], 
    "}"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"rules", " ", "=", " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"rbig", "^", "3"}], " ", "\[Rule]", " ", "t1"}], ",", " ", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{"rbig", " ", "-", " ", "rsmall"}], ")"}], " ", "\[Rule]", 
        " ", "t2"}], ",", " ", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "rbig"}], " ", "+", " ", "rsmall"}], ")"}], " ", 
        "\[Rule]", " ", 
        RowBox[{"-", "t2"}]}], ",", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "3"}], " ", "t2", " ", 
         RowBox[{"vol", " ", "/", "Pi"}]}], " ", "\[Rule]", " ", "t3"}]}], 
      "}"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"fn", " ", "=", " ", 
     RowBox[{"Function", "[", 
      RowBox[{"r", ",", " ", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Expand", "[", 
              RowBox[{
               RowBox[{"-", "r"}], " ", "*", " ", "d"}], "]"}], " ", "+", " ", 
             RowBox[{"h", " ", "rbig"}]}], ")"}], " ", "//.", " ", "rules"}], 
          ")"}], " ", ")"}], "^", "3"}]}], "]"}]}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"fn", "[", "r1", "]"}], " ", "/", " ", 
      RowBox[{"fn", "[", "r2", "]"}]}], " ", "//", " ", "FullSimplify"}]}]}], 
  "\[IndentingNewLine]", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], ",", 
    " ", "vol_"}], "]"}], " ", ":=", " ", 
  RowBox[{"depthFromVolume2", "[", 
   RowBox[{"f", ",", " ", "vol"}], 
   "]"}]}]}], "Input",ExpressionUUID->"c442ce4a-c298-4e09-bb63-0d154d36a9f8"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Testing", \
"Subsubsection",ExpressionUUID->"029e8a45-f9a9-4629-8d1c-8add93c5a0ed"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"1", ",", " ", "2", ",", " ", 
    RowBox[{"\[Pi]", "/", "9"}], ",", " ", "apexangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}]}], 
  "]"}]}], "Input",ExpressionUUID->"6983b8da-5f17-484d-aa8b-7fe0d57c19bd"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{
    RowBox[{"Sqrt", "[", "3", "]"}], ",", " ", "2", ",", " ", "1"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}]}], 
  "]"}]}], "Input",ExpressionUUID->"a3633461-f447-493d-886f-d7bf1fd06f05"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"1", ",", " ", "2", ",", " ", 
    RowBox[{"\[Pi]", "/", "6"}], ",", " ", "baseangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}]}], 
  "]"}]}], "Input",ExpressionUUID->"9469b866-a170-479c-bffc-09c629d76d17"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Inverted Right Conical Frustum", \
"Section",ExpressionUUID->"4abef672-6d13-4db3-9ba2-05eaaaca9187"],

Cell[CellGroupData[{

Cell["Conversion", \
"Subsection",ExpressionUUID->"a44dbb9e-4f84-41a7-9314-118087dcdce9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toFrustum", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"invert", " ", "@", " ", "f"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toFrustum", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invert", " ", "@", " ", "f"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toFrustum", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"h", ",", "rbig", ",", "\[Alpha]", ",", " ", "apexangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"h", ",", "rbig", ",", "\[Beta]", ",", " ", "baseangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"invert", "[", 
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"invertedFrustum", "[", 
    RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", "rbig", ",", "\[Alpha]", ",", " ", "apexangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], ":=", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", "rbig", ",", "\[Beta]", ",", " ", "baseangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], ":=", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], 
   "]"}]}]}], "Input",ExpressionUUID->"a6739c7b-9aa3-408a-b396-b2690d6ed6d0"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsection",ExpressionUUID->"6bd27bfc-088a-4c43-826b-ed60d96fef6a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"assumptions", " ", "@", " ", 
   RowBox[{"toFrustum", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"assumptions", " ", "@", " ", 
   RowBox[{"toFrustum", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"assumptions", " ", "@", " ", 
   RowBox[{"toFrustum", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", " ", "baseangle"}], 
     "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"6c850440-a99c-4b55-b888-141649243b86"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"apexangle", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"apexangle", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"apexangle", "[", 
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], ":=",
    " ", 
   RowBox[{"apexangle", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "f"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], " ", ":=", "  ", 
  RowBox[{"baseangle", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", "  ", 
  RowBox[{"baseangle", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"baseangle", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"baseangle", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "f"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"baseangle", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", "rbig_", ",", 
       RowBox[{"rbig_", "-", 
        RowBox[{"h_", " ", 
         RowBox[{"Cot", "[", "\[Beta]_", "]"}]}]}]}], "]"}]}], "]"}], " ", ":=",
    " ", 
   RowBox[{"baseangle", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "f"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"baseangle", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"{", " ", 
    RowBox[{
     RowBox[{"baseangle", "[", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{"1", ",", " ", "3", ",", " ", "2"}], "]"}], "]"}], ",", " ", 
     RowBox[{"baseangle", "[", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{
        RowBox[{"Sqrt", "[", "3", "]"}], ",", " ", "2", ",", " ", "1"}], 
       "]"}], "]"}]}], "}"}]}], 
  ";"}]}], "Input",ExpressionUUID->"9d77889b-b66e-4e32-ad01-73a2356200a7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  "h"}]}], "Input",ExpressionUUID->"fc0ab199-4944-422d-abf0-03a9b8b1ed6d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"rbig", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", "rbig"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rbig", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", "rbig"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rbig", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  "rbig"}]}], "Input",ExpressionUUID->"159566ea-f621-4ebc-9b99-ffb5a05acd10"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"rsmall", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"rsmall", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", "rsmall"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", "rbig_", ",", 
      RowBox[{"ArcTan", "[", 
       RowBox[{
        RowBox[{"rbig_", "-", "rsmall_"}], ",", "h_"}], "]"}], ",", 
      "baseangle"}], "]"}]}], "]"}], " ", ":=", " ", 
  "rsmall"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"rsmall", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Alpha]", ",", " ", "apexangle"}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"rsmall", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Beta]", ",", " ", "baseangle"}], "]"}],
     "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"rsmall", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "rsmall"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"4e013663-8fe4-4fb2-998f-23685bb7b498"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Conversion Redux", \
"Subsection",ExpressionUUID->"0c9bbe4a-5396-4604-99ea-159316c172f2"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toInvertedFrustum", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"h", ",", "rbig", ",", 
    RowBox[{"rsmall", "[", "f", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toInvertedFrustum", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"h", ",", "rbig", ",", 
    RowBox[{"rsmall", "[", "f", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toInvertedFrustum", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", "f"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"toInvertedFrustum", " ", "@", " ", "f"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", "  ", 
  RowBox[{"toInvertedFrustum", " ", "@", " ", "f"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toCartesian", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", "  ", 
   RowBox[{"toInvertedFrustum", " ", "@", " ", "f"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", "f"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invert", " ", "@", " ", 
   RowBox[{"toApexAngled", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "f"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toApexAngled", "[", 
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"invert", " ", "@", " ", 
    RowBox[{"toApexAngled", " ", "@", " ", 
     RowBox[{"invert", " ", "@", " ", "f"}]}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], " ", ":=", 
  RowBox[{"invert", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "f"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], " ", ":=", " ", "f"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"invert", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", " ", 
    RowBox[{
    "invert", " ", "@", " ", 
     "f"}]}]}]}]}], \
"Input",ExpressionUUID->"0fc7b618-398f-4d0b-8cb0-7c7140151c28"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", " ", "baseangle"}], 
     "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", " ", "%"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", " ", "@", " ", "%%"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toFrustum", " ", "@", "  ", "%"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", "  ", "%%"}]}], 
  ";"}]}], "Input",ExpressionUUID->"9a49d2f5-699c-46e5-9635-bebd7475483a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", "%"}]}], 
  ";"}]}], "Input",ExpressionUUID->"e67e3e6f-7525-4885-ba45-105b17c2b4fe"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsection",ExpressionUUID->"2e148289-c93a-41ab-80b4-44302a74b6f3"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"coneHeight", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], ":=", 
  RowBox[{"coneHeight", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"coneHeight", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
     "]"}]}], "]"}], ":=", 
  RowBox[{"coneHeight", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"coneHeight", "[", 
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"coneHeight", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "f"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Alpha]", ",", "apexangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Beta]", ",", "baseangle"}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", " ", "@", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Beta]", ",", "baseangle"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "@", " ", "%"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "rsmall"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"1", ",", " ", "3", ",", " ", "2"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"27591bf7-9ef8-4594-9ce2-efca44bec860"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"volume", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
      "]"}]}], "]"}], ":=", " ", 
   RowBox[{"volume", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "f"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"v", "=", 
    RowBox[{"test", " ", "@", " ", 
     RowBox[{"volume", "[", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{"h", ",", "r1", ",", "r2"}], "]"}], "]"}]}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"compare", " ", "to", " ", "textbook", " ", "answer", " ", 
    FractionBox["1", "3"], " ", "h", " ", "\[Pi]", " ", 
    RowBox[{"(", 
     RowBox[{
      SuperscriptBox["r1", "2"], "+", 
      RowBox[{"r1", " ", "r2"}], "+", 
      SuperscriptBox["r2", "2"]}], ")"}]}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"v\[Alpha]", "=", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volume", "[", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h", ",", "r", ",", "\[Alpha]", ",", "apexangle"}], "]"}], 
     "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", "r", ",", "\[Alpha]", ",", "apexangle"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"v\[Alpha]2", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volume", "[", "%", "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"v\[Beta]", "=", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volume", "[", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h", ",", " ", "r", ",", " ", "\[Beta]", ",", "baseangle"}], 
      "]"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"(", 
    RowBox[{"v", " ", "/.", " ", 
     RowBox[{"r2", " ", "\[Rule]", " ", "0"}]}], ")"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Clear", "[", 
  RowBox[{
  "v", ",", " ", "v\[Alpha]", ",", " ", "v\[Alpha]2", ",", " ", "v\[Beta]"}], 
  "]"}]}], "Input",ExpressionUUID->"b09bcd68-9242-4bc6-8b04-967425f89911"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height and Depth", \
"Subsection",ExpressionUUID->"8ce40834-2472-4c56-8326-bb706fce6494"],

Cell[CellGroupData[{

Cell["Final", \
"Subsubsection",ExpressionUUID->"76d92242-8e9e-4b2d-a7ac-1e0bf8f558c0"],

Cell["\<\
We\[CloseCurlyQuote]re looking for a frustum with same base angle and bottom \
radius, but different height\
\>", "Text",ExpressionUUID->"b88b6e30-dfce-4e40-bc46-8b4f702e0cc8"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", "apexangle"}],
       "]"}]}], ",", " ", "vol_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"h", " ", "-", " ", 
      RowBox[{"depthFromVolume", "[", 
       RowBox[{
        RowBox[{"invert", " ", "@", " ", "f"}], ",", " ", 
        RowBox[{
         RowBox[{"volume", "[", "f", "]"}], " ", "-", " ", "vol"}]}], "]"}]}],
      " ", "//", " ", "FullSimplify"}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"generalApexInvertedFrustum", " ", "=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"h", ",", " ", "r", ",", " ", "\[Alpha]", ",", " ", "apexangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"generalApexInvertedFrustum", ",", " ", "vol"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"b76358fa-6ec1-4a0f-9f5b-4c4dbe21c318"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], ",", 
    " ", "vol_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"h", " ", "-", " ", 
      RowBox[{"depthFromVolume", "[", 
       RowBox[{
        RowBox[{"invert", " ", "@", " ", "f"}], ",", " ", 
        RowBox[{
         RowBox[{"volume", "[", "f", "]"}], " ", "-", " ", "vol"}]}], "]"}]}],
      " ", "//", " ", "FullSimplify"}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"generalInvertedFrustum", " ", "=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"generalInvertedFrustum", ",", " ", "vol"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"8880093b-40ed-4eae-a1d1-55a8cac3403f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", "baseangle"}], 
      "]"}]}], ",", " ", "vol_"}], "]"}], " ", ":=", "  ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hh", ",", " ", "rr", ",", " ", "\[Alpha]\[Alpha]", ",", " ", "vv", ",", 
      "eqn", ",", " ", "soln"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"h", " ", "-", " ", 
      RowBox[{"depthFromVolume", "[", 
       RowBox[{
        RowBox[{"invert", " ", "@", " ", "f"}], ",", " ", 
        RowBox[{
         RowBox[{"volume", "[", "f", "]"}], " ", "-", " ", "vol"}]}], "]"}]}],
      " ", "//", " ", "FullSimplify"}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"generalBaseInvertedFrustum", " ", "=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"h", ",", " ", "r", ",", " ", "\[Beta]", ",", " ", "baseangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"generalBaseInvertedFrustum", ",", " ", "vol"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"cf8736a0-5887-43bb-b7e7-5b38b0302886"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Testing", \
"Subsubsection",ExpressionUUID->"b6c4142e-bea3-4d55-8a3d-384a58bbff9f"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"1", ",", " ", "2", ",", " ", 
    RowBox[{"\[Pi]", "/", "9"}], ",", " ", "apexangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}]}], 
  "]"}]}], "Input",ExpressionUUID->"d33dea15-52d3-4fc6-b5eb-56f252c6effe"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{
    RowBox[{"Sqrt", "[", "3", "]"}], ",", " ", "2", ",", " ", "1"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}]}], 
  "]"}]}], "Input",ExpressionUUID->"35eda6f6-5a57-4e30-a8af-0a0babe5e1e3"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"1", ",", " ", "2", ",", " ", 
    RowBox[{"\[Pi]", "/", "6"}], ",", " ", "baseangle"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}]}], 
  "]"}]}], "Input",ExpressionUUID->"24e450ff-cbe2-4280-b8a6-5197e3d08812"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Sphere", \
"Section",ExpressionUUID->"1ead60c1-12fc-453a-9457-f039712bc9ae"],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsection",ExpressionUUID->"43c50766-aa40-48a9-87b0-b53a97a95ffe"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"sphere", "[", "r_", "]"}], "]"}], " ", ":=", " ", 
  RowBox[{"r", " ", "\[GreaterEqual]", " ", "0"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radius", "[", 
   RowBox[{"sphere", "[", "r_", "]"}], "]"}], " ", ":=", " ", 
  "r"}]}], "Input",ExpressionUUID->"941587b9-4acf-4fe0-a3ce-67831e958b61"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsection",ExpressionUUID->"1eeb0226-8dd2-45b7-a42d-660021b4c4cc"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"sphere", "[", "r_", "]"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "\[Alpha]", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"4", " ", "/", "3"}], " ", "Pi", " ", 
     RowBox[{"r", "^", "3"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"sphere", "[", "r", "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"825d670a-9fb3-4d5f-8adf-18cac6a5ea3e"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Inverted Spherical Cap", \
"Section",ExpressionUUID->"afb309d6-ed63-4f25-b6e0-46197bc8c39d"],

Cell[TextData[{
 "See ",
 ButtonBox["http://mathworld.wolfram.com/SphericalCap.html",
  BaseStyle->"Hyperlink",
  ButtonData->{
    URL["http://mathworld.wolfram.com/SphericalCap.html"], None},
  ButtonNote->"http://mathworld.wolfram.com/SphericalCap.html"],
 ". By \[OpenCurlyQuote]inverted\[CloseCurlyQuote] spherical cap, we mean a \
cap on the bottom of the sphere instead of the top."
}], "Text",ExpressionUUID->"213cd0d6-0329-4b41-862e-4a12460203e4"],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsection",ExpressionUUID->"3c38b2ea-a031-4b2c-afe6-a7e730e87019"],

Cell[BoxData[
 RowBox[{"Solve", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"r", " ", "-", "h"}], " ", "\[Equal]", " ", 
    RowBox[{"r", " ", 
     RowBox[{"Sin", "[", "\[Alpha]", "]"}]}]}], ",", " ", "h"}], 
  "]"}]], "Input",ExpressionUUID->"a86e8c04-51b8-4acd-85d2-43ec61d970cd"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"invertedSphericalCap", "[", 
    RowBox[{"r_", ",", "h_"}], "]"}], "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"r", " ", ">", " ", "0"}], " ", "&&", " ", 
   RowBox[{"h", " ", ">", " ", "0"}], " ", "&&", " ", 
   RowBox[{"r", " ", "\[GreaterEqual]", " ", "h"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"assumptions", "[", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"r_", ",", " ", "\[Alpha]_", ",", " ", "angled"}], "]"}], "]"}], 
   " ", ":=", " ", 
   RowBox[{
    RowBox[{"r", " ", ">", " ", "0"}], " ", "&&", " ", 
    RowBox[{"\[Alpha]", " ", "\[GreaterEqual]", " ", "0"}], " ", "&&", " ", 
    RowBox[{"\[Alpha]", " ", "<", " ", 
     RowBox[{"\[Pi]", "/", "2"}]}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radius", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"r_", ",", "h_"}], "]"}]}], "]"}], " ", ":=", " ", 
  "r"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"r_", ",", "h_"}], "]"}]}], "]"}], " ", ":=", " ", 
  "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"angle", "[", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"r_", ",", "h_"}], "]"}], "]"}], " ", ":=", " ", 
   RowBox[{"ArcSin", "[", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"r", " ", "-", "h"}], ")"}], " ", "/", " ", "r"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radius", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"r_", ",", " ", "\[Alpha]_", ",", " ", "angled"}], "]"}]}], 
   "]"}], " ", ":=", " ", "r"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"r_", ",", " ", "\[Alpha]_", ",", " ", "angled"}], "]"}]}], 
   "]"}], " ", ":=", " ", 
  RowBox[{"r", " ", "-", " ", 
   RowBox[{"r", " ", 
    RowBox[{"Sin", "[", "\[Alpha]", "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"angle", "[", 
   RowBox[{"invertedSphericalCap", "[", 
    RowBox[{"r_", ",", " ", "\[Alpha]_", ",", " ", "angled"}], "]"}], "]"}], 
  " ", ":=", " ", 
  "\[Alpha]"}]}], \
"Input",ExpressionUUID->"47b10a0d-9ea7-4463-b5b1-3fb8e1c0de63"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Conversion", \
"Subsection",ExpressionUUID->"0da3eefa-92cc-4061-b6d4-fdefc6c9312a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"r_", ",", "h_"}], "]"}]}], "]"}], " ", ":=", " ", 
  "c"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"toAngled", "[", 
     RowBox[{"c", ":", 
      RowBox[{"invertedSphericalCap", "[", 
       RowBox[{"r_", ",", "h_"}], "]"}]}], "]"}], " ", ":=", " ", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"r", ",", " ", 
      RowBox[{"angle", "[", "c", "]"}], ",", " ", "angle"}], "]"}]}], ",", 
   " ", 
   RowBox[{"assumptions", "[", "c", "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toCartesian", "[", 
    RowBox[{"c", ":", 
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"r_", ",", "\[Alpha]_", ",", " ", "angled"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"invertedSphericalCap", "[", 
    RowBox[{"r", ",", " ", 
     RowBox[{"height", "[", "c", "]"}]}], "]"}]}], ",", " ", 
  RowBox[{"assumptions", "[", "c", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toAngled", "[", 
    RowBox[{"c", ":", 
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"r_", ",", "\[Alpha]_", ",", " ", "angled"}], "]"}]}], "]"}], 
   " ", ":=", " ", "c"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"r", ",", " ", "\[Alpha]", ",", " ", "angled"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toAngled", " ", "@", " ", 
    RowBox[{"toCartesian", " ", "@", " ", 
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"r", ",", " ", "\[Alpha]", ",", " ", "angled"}], "]"}]}]}]}], 
  ";"}]}], "Input",
 EmphasizeSyntaxErrors->
  True,ExpressionUUID->"859f4ea1-c099-4765-816d-194b0a8cea71"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsection",ExpressionUUID->"d3a51adf-f58c-4c99-a82c-c3ac6a4381fc"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"invertedSphericalCap", "[", 
    RowBox[{"r_", ",", "h_"}], "]"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{
      RowBox[{"http", ":"}], "//", 
      RowBox[{
       RowBox[{"mathworld", ".", "wolfram", ".", "com"}], "/", 
       RowBox[{"SphericalCap", ".", "html"}]}]}], " ", "*)"}], 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"\[Pi]", "/", "3"}], " ", "*", " ", 
     RowBox[{"h", "^", "2"}], " ", "*", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"3", "r"}], " ", "-", " ", "h"}], ")"}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"invertedSphericalCap", "[", 
    RowBox[{"r_", ",", " ", "\[Alpha]_", ",", " ", "angled"}], "]"}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"\[Pi]", "/", "3"}], "  ", 
     RowBox[{"r", "^", "3"}], "  ", 
     RowBox[{"(", 
      RowBox[{"2", " ", "-", " ", 
       RowBox[{"3", " ", 
        RowBox[{"Sin", "[", "\[Alpha]", "]"}]}], " ", "+", " ", 
       RowBox[{
        RowBox[{"Sin", "[", "\[Alpha]", "]"}], "^", "3"}]}], ")"}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"r", ",", "h"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"r", ",", "\[Alpha]", ",", " ", "angled"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"495e4c66-df96-4a2e-9c00-ba6606b78bbf"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height and Depth", \
"Subsection",ExpressionUUID->"c1c737a5-b65a-44cb-ad6e-6d5143098635"],

Cell[CellGroupData[{

Cell["Final", \
"Subsubsection",ExpressionUUID->"db19f0a4-e4df-430f-a02b-97e435ea307d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"genericSphericalCapDepthFromVolumeCartesian", "[", "]"}], " ", ":=",
   " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "cap", ",", " ", "r", ",", " ", "h", ",", " ", "vol", ",", "a", ",", " ",
       "eqn", ",", " ", "solns", ",", " ", "soln"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"cap", " ", "=", " ", 
      RowBox[{"invertedSphericalCap", "[", 
       RowBox[{"r", ",", "h"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"a", " ", "=", " ", 
      RowBox[{
       RowBox[{"assumptions", "[", "cap", "]"}], "  ", "&&", " ", 
       RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], " ", ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqn", " ", "=", " ", 
      RowBox[{"vol", " ", "\[Equal]", " ", 
       RowBox[{"volume", "[", "cap", "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Assuming", "[", 
       RowBox[{"a", ",", " ", 
        RowBox[{"Solve", "[", 
         RowBox[{"eqn", ",", " ", "h"}], "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"soln", " ", "=", " ", 
      RowBox[{"h", " ", "/.", " ", 
       RowBox[{"solns", "[", 
        RowBox[{"[", "3", "]"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"genericSphericalCapDepthFromVolumeCartesian", "[", "]"}], " ", 
      "=", " ", 
      RowBox[{"{", 
       RowBox[{"h", ",", "r", " ", ",", "vol", ",", "soln"}], "}"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"genericSphericalCapDepthFromVolumeCartesian", "[", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"b8de25c2-2fe5-4b2b-9d66-79574ce8bebf"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"not", " ", "used"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"genericSphericalCapDepthFromVolumeAngled", "[", "]"}], " ", ":=",
     " ", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "cap", ",", " ", "r", ",", " ", "\[Alpha]", ",", " ", "vol", ",", "a", 
        ",", " ", "eqn", ",", " ", "solns", ",", " ", "soln"}], "}"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"cap", " ", "=", " ", 
        RowBox[{"invertedSphericalCap", "[", 
         RowBox[{"r", ",", " ", "\[Alpha]", ",", " ", "angled"}], "]"}]}], 
       ";", "\[IndentingNewLine]", 
       RowBox[{"a", " ", "=", " ", 
        RowBox[{
         RowBox[{"assumptions", "[", "cap", "]"}], " ", "&&", " ", 
         RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"eqn", " ", "=", " ", 
        RowBox[{"vol", " ", "\[Equal]", " ", 
         RowBox[{"volume", "[", "cap", "]"}]}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"solns", " ", "=", " ", 
        RowBox[{"Assuming", "[", 
         RowBox[{"a", ",", " ", 
          RowBox[{"Solve", "[", 
           RowBox[{"eqn", ",", " ", "\[Alpha]"}], "]"}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"\[Alpha]", " ", "/.", " ", "#"}], " ", "/.", " ", 
             RowBox[{
              RowBox[{"C", "[", "1", "]"}], " ", "\[Rule]", " ", "0"}]}], 
            ")"}], " ", "&"}], " ", "/@", "solns"}], ")"}], " ", "[", 
        RowBox[{"[", 
         RowBox[{"{", 
          RowBox[{"4", ",", "6"}], "}"}], "]"}], "]"}]}]}], " ", 
     RowBox[{"(*", " ", 
      RowBox[{
       RowBox[{"4", " ", "&"}], " ", "6", " ", "are", " ", "empirical"}], 
      "*)"}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"test", " ", "@", " ", 
     RowBox[{"genericSphericalCapDepthFromVolumeAngled", "[", "]"}]}], 
    ";"}]}]}]], \
"Input",ExpressionUUID->"afb9706b-c5a5-449a-af8b-93cb7fc63d58"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"r_", ",", " ", "\[Alpha]_", ",", " ", "angled"}], "]"}]}], ",",
     " ", "v_"}], "]"}], " ", ":=", " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"toCartesian", " ", "@", " ", "c"}], ",", " ", "v"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"r_", ",", " ", "h_"}], "]"}]}], ",", " ", "v_"}], "]"}], ":=", 
  " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"rr", ",", " ", "hh", ",", " ", "vol", ",", " ", "soln"}], "}"}],
     ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"assert", "[", 
      RowBox[{"assumptions", "[", "c", "]"}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"hh", ",", " ", "rr", ",", " ", "vol", ",", " ", "soln"}], 
       "}"}], " ", "=", " ", 
      RowBox[{"genericSphericalCapDepthFromVolumeCartesian", "[", "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"(", 
      RowBox[{"soln", "  ", "/.", " ", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"rr", " ", "\[Rule]", " ", "r"}], ",", " ", 
         RowBox[{"hh", "\[Rule]", " ", "h"}], ",", " ", 
         RowBox[{"vol", "\[Rule]", "v"}]}], "}"}]}], ")"}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"2", ",", "1"}], "]"}], ",", " ", "volume"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"%", " ", "/.", " ", 
   RowBox[{"volume", " ", "\[Rule]", " ", "1"}]}], " ", "//", " ", 
  "N"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"r", ",", "h"}], "]"}], ",", " ", "volume"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"N", " ", "@", " ", 
  "%"}]}], "Input",ExpressionUUID->"89979e70-9edb-403e-bd8d-58a960b500fc"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Testing", \
"Subsubsection",ExpressionUUID->"bb07049c-189c-40ea-8a60-891170bb864c"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"invertedSphericalCap", "[", 
   RowBox[{"2", ",", " ", "1"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}]}], 
  "]"}]}], "Input",ExpressionUUID->"53fd61fa-d164-4f12-a815-97b811c98e57"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Conical Test Tube", \
"Section",ExpressionUUID->"967a35e4-132d-4ff9-8042-e556dba23c67"],

Cell["\<\
Our model of a conical test tube is an \[OpenCurlyDoubleQuote]cylindrical\
\[CloseCurlyDoubleQuote] inverted frustum on top of a \
\[OpenCurlyDoubleQuote]conical\[CloseCurlyDoubleQuote] inverted frustum on \
top of an inverted spherical cap\
\>", "Text",ExpressionUUID->"fe7535a4-c736-45e5-8aac-15e3eb232a3e"],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsection",ExpressionUUID->"d214103c-72b1-450e-84fa-ca37f32f037f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toCanonical", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"conicalTestTube", "[", 
     RowBox[{"cylindrical_", ",", " ", "conical_", ",", " ", "cap_"}], 
     "]"}]}], "]"}], " ", ":=", " ", "c"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCanonical", "[", 
   RowBox[{"conicalTestTube", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"idTop_", ",", " ", "idHip_", ",", " ", "idBottom_"}], "}"}], 
     ",", " ", 
     RowBox[{"{", 
      RowBox[{"hTop_", ",", " ", "hBottomAndCap_"}], "}"}]}], "]"}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"conicalTestTube", "[", " ", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"TODO", ":", " ", 
     RowBox[{
     "use", " ", "cylinders", " ", "when", " ", "we", " ", "need", " ", 
      "to"}]}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"hTop", ",", " ", 
      RowBox[{"idTop", " ", "/", "2"}], " ", ",", " ", 
      RowBox[{"idHip", " ", "/", "2"}]}], " ", "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
      RowBox[{"hBottomAndCap", " ", "-", " ", "idBottom"}], ",", " ", 
      RowBox[{"idHip", " ", "/", "2"}], " ", ",", " ", 
      RowBox[{"idBottom", " ", "/", "2"}]}], " ", "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"cap", " ", "=", " ", 
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{
       RowBox[{"idBottom", " ", "/", "2"}], ",", " ", 
       RowBox[{"idBottom", " ", "/", "2"}]}], " ", "]"}]}]}], 
   "\[IndentingNewLine]", 
   "]"}]}]}], "Input",ExpressionUUID->"2cbb8f62-f04b-44b9-acb6-1a690f8dadca"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"parts", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"conicalTestTube", "[", 
     RowBox[{"cylindrical_", ",", " ", "conical_", ",", " ", "cap_"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<cylindrical\>\"", " ", "\[Rule]", " ", "cylindrical"}], ",",
      " ", 
     RowBox[{"\"\<conical\>\"", " ", "\[Rule]", " ", "conical"}], ",", 
     RowBox[{"\"\<cap\>\"", " ", "\[Rule]", " ", "cap"}]}], "}"}], " ", "//", 
   " ", "Association"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"parts", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"conicalTestTube", "[", 
     RowBox[{
     "idTop_", ",", " ", "idHip_", ",", " ", "idBottom_", ",", " ", "hTop_", 
      ",", " ", "hBottom_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"parts", " ", "@", " ", 
   RowBox[{"toCanonical", " ", "@", " ", "c"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"parts", "[", 
    RowBox[{"toCanonical", " ", "@", " ", 
     RowBox[{"conicalTestTube", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"idTop", ",", " ", "idHip", ",", " ", "idBottom"}], "}"}], 
       ",", " ", 
       RowBox[{"{", 
        RowBox[{"hTop", ",", " ", "hBottom"}], "}"}]}], "]"}]}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"2b675a98-92e5-4d58-902c-fbcba2ab3ef3"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsection",ExpressionUUID->"4f113e69-1ecf-4cc8-ab3c-4e98b563a2b5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"conicalTestTube", "[", 
     RowBox[{"cylindrical_", ",", " ", "conical_", ",", " ", "cap_"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Total", "[", 
   RowBox[{"volume", " ", "/@", " ", 
    RowBox[{"parts", "[", "c", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"conicalTestTube", "[", 
     RowBox[{
     "idTop_", ",", " ", "idHip_", ",", " ", "idBottom_", ",", " ", "hTop_", 
      ",", " ", "hBottom_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{
   "toCanonical", " ", "@", " ", 
    "c"}]}]}]}], \
"Input",ExpressionUUID->"f5703848-b5c9-430c-bc74-ae1eff4b1104"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height & Depth", \
"Subsection",ExpressionUUID->"ab29c13f-e0b2-4600-a57c-344fddd1a9c6"],

Cell[CellGroupData[{

Cell["Math", \
"Subsubsection",ExpressionUUID->"ae0128c3-5404-48a4-a82b-f4111e8b5c39"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"conicalTestTube", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"idTop_", ",", " ", "idHip_", ",", " ", "idBottom_"}], "}"}], 
       ",", " ", 
       RowBox[{"{", 
        RowBox[{"hTop_", ",", " ", "hBottom_"}], "}"}]}], "]"}]}], ",", " ", 
    "v_"}], "]"}], " ", ":=", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"toCanonical", " ", "@", " ", "c"}], ",", " ", "v"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"conicalTestTube", "[", 
      RowBox[{"cylindrical_", ",", " ", "conical_", ",", " ", "cap_"}], 
      "]"}]}], ",", " ", "v_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "vCylindrical", ",", " ", "vConical", ",", " ", "vCap", ",", " ", 
      "dFromCap", ",", " ", "dFromConical", ",", " ", "dOther", ",", " ", 
      "result"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"vCap", " ", "=", " ", 
      RowBox[{"volume", "[", "cap", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"vConical", " ", "=", " ", 
      RowBox[{"volume", "[", "conical", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"dFromCap", " ", "=", " ", 
      RowBox[{"depthFromVolume", "[", 
       RowBox[{"cap", ",", " ", "v"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"dFromConical", " ", "=", " ", 
      RowBox[{
       RowBox[{"height", "[", "cap", "]"}], " ", "+", " ", 
       RowBox[{"depthFromVolume", "[", 
        RowBox[{"conical", ",", " ", 
         RowBox[{"v", " ", "-", " ", "vCap"}]}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"dOther", " ", "=", " ", 
      RowBox[{
       RowBox[{"height", "[", "cap", "]"}], " ", "+", " ", 
       RowBox[{"height", "[", "conical", "]"}], " ", "+", " ", 
       RowBox[{"depthFromVolume", "[", 
        RowBox[{"cylindrical", ",", " ", 
         RowBox[{"v", " ", "-", " ", "vCap", " ", "-", " ", "vConical"}]}], 
        "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Piecewise", "[", "\[IndentingNewLine]", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"dFromCap", ",", " ", 
          RowBox[{"v", " ", "\[LessEqual]", " ", "vCap"}]}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"dFromConical", ",", " ", 
          RowBox[{"v", " ", "\[LessEqual]", " ", "vConical"}]}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"dOther", ",", " ", "True"}], "}"}]}], "\[IndentingNewLine]",
        "}"}], "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",ExpressionUUID->"822c7c9a-45a1-4985-9e6a-a5d25a917edd"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Examples", \
"Subsection",ExpressionUUID->"7ede1e2a-f44b-446a-b011-142b40917c16"],

Cell[CellGroupData[{

Cell["Biorad", \
"Subsubsection",ExpressionUUID->"a938fd0a-adb3-409a-98e7-d3a6b802f0a3"],

Cell["\<\
The Bio-rad specs aren\[CloseCurlyQuote]t internally consistent: there\
\[CloseCurlyQuote]s a conflict between the well diameters and height vs the \
well angle.\
\>", "Text",ExpressionUUID->"2a9f73b4-c02a-40c1-869c-ac93770c855b"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "cone", ",", " ", "\[Alpha]", ",", " ", "rsmall", ",", " ", "rbig", ",", 
      " ", "hOverall", ",", " ", "h"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"\[Alpha]", " ", "=", " ", 
      RowBox[{
       RowBox[{"toRadian", "[", "17.5", "]"}], "/", "2"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"rsmall", "=", 
      RowBox[{"2.64", " ", "/", " ", "2"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"rbig", " ", "=", " ", 
      RowBox[{"5.46", " ", "/", " ", "2"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"hOverall", " ", "=", " ", "14.81"}], ";", "\[IndentingNewLine]", 
     RowBox[{"h", " ", "=", " ", "14.66"}], ";", " ", 
     RowBox[{"(*", " ", 
      RowBox[{
      "from", " ", "a", " ", "previous", " ", "call", " ", "to", " ", 
       "Solve"}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"conicalTestTube", "[", 
      RowBox[{
       RowBox[{"cylinder", "[", 
        RowBox[{
         RowBox[{"hOverall", " ", "-", " ", "h"}], ",", " ", "rbig"}], "]"}], 
       ",", 
       RowBox[{"invertedFrustum", "[", 
        RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], ",", 
       RowBox[{"emptyCylinder", "[", "]"}]}], "]"}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"volume", " ", "@", " ", "example"}], "\[IndentingNewLine]", 
 RowBox[{"Solve", "[", 
  RowBox[{
   RowBox[{"%", " ", "\[Equal]", " ", "200"}], ",", " ", "h"}], 
  "]"}]}], "Input",ExpressionUUID->"06246661-95db-4c13-bfeb-5eefb8c38b8c"],

Cell["\<\
If we honor the well angle, then the well diameter at opening is too small. \
Maybe we can\[CloseCurlyQuote]t ignore the cap?\
\>", "Text",ExpressionUUID->"160ae24a-9335-450c-891e-4596f5643228"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "f", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"f", " ", "=", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{"h", ",", " ", "rbig", ",", " ", 
        RowBox[{
         RowBox[{"toRadian", "[", "17.5", "]"}], "/", "2"}], ",", " ", 
        "apexangle"}], "]"}]}], ";", " ", "\[IndentingNewLine]", " ", 
     RowBox[{"conicalTestTube", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"cylinder", "[", 
        RowBox[{
         RowBox[{"14.81", " ", "-", "h"}], ",", " ", "rbig"}], "]"}], ",", 
       "\[IndentingNewLine]", "f", ",", "\[IndentingNewLine]", 
       RowBox[{"emptyCylinder", "[", "]"}]}], "]"}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", " ", "@", " ", "example"}], " ", "\[Equal]", " ", 
  "200"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{
    RowBox[{"parts", "[", "example", "]"}], "[", "\"\<conical\>\"", "]"}], 
   "]"}], " ", "\[Equal]", " ", 
  RowBox[{"2.64", "/", "2"}]}], "\[IndentingNewLine]", 
 RowBox[{"Solve", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"%%", ",", " ", "%"}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"rbig", ",", "h"}], "}"}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"%", "[", 
  RowBox[{"[", "2", "]"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"example", " ", "/.", " ", "%"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rbig", "[", 
   RowBox[{
    RowBox[{"parts", "[", "example", "]"}], "[", "\"\<conical\>\"", "]"}], 
   "]"}], " ", "*", " ", "2"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radius", "[", 
   RowBox[{
    RowBox[{"parts", "[", "example", "]"}], "[", "\"\<cylindrical\>\"", "]"}],
    "]"}], " ", "*", " ", 
  "2"}]}], "Input",ExpressionUUID->"cc359633-ac13-471f-98cd-b4e627c9935a"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Falcon", \
"Subsubsection",ExpressionUUID->"538021f0-7c84-4b41-88de-a1cf7115330c"],

Cell["We have some empirical data for the 15mL Falcon tube.", \
"Text",ExpressionUUID->"9cffa962-d8f4-445c-9000-7c96089d0960"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"hBase", " ", "=", " ", "34.93"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"goodFalconData", " ", "=", " ", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"1000", ",", " ", "19.78"}], "}"}], ","}], "*)"}], " ", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"2000", ",", " ", "28.02"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"3000", ",", " ", "hBase"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"500", ",", " ", "15.19"}], "}"}], ",", " ", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"1000", ",", " ", "19.99"}], "}"}], ","}], "*)"}], " ", 
        RowBox[{"{", 
         RowBox[{"50", ",", "5.13"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"100", ",", "7.26"}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"200", ",", " ", "10.01"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"150", ",", " ", "9.00"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"300", ",", " ", "12.11"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"600", ",", " ", "16.49"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"1200", ",", " ", "22.40"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"1800", ",", " ", "26.60"}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"400", ",", " ", "14.03"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"500", ",", " ", "14.97"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"700", ",", " ", "17.78"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"800", ",", " ", "18.57"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"900", ",", " ", "19.40"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"1500", ",", " ", "24.12"}], "}"}]}], "\[IndentingNewLine]", 
       "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"okFalconData", " ", "=", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"100", ",", " ", "6.96"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"150", ",", " ", "8.79"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"300", ",", " ", "11.75"}], "}"}], ",", " ", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"450", ",", " ", "14.32"}], "}"}], ","}], "*)"}], " ", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"600", ",", " ", "15.89"}], "}"}], ","}], "*)"}], " ", 
        RowBox[{"{", 
         RowBox[{"750", ",", " ", "18.04"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"900", ",", " ", "19.48"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"1050", ",", " ", "20.95"}], "}"}]}], 
       RowBox[{"(*", 
        RowBox[{",", " ", 
         RowBox[{"{", 
          RowBox[{"1200", ",", " ", "20.51"}], "}"}]}], "*)"}], 
       "\[IndentingNewLine]", "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"upperFalconData", " ", "=", " ", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"4000", ",", " ", 
          RowBox[{"hBase", " ", "+", " ", "7.23"}]}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"6000", ",", " ", 
          RowBox[{"hBase", " ", "+", "20.60"}]}], "}"}], " ", ",", " ", 
        RowBox[{"{", 
         RowBox[{"12000", ",", " ", 
          RowBox[{"hBase", " ", "+", " ", "57.66"}]}], "}"}]}], 
       "\[IndentingNewLine]", "}"}]}]}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"ListPlot", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"goodFalconData", ",", " ", "okFalconData"}], "}"}], ",", " ", 
   RowBox[{"ImageSize", "\[Rule]", "Large"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<vol\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"PlotRange", "\[Rule]", "All"}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"ListPlot", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "goodFalconData", ",", " ", "okFalconData", ",", " ", "upperFalconData"}],
     "}"}], ",", " ", 
   RowBox[{"ImageSize", "\[Rule]", "Large"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<vol\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"PlotRange", "\[Rule]", "All"}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"falconData", " ", "=", " ", 
  RowBox[{"Union", "[", 
   RowBox[{
   "goodFalconData", " ", "~", "Join", "~", " ", "okFalconData", " ", "~", 
    "Join", "~", " ", "upperFalconData"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"conicalFalconData", " ", "=", " ", 
  RowBox[{"Select", "[", 
   RowBox[{"falconData", ",", " ", 
    RowBox[{
     RowBox[{
      RowBox[{"#", "[", 
       RowBox[{"[", "1", "]"}], "]"}], " ", "\[LessEqual]", " ", "875"}], 
     "&"}]}], "]"}]}]}], \
"Input",ExpressionUUID->"459936ce-da21-4400-a130-ac179bbf79ca"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"fitFalconData", "[", "data_", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "threshold", ",", " ", "conicalData", ",", "cylinderData", ",", " ", 
      "conePart", ",", "genericDepth", ",", " ", "hCone", ",", " ", "rmid", 
      ",", " ", "rbottom", ",", " ", "errors", ",", " ", "err", ",", " ", 
      "min", ",", " ", "coneRules", ",", " ", "angledCone", ",", " ", 
      "cylinderPart", ",", " ", "hCyl", ",", " ", "rtop", ",", " ", 
      "cylinderRules", ",", " ", "angledCylinder", ",", " ", 
      "\[CapitalDelta]vol", ",", " ", "\[CapitalDelta]h", ",", " ", "vMin", 
      ",", " ", "hMin", ",", " ", "offsetCylinderData", ",", " ", "falcon", 
      ",", " ", "\[Alpha]", ",", " ", "fassumpts", ",", " ", "falconRules", 
      ",", " ", "first", ",", " ", "second", ",", " ", "hTot"}], "}"}], ",", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{"first", ",", " ", 
      RowBox[{"fit", " ", "the", " ", 
       RowBox[{"cone", ".", " ", "this"}], " ", "gives", " ", "us", " ", 
       "the", " ", "apex", " ", "angle", " ", "and", " ", "rbottom"}]}], " ", 
     "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"conicalData", " ", "=", " ", 
      RowBox[{"Select", "[", 
       RowBox[{"data", ",", " ", 
        RowBox[{
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], " ", "\[LessEqual]", " ", "1000"}],
          "&"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"conePart", " ", "=", " ", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{"hCone", ",", " ", "rmid", ",", " ", "rbottom"}], "]"}]}], ";",
      "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"genericDepth", "[", "part_", "]"}], " ", ":=", " ", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"expr", ",", " ", "v"}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"expr", " ", "=", " ", 
          RowBox[{"depthFromVolume", "[", 
           RowBox[{"part", ",", " ", "v"}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"genericDepth", "[", "part", "]"}], " ", "=", " ", 
          RowBox[{"Function", "[", 
           RowBox[{
            RowBox[{"{", "vol", "}"}], ",", " ", 
            RowBox[{"expr", " ", "/.", " ", 
             RowBox[{"{", 
              RowBox[{"v", " ", "\[Rule]", " ", "vol"}], "}"}]}]}], 
           "]"}]}]}]}], "\[IndentingNewLine]", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"errors", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"vol", ",", " ", "depth"}], "}"}], ",", " ", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"genericDepth", "[", "conePart", "]"}], "[", "vol", 
               "]"}], " ", "-", " ", "depth"}], ")"}], "^", "2"}]}], 
          "\[IndentingNewLine]", "]"}], " ", "@@", " ", "#"}], "&"}], " ", "/@",
        " ", "conicalData"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"err", " ", "=", " ", 
      RowBox[{
       RowBox[{"Total", "[", "errors", "]"}], " ", "//", " ", "N"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"min", ",", " ", "coneRules"}], "}"}], " ", "=", " ", 
      RowBox[{"NMinimize", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"err", ",", " ", 
          RowBox[{
           RowBox[{"assumptions", "[", "conePart", "]"}], " ", "&&", " ", 
           RowBox[{"hCone", " ", ">", " ", "15"}]}]}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"hCone", ",", " ", "rmid", ",", " ", "rbottom"}], "}"}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"angledCone", " ", "=", " ", 
      RowBox[{"toApexAngled", "[", 
       RowBox[{"conePart", " ", "/.", " ", "coneRules"}], "]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"now", " ", "for", " ", "the", " ", 
       RowBox[{"cylinder", ".", " ", "this"}], " ", "gives", " ", "us", " ", 
       "the", " ", "apex", " ", "angle"}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"cylinderData", " ", "=", " ", 
      RowBox[{"Select", "[", 
       RowBox[{"data", ",", " ", 
        RowBox[{
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], " ", "\[GreaterEqual]", " ", 
          "1200"}], "&"}]}], "]"}]}], ";", " ", 
     RowBox[{"(*", " ", 
      RowBox[{
       RowBox[{
       "hard", " ", "to", " ", "tell", " ", "for", " ", "in", " ", "between", 
        " ", "data"}], ",", " ", 
       RowBox[{"so", " ", 
        RowBox[{"we", "'"}], "re", " ", "conservative"}]}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"vMin", " ", "=", " ", 
      RowBox[{"Min", " ", "@", " ", 
       RowBox[{"cylinderData", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "1"}], "]"}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"hMin", " ", "=", " ", 
      RowBox[{"Min", " ", "@", " ", 
       RowBox[{"cylinderData", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "2"}], "]"}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"offsetCylinderData", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"#", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "-", "vMin"}], ",", " ", 
          RowBox[{
           RowBox[{"#", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "-", "hMin"}]}], "}"}], " ", 
        "&"}], " ", "/@", " ", "cylinderData"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"cylinderPart", " ", "=", " ", 
      RowBox[{
       RowBox[{"invertedFrustum", "[", 
        RowBox[{"hCyl", ",", " ", "rtop", ",", " ", "rmid"}], "]"}], " ", "/.",
        " ", "coneRules"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"errors", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"vol", ",", " ", "depth"}], "}"}], ",", " ", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"genericDepth", "[", "cylinderPart", "]"}], "[", "vol",
                "]"}], " ", "-", " ", "depth"}], ")"}], "^", "2"}]}], 
          "\[IndentingNewLine]", "]"}], " ", "@@", " ", "#"}], "&"}], " ", "/@",
        " ", "offsetCylinderData"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"err", " ", "=", " ", 
      RowBox[{
       RowBox[{"Total", "[", "errors", "]"}], " ", "//", " ", "N"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"min", ",", " ", "cylinderRules"}], "}"}], " ", "=", " ", 
      RowBox[{"NMinimize", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"err", ",", " ", 
          RowBox[{"assumptions", "[", "cylinderPart", "]"}]}], " ", "}"}], 
        ",", " ", 
        RowBox[{"{", 
         RowBox[{"hCyl", ",", " ", "rtop"}], "}"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"angledCylinder", " ", "=", " ", 
      RowBox[{"toApexAngled", "[", 
       RowBox[{"cylinderPart", " ", "/.", " ", "cylinderRules"}], "]"}]}], 
     ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"falcon", " ", "=", " ", 
      RowBox[{"conicalTestTube", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"invertedFrustum", "[", 
           RowBox[{"hCyl", ",", " ", 
            RowBox[{
             RowBox[{"hCyl", " ", 
              RowBox[{"Tan", "[", "\[Alpha]", "]"}]}], " ", "+", " ", 
             "rmid"}], ",", " ", "\[Alpha]", ",", " ", "apexangle"}], "]"}], "/.",
           " ", 
          RowBox[{"{", 
           RowBox[{"\[Alpha]", " ", "\[Rule]", " ", 
            RowBox[{"apexangle", "[", "angledCylinder", "]"}]}], "}"}]}], 
         ")"}], ",", "\[IndentingNewLine]", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"invertedFrustum", "[", 
           RowBox[{"hCone", ",", " ", 
            RowBox[{
             RowBox[{"hCone", " ", 
              RowBox[{"Tan", "[", "\[Alpha]", "]"}]}], " ", "+", " ", 
             "rbottom"}], ",", " ", "\[Alpha]", ",", " ", "apexangle"}], 
           "]"}], "/.", " ", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"\[Alpha]", " ", "\[Rule]", " ", 
             RowBox[{"apexangle", "[", "angledCone", "]"}]}], ",", " ", 
            RowBox[{"rbottom", " ", "\[Rule]", " ", 
             RowBox[{"(", 
              RowBox[{"rbottom", " ", "/.", " ", "coneRules"}], ")"}]}]}], 
           "}"}]}], ")"}], ",", "\[IndentingNewLine]", 
        RowBox[{"emptyCylinder", "[", "]"}]}], "\[IndentingNewLine]", "]"}]}],
      ";", "\[IndentingNewLine]", 
     RowBox[{"fassumpts", " ", "=", " ", 
      RowBox[{
       RowBox[{"hCone", " ", ">", " ", "18"}], " ", "&&", " ", 
       RowBox[{"hCone", " ", "<", " ", "24.5"}], " ", "&&", " ", 
       RowBox[{"rmid", " ", ">", " ", "6"}], " ", "&&", " ", 
       RowBox[{"hCyl", " ", ">", " ", "75"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"hTot", " ", "=", " ", 
      RowBox[{"119.46", " ", "-", " ", "1.39"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"errors", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"vol", ",", " ", "depth"}], "}"}], ",", " ", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"FullSimplify", "[", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"genericDepth", "[", "falcon", "]"}], "[", "vol", 
                 "]"}], " ", "-", " ", "depth"}], ",", " ", "fassumpts"}], 
              "]"}], ")"}], "^", "2"}]}], "\[IndentingNewLine]", "]"}], " ", "@@",
          " ", "#"}], "&"}], " ", "/@", " ", "data"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"err", " ", "=", " ", 
      RowBox[{
       RowBox[{"Total", "[", "errors", "]"}], " ", "//", " ", "N"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
       RowBox[{"put", " ", "together", " ", "to", " ", "get", " ", "rmid"}], 
       ",", " ", "hCyl", ",", " ", 
       RowBox[{"and", " ", "hCone"}]}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"first", "[", "]"}], " ", ":=", " ", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"{", 
           RowBox[{"min", ",", " ", "falconRules"}], "}"}], " ", "=", " ", 
          RowBox[{"NMinimize", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"err", ",", " ", "fassumpts"}], " ", "}"}], ",", " ", 
            RowBox[{"{", 
             RowBox[{"hCyl", ",", " ", "hCone", ",", " ", "rmid"}], "}"}]}], 
           "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"test", " ", "@", " ", 
          RowBox[{"(", 
           RowBox[{"falcon", " ", "/.", " ", "falconRules"}], ")"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Function", "[", 
           RowBox[{"f", ",", " ", 
            RowBox[{"conicalTestTube", "[", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"toCartesian", "[", 
               RowBox[{
                RowBox[{"parts", "[", "f", "]"}], "[", "\"\<cylindrical\>\"", 
                "]"}], "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{"toCartesian", "[", 
               RowBox[{
                RowBox[{"parts", "[", "f", "]"}], "[", "\"\<conical\>\"", 
                "]"}], "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{"emptyCylinder", "[", "]"}]}], "\[IndentingNewLine]", 
             "]"}]}], "]"}], "[", 
          RowBox[{"falcon", " ", "/.", " ", "falconRules"}], "]"}]}]}], 
       "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"second", "[", "]"}], " ", ":=", " ", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"rule", " ", "=", " ", 
          RowBox[{"hCyl", " ", "\[Rule]", " ", 
           RowBox[{"hTot", " ", "-", " ", "hCone"}]}]}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"{", 
           RowBox[{"min", ",", " ", "falconRules"}], "}"}], " ", "=", " ", 
          RowBox[{"NMinimize", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"err", " ", "/.", " ", "rule"}], ",", " ", 
              RowBox[{"fassumpts", " ", "/.", " ", "rule"}]}], " ", "}"}], 
            ",", " ", 
            RowBox[{"{", 
             RowBox[{"hCone", ",", " ", "rmid"}], "}"}]}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"test", " ", "@", " ", 
          RowBox[{"(", 
           RowBox[{"falcon", " ", "/.", " ", "falconRules"}], ")"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Function", "[", 
           RowBox[{"f", ",", " ", 
            RowBox[{"conicalTestTube", "[", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"toCartesian", "[", 
               RowBox[{
                RowBox[{"parts", "[", "f", "]"}], "[", "\"\<cylindrical\>\"", 
                "]"}], "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{"toCartesian", "[", 
               RowBox[{
                RowBox[{"parts", "[", "f", "]"}], "[", "\"\<conical\>\"", 
                "]"}], "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{"emptyCylinder", "[", "]"}]}], "\[IndentingNewLine]", 
             "]"}]}], "]"}], "[", 
          RowBox[{
           RowBox[{"falcon", " ", "/.", " ", "rule"}], "/.", " ", 
           "falconRules"}], "]"}]}]}], "\[IndentingNewLine]", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"first", "[", "]"}], ",", " ", 
       RowBox[{"second", "[", "]"}]}], "}"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"fittedFalcon1", ",", " ", "fittedFalcon2"}], "}"}], " ", "=", 
   " ", 
   RowBox[{"fitFalconData", "[", "falconData", "]"}]}], 
  ";"}], "\[IndentingNewLine]", "fittedFalcon1", "\[IndentingNewLine]", \
"fittedFalcon2", "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fittedFalcon", " ", "=", " ", "fittedFalcon2"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", "fittedFalcon", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"fittedFalcon", ",", " ", 
     RowBox[{"volume", "[", "fittedFalcon", "]"}]}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"aa615510-dc12-4c6f-8411-89df124f5563"],

Cell[BoxData[
 RowBox[{"Block", "[", 
  RowBox[{
   RowBox[{"{", "expr", "}"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"expr", " ", "=", " ", 
     RowBox[{"depthFromVolume", "[", 
      RowBox[{"fittedFalcon", ",", " ", "vol"}], "]"}]}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"Show", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Plot", "[", 
       RowBox[{"expr", ",", " ", 
        RowBox[{"{", 
         RowBox[{"vol", ",", " ", "0", ",", " ", 
          RowBox[{"volume", "[", "fittedFalcon", "]"}]}], "}"}], ",", " ", 
        RowBox[{"ImageSize", "\[Rule]", "Large"}]}], "]"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"ListPlot", "[", "falconData", "]"}]}], "]"}]}]}], 
  "]"}]], "Input",ExpressionUUID->"bc443cb3-9f50-4e20-8b4e-6613d6e756cb"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Known Tubes", \
"Subsubsection",ExpressionUUID->"17bde502-9c9f-436e-b428-0033d7704a2b"],

Cell["With that, we define the tubes", \
"Text",ExpressionUUID->"7293cbc3-abce-4c87-bb65-f01fce08d9c1"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"tubes", " ", "=", " ", 
     RowBox[{
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{
         RowBox[{
          RowBox[{
          "we", " ", "ignore", " ", "the", " ", "slight", " ", "widening", 
           " ", "at", " ", "the", " ", 
           RowBox[{"throat", ".", " ", "and"}], " ", "the", " ", "bottom", 
           " ", "cap", " ", 
           RowBox[{"isn", "'"}], "t", " ", "a", " ", "complete", " ", 
           "hemi"}], "-", "sphere"}], ",", " ", 
         RowBox[{
         "though", " ", "we", " ", "treat", " ", "it", " ", "as", " ", 
          "such"}]}], " ", "*)"}], "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"eppendorf5$0mL", " ", "\[Rule]", " ", 
         RowBox[{"Block", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"side", "=", 
              RowBox[{"56.7", " ", "-", " ", "55.4"}]}], ",", " ", 
             RowBox[{"hTop", " ", "=", " ", 
              RowBox[{"34.12", " ", "+", " ", "2.2"}]}]}], "}"}], ",", " ", 
           "\[IndentingNewLine]", 
           RowBox[{"toCanonical", " ", "@", " ", 
            RowBox[{"conicalTestTube", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"14.8", ",", " ", "13.3", ",", " ", "3.3"}], "}"}], 
              ",", " ", 
              RowBox[{"{", 
               RowBox[{"hTop", ",", " ", 
                RowBox[{"55.4", " ", "-", " ", "hTop"}]}], "}"}]}], "]"}]}]}],
           "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"eppendorf1$5ml", " ", "\[Rule]", " ", 
         RowBox[{"Block", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"wall", " ", "=", " ", 
              RowBox[{"(*", 
               RowBox[{"measured", "@", "1000"}], "*)"}], " ", 
              RowBox[{"10.34", " ", "-", " ", "8.81"}]}], ",", " ", 
             RowBox[{"hTop", "=", "20"}]}], "}"}], ",", " ", 
           "\[IndentingNewLine]", 
           RowBox[{"toCanonical", " ", "@", " ", 
            RowBox[{"conicalTestTube", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"9.0", " ", 
                RowBox[{"(*", "measured", "*)"}], ",", " ", "8.7", ",", " ", 
                "3.6"}], "}"}], ",", " ", 
              RowBox[{"{", 
               RowBox[{"hTop", ",", " ", 
                RowBox[{"37.8", " ", "-", " ", "hTop"}]}], "}"}]}], "]"}]}]}],
           "]"}]}], ",", "\[IndentingNewLine]", 
        RowBox[{"fittedFalcon15ml", " ", "\[Rule]", " ", "fittedFalcon"}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{"falcon15ml", " ", "\[Rule]", " ", 
         RowBox[{"Module", "[", "\[IndentingNewLine]", 
          RowBox[{"(*", " ", 
           RowBox[{
           "mixure", " ", "of", " ", "measurements", " ", "and", " ", 
            "values", " ", "from", " ", "spec", " ", "drawing"}], " ", "*)"}],
           "\[IndentingNewLine]", 
          RowBox[{"(*", " ", 
           RowBox[{"FWIW", ",", " ", 
            RowBox[{
             RowBox[{"Opentrons", " ", "uses", " ", "idTop"}], "=", "14.9"}], 
            ",", " ", 
            RowBox[{"depth", "=", 
             RowBox[{
              RowBox[{"117.5", ".", " ", "The"}], " ", "latter", " ", "is", 
              " ", "pretty", " ", "good"}]}], ",", " ", 
            RowBox[{
             RowBox[{"given", " ", "'"}], 
             RowBox[{"a", "'"}], " ", 
             RowBox[{"and", " ", "'"}], 
             RowBox[{"wall", "'"}], " ", "defined", " ", "here"}], ",", " ", 
            RowBox[{"so", " ", "our", " ", "depth", " ", 
             RowBox[{"calc", "'"}], "s", " ", "should", " ", "be", " ", 
             "good"}]}], " ", "*)"}], "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
            "id14", ",", " ", "od14", ",", " ", "wall14", ",", " ", 
             "wallMeasured", ",", " ", "wall", ",", " ", "a", ",", " ", "b", 
             ",", " ", "a14", ",", " ", "b14", ",", " ", "c", ",", " ", 
             "cMeasured", ",", " ", "d", ",", " ", "bottomOd", ",", " ", 
             "wallCap", ",", " ", "htopMeasured", ",", " ", "hBottomAndCap"}],
             "}"}], ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"id14", " ", "=", "15.0"}], ";", "\[IndentingNewLine]", 
            RowBox[{"od14", " ", "=", " ", "16.3"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"wall14", " ", "=", " ", 
             RowBox[{"od14", " ", "-", " ", "id14"}]}], ";", " ", 
            "\[IndentingNewLine]", 
            RowBox[{"wallMeasured", " ", "=", " ", "1.27"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"wall", " ", "=", "wallMeasured"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"wallCap", " ", "=", " ", "1.75"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"a", " ", "=", " ", "118.8"}], ";", "\[IndentingNewLine]", 
            RowBox[{"b", " ", "=", " ", "17.37"}], ";", "\[IndentingNewLine]", 
            RowBox[{"a14", " ", "=", " ", "106.3"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"b14", " ", "=", " ", "16.6"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"c", " ", "=", " ", "15.75"}], ";", "\[IndentingNewLine]", 
            RowBox[{"cMeasured", " ", "=", " ", "15.1"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"d", " ", "=", " ", "22.48"}], ";", " ", 
            "\[IndentingNewLine]", 
            RowBox[{"bottomOd", " ", "=", " ", "3.18"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"htopMeasured", " ", "=", " ", "84.07"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"hBottomAndCap", " ", "=", " ", 
             RowBox[{"d", " ", "-", " ", "wallCap"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"(*", " ", 
             RowBox[{
              RowBox[{"note", ":", " ", 
               RowBox[{"as", " ", "defined", " ", "here"}]}], ",", " ", 
              RowBox[{
              "we", " ", "only", " ", "have", " ", "14", "mL", " ", 
               "capacity"}], ",", " ", 
              RowBox[{"not", " ", "15", 
               RowBox[{"mL", ".", " ", "Will"}], " ", "affect", " ", "volume",
                " ", "calc", " ", "but", " ", "not", " ", "depth", " ", 
               RowBox[{"calc", "."}]}]}], " ", "*)"}], "\[IndentingNewLine]", 
            RowBox[{"toCanonical", " ", "@", " ", 
             RowBox[{"conicalTestTube", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"b14", " ", "-", " ", 
                  RowBox[{"(*", 
                   RowBox[{
                    RowBox[{"2", " ", "-", " ", 
                    RowBox[{"logically", " ", "needed"}]}], ",", " ", 
                    RowBox[{"but", " ", "better", " ", "fit", " ", 
                    RowBox[{"w", "/", "o"}], " ", 
                    RowBox[{"(", 
                    RowBox[{"?", "!"}], ")"}]}]}], "*)"}], " ", "wall"}], ",",
                  " ", 
                 RowBox[{"cMeasured", "-", " ", 
                  RowBox[{"2", " ", "wall"}]}], ",", " ", 
                 RowBox[{"bottomOd", " ", "-", 
                  RowBox[{"2", " ", "wall"}]}]}], "}"}], ",", " ", 
               RowBox[{"{", 
                RowBox[{"htopMeasured", ",", " ", "hBottomAndCap"}], "}"}]}], 
              "]"}]}]}]}], "\[IndentingNewLine]", "]"}]}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"generic", " ", "\[Rule]", " ", 
         RowBox[{"toCanonical", " ", "@", " ", 
          RowBox[{"conicalTestTube", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"idTop", ",", " ", "idHip", ",", " ", "idBottom"}], 
             "}"}], ",", " ", 
            RowBox[{"{", 
             RowBox[{"hTop", ",", " ", "hBottom"}], "}"}]}], "]"}]}]}], ",", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{"(*", " ", 
         RowBox[{
          RowBox[{
          "this", " ", "hacks", " ", "in", " ", "the", " ", "slightly", " ", 
           "shallower", " ", "taper", " ", "at", " ", "the", " ", "top"}], 
          ",", " ", 
          RowBox[{"which", " ", 
           RowBox[{"isn", "'"}], "t", " ", "sized", " ", "on", " ", "the", 
           " ", "spec", " ", "drawing"}]}], " ", "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{"bioradPlateWell", " ", "\[Rule]", " ", 
         RowBox[{"Module", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"hCyl", "=", "0.15"}], ",", 
             RowBox[{"rbig", "=", 
              RowBox[{"5.46", "/", "2"}]}], ",", " ", 
             RowBox[{"rsmall", "=", 
              RowBox[{"2.64", "/", "2"}]}], ",", " ", "cyl", ",", " ", "con", 
             ",", " ", "cap"}], "}"}], ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"cyl", " ", "=", " ", 
             RowBox[{"cylinder", "[", 
              RowBox[{"hCyl", ",", " ", "rbig"}], "]"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"con", " ", "=", " ", 
             RowBox[{"invertedFrustum", "[", 
              RowBox[{
               RowBox[{"14.81", " ", "-", " ", "hCyl"}], ",", " ", "rbig", 
               ",", " ", "rsmall"}], "]"}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"cap", " ", "=", " ", 
             RowBox[{"emptyCylinder", "[", "]"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"conicalTestTube", "[", 
             RowBox[{"cyl", ",", " ", "con", ",", " ", "cap"}], "]"}]}]}], 
          "]"}]}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{"(*", " ", 
         RowBox[{"see", " ", "above"}], " ", "*)"}], "\[IndentingNewLine]", 
        RowBox[{"bioradPlateWell2", " ", "\[Rule]", " ", 
         RowBox[{"conicalTestTube", "[", 
          RowBox[{
           RowBox[{"cylinder", "[", 
            RowBox[{"8.835453539401207`", ",", "2.239570651942052`"}], "]"}], 
           ",", 
           RowBox[{"invertedFrustum", "[", 
            RowBox[{
            "5.974546460598792`", ",", "2.239570651942052`", ",", 
             "0.15271630954950383`", ",", "apexangle"}], "]"}], ",", 
           RowBox[{"cylinder", "[", 
            RowBox[{"0", ",", "0"}], "]"}]}], "]"}]}], ",", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{"idtTube", " ", "\[Rule]", " ", 
         RowBox[{"conicalTestTube", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"cylinder", "[", 
            RowBox[{"40.73", ",", " ", 
             RowBox[{"8.31", "/", "2"}]}], "]"}], ",", "\[IndentingNewLine]", 
           RowBox[{"invertedCone", "[", 
            RowBox[{"3.2", ",", " ", 
             RowBox[{"8.31", " ", "/", "2"}]}], "]"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"emptyCylinder", "[", "]"}]}], "\[IndentingNewLine]", 
          "]"}]}]}], "\[IndentingNewLine]", "}"}], " ", "//", " ", 
      "Association"}]}], ")"}], " ", "//", " ", "Normal"}], " ", "//", " ", 
  "ColumnForm"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"test", " ", "[", 
     RowBox[{"parts", "[", 
      RowBox[{"tubes", "[", "#", "]"}], "]"}], "]"}], " ", "&"}], "/@", " ", 
   RowBox[{"Keys", "[", "tubes", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"test", " ", "[", 
     RowBox[{"volume", "[", 
      RowBox[{"tubes", "[", "#", "]"}], "]"}], "]"}], " ", "&"}], "/@", " ", 
   RowBox[{"Keys", "[", "tubes", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"f33ae077-a49f-4b64-8cee-64fee06939c4"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Calibrating against known tubes", \
"Subsubsection",ExpressionUUID->"34ab7b2a-45a4-47ee-9630-1c65be8acbec"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"tubes", "[", "eppendorf1$5ml", "]"}], ",", " ", "500"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"tubes", "[", "eppendorf1$5ml", "]"}], ",", " ", "1500"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"depthFromVolume", "[", 
      RowBox[{
       RowBox[{"tubes", "[", "eppendorf1$5ml", "]"}], ",", " ", "1500"}], 
      "]"}], " ", "-", " ", 
     RowBox[{"depthFromVolume", "[", 
      RowBox[{
       RowBox[{"tubes", "[", "eppendorf1$5ml", "]"}], ",", " ", "1000"}], 
      "]"}]}], ")"}]}], 
  ";"}]}], "Input",ExpressionUUID->"48981b4b-7f2d-4b05-b3b0-9d7eddd82715"],

Cell[BoxData[
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"tubes", "[", "eppendorf5$0mL", "]"}], ",", " ", "5000"}], 
    "]"}]}], ";"}]], \
"Input",ExpressionUUID->"81f680b1-78c9-425f-a6c8-94c82b867de7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"tubes", "[", "falcon15ml", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"tubes", "[", "falcon15ml", "]"}], ",", " ", "3000"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"tubes", "[", "falcon15ml", "]"}], ",", " ", "14000"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"depthFromVolume", "[", 
       RowBox[{
        RowBox[{"tubes", "[", "falcon15ml", "]"}], ",", " ", "14000"}], "]"}],
       " ", "-", " ", 
      RowBox[{"depthFromVolume", "[", 
       RowBox[{
        RowBox[{"tubes", "[", "falcon15ml", "]"}], ",", "2000"}], "]"}]}], 
     RowBox[{"(*", " ", 
      RowBox[{"measured", " ", "at", " ", "76.5"}], "*)"}], ")"}]}], ";"}], 
  " "}]}], "Input",ExpressionUUID->"1dafda41-3b9a-4e11-bcdc-76bfefdd03ac"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"tubes", "[", "fittedFalcon15ml", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"tubes", "[", "fittedFalcon15ml", "]"}], ",", " ", "3000"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"tubes", "[", "fittedFalcon15ml", "]"}], ",", " ", "14000"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"depthFromVolume", "[", 
       RowBox[{
        RowBox[{"tubes", "[", "fittedFalcon15ml", "]"}], ",", " ", "14000"}], 
       "]"}], " ", "-", " ", 
      RowBox[{"depthFromVolume", "[", 
       RowBox[{
        RowBox[{"tubes", "[", "fittedFalcon15ml", "]"}], ",", "2000"}], 
       "]"}]}], 
     RowBox[{"(*", " ", 
      RowBox[{"measured", " ", "at", " ", "76.5"}], "*)"}], ")"}]}], ";"}], 
  " "}]}], "Input",ExpressionUUID->"4d6820fe-663f-4587-807d-8bd77f44d609"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"tubes", "[", "bioradPlateWell", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"tubes", "[", "bioradPlateWell", "]"}], ",", " ", "84"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"tubes", "[", "bioradPlateWell", "]"}], ",", " ", 
     RowBox[{"84", " ", "-", " ", "50"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toDeg", " ", "@", " ", 
    RowBox[{"apexangle", " ", "@", " ", 
     RowBox[{
      RowBox[{"parts", "[", 
       RowBox[{"tubes", "[", "bioradPlateWell", "]"}], "]"}], "[", 
      "\"\<conical\>\"", "]"}]}]}]}], 
  ";"}]}], "Input",ExpressionUUID->"48132d5d-dfa0-4724-9629-c5d9263b8358"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"tubes", "[", "bioradPlateWell2", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"tubes", "[", "bioradPlateWell2", "]"}], ",", " ", "84"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"tubes", "[", "bioradPlateWell2", "]"}], ",", " ", 
     RowBox[{"84", " ", "-", " ", "50"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toDeg", " ", "@", " ", 
    RowBox[{"apexangle", " ", "@", " ", 
     RowBox[{
      RowBox[{"parts", "[", 
       RowBox[{"tubes", "[", "bioradPlateWell2", "]"}], "]"}], "[", 
      "\"\<conical\>\"", "]"}]}]}]}], 
  ";"}]}], "Input",ExpressionUUID->"04336e53-6dae-4656-98a9-19a5f60d5f23"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"tubes", "[", "idtTube", "]"}], ",", " ", "250"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"(", 
    RowBox[{
     RowBox[{"depthFromVolume", "[", 
      RowBox[{
       RowBox[{"tubes", "[", "idtTube", "]"}], ",", " ", "1250"}], "]"}], " ",
      "-", " ", 
     RowBox[{"depthFromVolume", "[", 
      RowBox[{
       RowBox[{"tubes", "[", "idtTube", "]"}], ",", " ", "250"}], "]"}]}], 
    ")"}]}], ";"}]}], \
"Input",ExpressionUUID->"4e006680-68ec-40ef-89e5-91d06df2ea3f"]
}, Open  ]],

Cell[CellGroupData[{

Cell["For volume as parameter", \
"Subsubsection",ExpressionUUID->"817692a6-7edd-4123-b792-c99e0121f905"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"printAndPlot", "[", "name_", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "expr", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"CellPrint", "[", 
      RowBox[{"TextCell", "[", 
       RowBox[{"name", ",", " ", "\"\<Text\>\""}], "]"}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"ToString", "[", "name", "]"}], "\[Equal]", " ", 
        "\"\<generic\>\""}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"depthFromVolume", "[", 
          RowBox[{
           RowBox[{"tubes", "[", "name", "]"}], ",", " ", "vol"}], "]"}]}], 
        ";"}], "\[IndentingNewLine]", ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"N", " ", "@", " ", 
          RowBox[{"depthFromVolume", "[", 
           RowBox[{
            RowBox[{"tubes", "[", "name", "]"}], ",", " ", "vol"}], "]"}]}]}],
         ";", "\[IndentingNewLine]", 
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"N", " ", "@", " ", 
          RowBox[{"volume", "[", 
           RowBox[{"tubes", "[", "name", "]"}], "]"}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"N", " ", "@", " ", 
          RowBox[{"depthFromVolume", "[", 
           RowBox[{
            RowBox[{"tubes", "[", "name", "]"}], ",", 
            RowBox[{"volume", "[", 
             RowBox[{"tubes", "[", "name", "]"}], "]"}]}], "]"}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"expr", " ", "=", " ", 
         RowBox[{"N", " ", "@", " ", 
          RowBox[{"depthFromVolume", "[", 
           RowBox[{
            RowBox[{"tubes", "[", "name", "]"}], ",", " ", "vol"}], "]"}]}]}],
         ";", "\[IndentingNewLine]", 
        RowBox[{"printCell", " ", "@", " ", 
         RowBox[{"Plot", "[", 
          RowBox[{"expr", ",", " ", 
           RowBox[{"{", 
            RowBox[{"vol", ",", " ", "0", ",", " ", 
             RowBox[{"volume", "[", 
              RowBox[{"tubes", "[", "name", "]"}], "]"}]}], "}"}], ",", " ", 
           RowBox[{"AxesLabel", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], 
           ",", " ", 
           RowBox[{"PlotLabel", "\[Rule]", "name"}]}], "]"}]}]}]}], 
      "\[IndentingNewLine]", "]"}]}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"printAndPlot", " ", "/@", " ", 
   RowBox[{"Keys", "[", "tubes", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"129de215-3421-42f4-8c4b-ec8a27a7a42b"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Comparing Biorad Plate models", \
"Subsubsection",ExpressionUUID->"77a5f172-eb26-48cd-9ecf-7b19a514709b"],

Cell["Which should we use? ", \
"Text",ExpressionUUID->"3187ecba-44aa-4519-ba65-94084921f09e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"example1", " ", "=", " ", 
   RowBox[{"tubes", "[", "bioradPlateWell", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"example2", " ", "=", " ", 
   RowBox[{"tubes", "[", "bioradPlateWell2", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"expr1", " ", "=", " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{"example1", ",", " ", "v"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"expr2", " ", "=", " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{"example2", ",", " ", "v"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"expr1", ",", " ", "expr2"}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example1", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"expr1", " ", "-", " ", "expr2"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example1", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<\[CapitalDelta]depth\>\""}], 
     "}"}]}]}], 
  "]"}]}], "Input",ExpressionUUID->"9219ffb6-41dc-4617-b29e-4ccafdd6cad4"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Comparing 15mL Falcon Tube models", \
"Subsubsection",ExpressionUUID->"dc086512-1d89-4e6d-9fec-34251511fa77"],

Cell["\<\
We should use the fitted one, as we experimentally observed the other model \
predicting depths that were too large.\
\>", "Text",ExpressionUUID->"0e9b95a7-7cf9-4f88-ab72-29ba37e0b431"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"example1", " ", "=", " ", 
   RowBox[{"tubes", "[", "falcon15ml", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"example2", " ", "=", " ", 
   RowBox[{"tubes", "[", "fittedFalcon15ml", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"expr1", " ", "=", " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{"example1", ",", " ", "v"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"expr2", " ", "=", " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{"example2", ",", " ", "v"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"expr1", ",", " ", "expr2"}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example1", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"ImageSize", "\[Rule]", "Large"}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"expr1", "-", "expr2"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example1", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<\[CapitalDelta]depth\>\""}], 
     "}"}]}], ",", " ", 
   RowBox[{"ImageSize", "\[Rule]", "Large"}]}], 
  "]"}]}], "Input",ExpressionUUID->"1546305e-1880-4a2c-ab31-aa655fdcb3a8"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1838, 1548},
WindowMargins->{{450, Automatic}, {Automatic, 0}},
PrintingCopies->1,
PrintingPageRange->{32000, 32000},
PrintingOptions->{"Magnification"->1.,
"PaperOrientation"->"Portrait",
"PaperSize"->{612, 792}},
PrivateNotebookOptions->{"FileOutlineCache"->False},
CellContext->Notebook,
CellLabelAutoDelete->True,
TrackCellChangeTimes->False,
Magnification:>0.9 Inherited,
FrontEndVersion->"12.0 for Microsoft Windows (64-bit) (April 8, 2019)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> 
     FrontEnd`FileName[{"Report"}, "StandardReport.nb", CharacterEncoding -> 
       "UTF-8"]]], 
   Cell[
    StyleData[All, "Printout"], Magnification -> 0.5]}, Visible -> False, 
  FrontEndVersion -> "12.0 for Microsoft Windows (64-bit) (April 8, 2019)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"]
]

