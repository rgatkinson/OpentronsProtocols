Notebook[{

Cell[CellGroupData[{
Cell["Well & Pipette Tip Geometry", \
"Title",ExpressionUUID->"39796d72-87ca-4320-97ff-a98d4bd016ce"],

Cell["\<\
Robert Atkinson
24 Oct 2019\
\>", "Author",ExpressionUUID->"05aea015-05f3-4e99-899d-20a8cd5792a1"],

Cell["We explore the geometry of various labware.", \
"Text",ExpressionUUID->"56cc4ba9-b77c-4512-b3b4-73f00a3c0eee"],

Cell[CellGroupData[{

Cell["Basics", \
"Section",ExpressionUUID->"752773aa-79a8-4543-97a4-9a28a9955492"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"FrontEndExecute", "[", 
    RowBox[{"{", 
     RowBox[{"FrontEndToken", "[", 
      RowBox[{
       RowBox[{"InputNotebook", "[", "]"}], ",", "\"\<SelectAll\>\""}], "]"}],
      "}"}], "]"}], ";", "\n", 
   RowBox[{"FrontEndExecute", "[", 
    RowBox[{"{", 
     RowBox[{"FrontEndToken", "[", 
      RowBox[{
       RowBox[{"InputNotebook", "[", "]"}], ",", 
       "\"\<SelectionOpenAllGroups\>\""}], "]"}], "}"}], "]"}], ";"}], 
  "*)"}]], "Input",ExpressionUUID->"4308b520-54ec-4531-b566-b60a693897e8"],

Cell[BoxData[{
 RowBox[{"On", "[", "Assert", "]"}], "\[IndentingNewLine]", 
 RowBox[{"Clear", "[", "assert", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assert", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"assert", "[", 
   RowBox[{"expr", ",", " ", "\"\<assertion failed\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assert", "[", 
   RowBox[{"expr_", ",", " ", "msg_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"value", "=", 
      RowBox[{"Evaluate", "[", "expr", "]"}]}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"BooleanQ", "[", "value", "]"}], ",", " ", 
      "\[IndentingNewLine]", 
      RowBox[{"Assert", "[", 
       RowBox[{"value", ",", " ", 
        RowBox[{"Row", "[", 
         RowBox[{"{", 
          RowBox[{"msg", ",", " ", "\"\<: \>\"", ",", " ", 
           RowBox[{"HoldForm", "[", "expr", "]"}]}], "}"}], "]"}]}], "]"}], 
      "\[IndentingNewLine]", ",", "\[IndentingNewLine]", 
      RowBox[{"Assert", "[", 
       RowBox[{"value", ",", " ", 
        RowBox[{"Row", "[", 
         RowBox[{"{", 
          RowBox[{"msg", ",", " ", "\"\<: \>\"", ",", " ", 
           RowBox[{"HoldForm", "[", "expr", "]"}]}], "}"}], "]"}]}], "]"}]}], 
     " ", 
     RowBox[{"(*", " ", 
      RowBox[{"to", " ", 
       RowBox[{"do", ":", " ", 
        RowBox[{"improve", " ", "message"}]}]}], " ", "*)"}], 
     "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"SetAttributes", "[", 
  RowBox[{"assert", ",", " ", "HoldAll"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"assert", "[", "False", "]"}], "\[IndentingNewLine]", 
 RowBox[{"assert", "[", "3", 
  "]"}]}], "Input",ExpressionUUID->"5325dfb4-04b1-494c-bcbd-e2677b467f94"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"printCell", "[", "cell_", "]"}], " ", ":=", " ", 
  RowBox[{"CellPrint", "[", 
   RowBox[{"ExpressionCell", "[", 
    RowBox[{"cell", ",", " ", "\"\<Output\>\""}], "]"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"cellPrint", "[", "cell_", "]"}], " ", ":=", " ", 
  RowBox[{"CellPrint", "[", 
   RowBox[{"ExpressionCell", "[", 
    RowBox[{"cell", ",", " ", "\"\<Output\>\""}], "]"}], 
   "]"}]}]}], "Input",ExpressionUUID->"37bb6aae-3724-4681-b762-434c36589e57"],

Cell[BoxData[
 RowBox[{
  RowBox[{"log", "[", "msg_", "]"}], " ", ":=", " ", 
  RowBox[{"CellPrint", "[", 
   RowBox[{"TextCell", "[", 
    RowBox[{"msg", ",", " ", "\"\<Text\>\""}], "]"}], 
   "]"}]}]], "Input",ExpressionUUID->"e7981d16-a332-4bc6-abdf-3a48fc8b52ff"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "evald", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"evald", " ", "=", " ", 
      RowBox[{"Evaluate", "[", "expr", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"printCell", "[", 
      RowBox[{
       RowBox[{"HoldForm", "[", "expr", "]"}], " ", "\[Rule]", " ", "evald"}],
       "]"}], ";", "\[IndentingNewLine]", "evald"}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test2", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "evald", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"printCell", "[", 
      RowBox[{
       RowBox[{"HoldForm", "[", "expr", "]"}], " ", "\[Rule]", " ", 
       "\"\<evaluating...\>\""}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"evald", " ", "=", " ", 
      RowBox[{"Evaluate", "[", "expr", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"printCell", "[", 
      RowBox[{"\"\<...\>\"", " ", "\[Rule]", " ", "evald"}], "]"}], ";", 
     "\[IndentingNewLine]", "evald"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"SetAttributes", "[", 
  RowBox[{"test", ",", " ", "HoldAll"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"SetAttributes", "[", 
  RowBox[{"test2", ",", " ", "HoldAll"}], 
  "]"}]}], "Input",ExpressionUUID->"5aa89327-f38a-4c75-8bc4-5f11f8896fc6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"complement", "[", "angle_", "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"\[Pi]", "/", "2"}], " ", "-", " ", 
   "angle"}]}]], \
"Input",ExpressionUUID->"78d80425-9321-49ab-b281-593a15d6063e"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "hasImaginary", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"hasImaginary", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "result", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"result", " ", "=", " ", 
       RowBox[{"Reap", "[", 
        RowBox[{"Scan", "[", 
         RowBox[{
          RowBox[{"Function", "[", 
           RowBox[{"ee", ",", " ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"ee", " ", "\[NotEqual]", " ", 
               RowBox[{"Conjugate", "[", "ee", "]"}]}], ",", " ", 
              RowBox[{"Sow", "[", "True", "]"}]}], "]"}]}], "]"}], ",", 
          RowBox[{"{", "expr", "}"}], ",", " ", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", " ", "Infinity"}], "}"}]}], "]"}], 
        "]"}]}], ";"}], "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"Scan", "[", 
       RowBox[{
        RowBox[{"Function", "[", 
         RowBox[{"ee", ",", " ", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"ee", " ", "\[NotEqual]", " ", 
             RowBox[{"Conjugate", "[", "ee", "]"}]}], ",", " ", 
            RowBox[{"Return", "[", "True", "]"}]}], "]"}]}], "]"}], ",", 
        RowBox[{"{", "expr", "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"-", "1"}], ",", " ", "Infinity"}], "}"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Length", " ", "@", " ", 
        RowBox[{"result", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], " ", ">", " ", "0"}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"result", " ", "===", " ", "True"}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"SetAttributes", "[", 
  RowBox[{"hasImaginary", ",", " ", "HoldAll"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"hasImaginary", "[", 
    RowBox[{"1", " ", "+", " ", 
     RowBox[{"2", "I"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"hasImaginary", "[", 
    RowBox[{"30", "!"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"440d00c8-54b5-4b08-bfe8-ae5feb69d532"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toDeg", "[", "rad_", "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"rad", " ", "/", " ", "Pi"}], " ", "*", " ", 
   "180"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toRadian", "[", "deg_", "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"deg", " ", "/", " ", "180"}], " ", "*", " ", 
   "Pi"}]}]}], "Input",ExpressionUUID->"2bbc42e7-5161-4850-a96b-3fb814745a8d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", 
   RowBox[{"variables", ",", " ", "unboundQ"}], "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"unboundQ", "[", "x_Symbol", "]"}], " ", ":=", " ", "True"}], "\n", 
 RowBox[{
  RowBox[{"unboundQ", "[", "_", "]"}], " ", ":=", " ", "False"}], "\n", 
 RowBox[{
  RowBox[{"unboundQ", "[", "E", "]"}], " ", ":=", " ", "False"}], "\n", 
 RowBox[{
  RowBox[{"unboundQ", "[", "I", "]"}], " ", ":=", " ", "False"}], "\n", 
 RowBox[{
  RowBox[{"unboundQ", "[", "Pi", "]"}], " ", ":=", " ", "False"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"unboundQ", "[", "\[Pi]", "]"}], " ", ":=", " ", "False"}], 
  "\n"}], "\n", 
 RowBox[{
  RowBox[{"variables", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"variables", "[", 
   RowBox[{"expr", ",", " ", 
    RowBox[{"{", "}"}]}], "]"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"variables", "[", 
     RowBox[{"expr_", ",", " ", "except_"}], "]"}], " ", ":=", " ", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"result", ",", " ", "reaped"}], "}"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{"result", ",", " ", "reaped"}], "}"}], " ", "=", 
        RowBox[{"Reap", "[", 
         RowBox[{"Scan", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"(", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"unboundQ", "[", "#", "]"}], ",", 
               RowBox[{"Sow", "[", "#", "]"}]}], "]"}], ")"}], "&"}], ",", 
           "expr", ",", "Infinity"}], "]"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", "reaped", "]"}], " ", "==", " ", "0"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"{", "}"}], "\[IndentingNewLine]", ",", 
         "\[IndentingNewLine]", 
         RowBox[{"Complement", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"reaped", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "//", "Union"}], ",", "except"}],
           "]"}]}], "\[IndentingNewLine]", "]"}]}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"variables", "[", 
    RowBox[{"e", " ", "\[Equal]", " ", 
     RowBox[{"m", " ", 
      RowBox[{"c", "^", "2"}]}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"variables", "[", 
    RowBox[{"{", 
     RowBox[{"C", "[", "1", "]"}], "}"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"8fd2fa68-86de-4381-bd21-52f2d089b894"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "genericize", "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"genericize", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"genericize", "[", 
   RowBox[{"expr", ",", " ", "NumberQ", ",", " ", 
    RowBox[{"{", "}"}]}], " ", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"genericize", "[", 
   RowBox[{"expr_", ",", " ", "test_"}], "]"}], " ", ":=", " ", 
  RowBox[{"genericize", "[", 
   RowBox[{"expr", ",", " ", "test", ",", " ", 
    RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"genericize", "[", 
     RowBox[{"expr_", ",", " ", "test_", ",", " ", "except_"}], "]"}], " ", ":=",
     " ", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "result", ",", " ", "reaped", ",", " ", "numbers", ",", " ", "count", 
        ",", " ", "neg", ",", " ", "pos", ",", " ", "zero", ",", " ", 
        "constants", ",", " ", "constraints", ",", " ", "rules"}], "}"}], ",",
       "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{"result", ",", " ", "reaped"}], "}"}], " ", "=", 
        RowBox[{"Reap", "[", 
         RowBox[{"Scan", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"(", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"test", "[", "#", "]"}], ",", 
               RowBox[{"Sow", "[", "#", "]"}]}], "]"}], ")"}], "&"}], ",", 
           "expr", ",", "Infinity"}], "]"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", "reaped", "]"}], " ", ">", " ", "0"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"numbers", " ", "=", " ", 
           RowBox[{
            RowBox[{"reaped", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "//", "Union"}]}], ";", " ", 
          RowBox[{"(*", " ", 
           RowBox[{"todo", ":", " ", 
            RowBox[{
             RowBox[{
             "should", " ", "we", " ", "merge", " ", "duplicates", " ", 
              "like", " ", 
              RowBox[{"this", "?", " ", "It"}], " ", "does", " ", "make", " ",
               "the", " ", "logic", " ", "below", " ", "somewhat", " ", 
              "easier"}], " ", "..."}]}], " ", "*)"}], "\[IndentingNewLine]", 
          RowBox[{"numbers", " ", "=", " ", 
           RowBox[{"Complement", "[", 
            RowBox[{"numbers", ",", "except"}], "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"numbers", " ", "=", " ", 
           RowBox[{"Sort", "[", "numbers", "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"count", " ", "=", " ", 
           RowBox[{"Length", "[", "numbers", "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"constants", " ", "=", " ", 
           RowBox[{
            RowBox[{
             RowBox[{"C", "[", "#", "]"}], "&"}], " ", "/@", " ", 
            RowBox[{"Range", "[", "count", "]"}]}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"count", " ", ">", " ", "1"}], ",", "\[IndentingNewLine]", 
            RowBox[{"constraints", " ", "=", " ", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"constants", "[", 
                 RowBox[{"[", "#", "]"}], "]"}], "<", " ", 
                RowBox[{"constants", "[", 
                 RowBox[{"[", 
                  RowBox[{"#", "+", "1"}], "]"}], "]"}]}], "&"}], " ", "/@", 
              " ", 
              RowBox[{"Range", "[", 
               RowBox[{"count", "-", "1"}], "]"}]}]}], "\[IndentingNewLine]", 
            ",", "\[IndentingNewLine]", 
            RowBox[{"constraints", "=", " ", 
             RowBox[{"{", "}"}]}]}], "\[IndentingNewLine]", "]"}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"pos", " ", "=", " ", 
           RowBox[{"Select", "[", 
            RowBox[{"numbers", ",", " ", 
             RowBox[{
              RowBox[{"#", " ", ">", " ", "0"}], "&"}]}], "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"neg", "  ", "=", " ", 
           RowBox[{"Select", "[", 
            RowBox[{"numbers", ",", " ", 
             RowBox[{
              RowBox[{"#", " ", "<", " ", "0"}], " ", "&"}]}], "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"zero", " ", "=", " ", 
           RowBox[{"Select", "[", 
            RowBox[{"numbers", ",", " ", 
             RowBox[{
              RowBox[{"#", " ", "\[Equal]", " ", "0"}], "&"}]}], "]"}]}], ";",
           "\[IndentingNewLine]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", "pos", "]"}], " ", ">", " ", "0"}], ",", 
            " ", 
            RowBox[{"constraints", " ", "=", " ", 
             RowBox[{"Append", "[", 
              RowBox[{"constraints", ",", " ", 
               RowBox[{
                RowBox[{"constants", "[", 
                 RowBox[{"[", 
                  RowBox[{"count", " ", "-", " ", 
                   RowBox[{"Length", "[", "pos", "]"}], "+", "1"}], "]"}], 
                 "]"}], " ", ">", " ", "0"}]}], "]"}]}]}], "]"}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", "neg", "]"}], " ", ">", " ", "0"}], ",", 
            " ", 
            RowBox[{"constraints", " ", "=", " ", 
             RowBox[{"Append", "[", 
              RowBox[{"constraints", ",", " ", 
               RowBox[{
                RowBox[{"constants", "[", 
                 RowBox[{"[", 
                  RowBox[{"Length", "[", "neg", "]"}], "]"}], "]"}], " ", "<",
                 " ", "0"}]}], "]"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", "zero", "]"}], " ", ">", " ", "0"}], ",", 
            " ", 
            RowBox[{"constraints", " ", "=", " ", 
             RowBox[{"Append", "[", 
              RowBox[{"constraints", ",", " ", 
               RowBox[{
                RowBox[{"constants", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{"Length", "[", "neg", "]"}], "+", "1"}], "]"}], 
                 "]"}], " ", "==", " ", "0"}]}], "]"}]}]}], "]"}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"constraints", " ", "=", " ", 
           RowBox[{"And", " ", "@@", " ", "constraints"}]}], ";", 
          "\[IndentingNewLine]", "\[IndentingNewLine]", 
          RowBox[{"rules", " ", "=", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"numbers", "[", 
                RowBox[{"[", "#", "]"}], "]"}], " ", "\[Rule]", " ", 
               RowBox[{"constants", "[", 
                RowBox[{"[", "#", "]"}], "]"}]}], ")"}], "&"}], "/@", " ", 
            RowBox[{"Range", "[", "count", "]"}]}]}]}]}], 
        "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"expr", " ", "/.", " ", "rules"}], ",", " ", 
         RowBox[{"Reverse", "[", 
          RowBox[{"rules", ",", " ", 
           RowBox[{"{", "2", "}"}]}], "]"}], ",", " ", "constraints"}], 
        "}"}]}]}], "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"genericize", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", "2"}], "]"}], " ", "+", " ", 
     RowBox[{"fred", "[", 
      RowBox[{
      "1.2", ",", " ", "3.14159", ",", " ", "1.2", ",", " ", "seven", ",", 
       " ", 
       RowBox[{"-", "2"}], ",", " ", 
       RowBox[{"-", "3"}], ",", " ", "0"}], "]"}]}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"2785b03d-5985-4032-b823-71703b18af08"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "enumerate", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"enumerate", "[", "iterable_", "]"}], " ", ":=", " ", 
  RowBox[{"MapThread", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{"#1", ",", " ", "#2"}], "}"}], "&"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"Range", "[", 
       RowBox[{"Length", "[", "iterable", "]"}], "]"}], ",", " ", 
      "iterable"}], "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"enumerate", "[", 
    RowBox[{"func_", ",", "iterable_"}], "]"}], " ", ":=", " ", 
   RowBox[{"MapThread", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"func", "[", 
       RowBox[{"#1", ",", " ", "#2"}], "]"}], "&"}], ",", " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Range", "[", 
        RowBox[{"Length", "[", "iterable", "]"}], "]"}], ",", " ", 
       "iterable"}], "}"}]}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"enumerate", "[", 
    RowBox[{"{", 
     RowBox[{"a", ",", " ", "b", ",", " ", "c"}], "}"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Function", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"i", ",", " ", "value"}], "}"}], ",", " ", 
      RowBox[{"value", " ", "+", " ", "i"}]}], "]"}], "@@", "#"}], "&"}], " ",
   "/@", " ", 
  RowBox[{"enumerate", "[", 
   RowBox[{"{", 
    RowBox[{"a", ",", "b", ",", "c"}], "}"}], 
   "]"}]}]}], "Input",ExpressionUUID->"8ec68a9c-2f7a-4b02-a56f-dc20decd0fec"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "pairUp", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pairUp", "[", 
   RowBox[{"a_", ",", " ", "b_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Transpose", "[", 
   RowBox[{"{", 
    RowBox[{"a", ",", "b"}], "}"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pairUp", "[", 
   RowBox[{"a_", ",", " ", "b_", ",", " ", "c_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Transpose", "[", 
   RowBox[{"{", 
    RowBox[{"a", ",", "b", ",", " ", "c"}], "}"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"pairUp", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"1", ",", "2", ",", " ", "3"}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"a", ",", " ", "b", ",", " ", "c"}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"do", ",", " ", "re", ",", " ", "mi"}], "}"}]}], 
  "]"}]}], "Input",ExpressionUUID->"f5d937b1-633c-462f-b80a-4b944b3250af"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "qReduce", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"qReduce", "[", 
   RowBox[{"expr_", ",", " ", "vars_", ",", " ", 
    RowBox[{"dom_", " ", ":", " ", "Reals"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Quiet", "[", 
   RowBox[{
    RowBox[{"Reduce", "[", 
     RowBox[{"expr", ",", " ", "vars", ",", " ", "dom"}], "]"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"Reduce", "::", "ratnz"}], "}"}]}], 
   "]"}]}]}], "Input",ExpressionUUID->"ae93f216-c13a-4fa8-8c55-51d96176c90a"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Shapes", \
"Section",ExpressionUUID->"74671b0c-3da3-4376-b124-bba07699ac4b"],

Cell[CellGroupData[{

Cell["Utilities", \
"Subsection",ExpressionUUID->"826c554f-bde5-4fb3-a2ee-32d50b59d94c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"volumeFromDepthUsingInverse", "[", 
   RowBox[{"shape_", ",", " ", "depth_"}], "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"InverseFunction", "[", 
    RowBox[{"Function", "[", 
     RowBox[{"v", ",", " ", 
      RowBox[{"depthFromVolume", "[", 
       RowBox[{"shape", ",", " ", "v"}], "]"}]}], "]"}], "]"}], "[", "depth", 
   "]"}]}]], "Input",ExpressionUUID->"a893b0b4-cc83-4573-a91c-a99d2f96e1b0"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "genericVolumeFromDepthUsingInverse", 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"genericVolumeFromDepthUsingInverse", "[", 
   RowBox[{"genericShape_", ",", " ", "depth_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "result", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"volumeFromDepthUsingInverse", "[", 
         RowBox[{"genericShape", ",", " ", "depth"}], "]"}], ",", " ", 
        RowBox[{"assumptions", "[", "genericShape", "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"genericVolumeFromDepthUsingInverse", "[", 
       RowBox[{"genericShape", ",", " ", "depth"}], "]"}], " ", "=", " ", 
      "result"}], ";", "\[IndentingNewLine]", "result"}]}], 
   "]"}]}]}], "Input",ExpressionUUID->"01203d0f-6f73-43d7-a6ac-5d5039ab00cf"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Cone", \
"Subsection",ExpressionUUID->"ba3070ae-c27c-4d58-875e-e5382c2c77d0"],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsubsection",ExpressionUUID->"83535e67-e4e6-4dcc-a592-ecdfc718e245"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"cone", "[", 
    RowBox[{"h_", ",", " ", "r_"}], "]"}], "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"h", " ", ">=", " ", "0"}], " ", "&&", " ", 
   RowBox[{"r", " ", ">=", " ", "0"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"cone", "[", 
    RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
    "]"}], "]"}], ":=", " ", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{
    RowBox[{"h", " ", ">=", " ", "0"}], " ", "&&", " ", 
    RowBox[{"\[Alpha]", " ", ">", " ", "0"}], " ", "&&", " ", 
    RowBox[{"\[Alpha]", " ", "<", " ", 
     RowBox[{"\[Pi]", " ", "/", " ", "2"}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"cone", "[", 
    RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
    "]"}], "]"}], ":=", " ", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{"assumptions", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", 
      RowBox[{"complement", "[", "\[Beta]", "]"}], ",", " ", 
      "\"\<apexangle\>\""}], "]"}], "]"}], 
   "]"}]}]}], "Input",ExpressionUUID->"dba8de03-9f0f-41dc-8536-c8df1d846200"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], "]"}],
     "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"421e5ca0-f5f7-4d89-8478-1770f4650170"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"radius", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  "r"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radius", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "\"\<apexangle\>\""}], "]"}]}], 
   "]"}], " ", ":=", " ", 
  RowBox[{"h", " ", 
   RowBox[{"Tan", "[", "\[Alpha]", "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"radius", "[", 
    RowBox[{"c", ":", " ", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
      "]"}]}], "]"}], " ", ":=", " ", 
   RowBox[{"h", " ", 
    RowBox[{"Cot", "[", "\[Beta]", "]"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "r_"}], "]"}]}], "]"}], ":=", 
  "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "\"\<apexangle\>\""}], "]"}]}], 
   "]"}], " ", ":=", " ", "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", "\"\<baseangle\>\""}], "]"}]}], 
   "]"}], " ", ":=", " ", 
  "h"}]}], "Input",ExpressionUUID->"27077a15-096d-4641-90f1-572aa4a9b801"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"Assuming", "[", 
   RowBox[{
    RowBox[{"assumptions", "[", "c", "]"}], ",", " ", 
    RowBox[{"ArcTan", "[", 
     RowBox[{"h", ",", " ", "r"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", "\"\<apexangle\>\""}], "]"}]}],
    "]"}], ":=", " ", "\[Alpha]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", "\"\<baseangle\>\""}], "]"}]}], 
   "]"}], ":=", 
  RowBox[{"complement", "[", 
   RowBox[{"baseangle", "[", "c", "]"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"Assuming", "[", 
   RowBox[{
    RowBox[{"assumptions", "[", "c", "]"}], ",", " ", 
    RowBox[{"ArcTan", "[", 
     RowBox[{"r", ",", " ", "h"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", "\"\<apexangle\>\""}], "]"}]}],
    "]"}], ":=", " ", 
  RowBox[{"complement", "[", "\[Alpha]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", "\"\<baseangle\>\""}], "]"}]}], 
   "]"}], ":=", 
  "\[Beta]"}]}], \
"Input",ExpressionUUID->"32fbe51b-b998-4851-b75e-41c13eb4174b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", "\"\<apexangle\>\""}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", "\"\<baseangle\>\""}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"baseangle", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"baseangle", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", "\"\<apexangle\>\""}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{
    StyleBox["baseangle",
     FontWeight->"Bold"], "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", "\"\<baseangle\>\""}], "]"}], 
    "]"}]}], ";"}]}], \
"Input",ExpressionUUID->"a5350e02-5082-4e9c-a536-f350aaf76110"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Conversion", \
"Subsubsection",ExpressionUUID->"d6bf2bfb-41fd-42d1-be93-3cdc6faccb37"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toCone", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  "c"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCone", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"radius", "[", "c", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toCone", "[", 
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
      "]"}]}], "]"}], " ", ":=", " ", 
   RowBox[{"cone", "[", 
    RowBox[{"h", ",", " ", 
     RowBox[{"radius", "[", "c", "]"}]}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"toCone", " ", "@", " ", "c"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"toCone", " ", "@", " ", "c"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toCartesian", "[", 
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
      "]"}]}], "]"}], " ", ":=", " ", 
   RowBox[{"toCone", " ", "@", " ", "c"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"apexangle", "[", "c", "]"}], ",", " ", "\"\<apexangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "\"\<apexangle\>\""}], "]"}]}], 
   "]"}], ":=", " ", "c"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toApexAngled", "[", 
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", "\[Beta]_", ",", "\"\<baseangle\>\""}], "]"}]}], 
    "]"}], ":=", " ", 
   RowBox[{"cone", "[", 
    RowBox[{"h", ",", " ", 
     RowBox[{"apexangle", "[", "c", "]"}], ",", " ", "\"\<apexangle\>\""}], 
    "]"}]}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"baseangle", "[", "c", "]"}], ",", " ", "\"\<baseangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "\"\<apexangle\>\""}], "]"}]}], 
   "]"}], ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"baseangle", "[", "c", "]"}], ",", " ", "\"\<baseangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toBaseAngled", "[", 
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", "\[Beta]_", ",", "\"\<baseangle\>\""}], "]"}]}], 
    "]"}], ":=", " ", "c"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"scaled", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", "r_"}], "]"}]}], ",", " ", "factor_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{"cone", "[", 
   RowBox[{
    RowBox[{"h", " ", "*", " ", "factor"}], ",", " ", 
    RowBox[{"r", " ", "*", " ", "factor"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"scaled", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", "\[Alpha]_", ",", "\"\<apexangle\>\""}], "]"}]}], 
    ",", " ", "factor_"}], "]"}], ":=", " ", 
  RowBox[{"toApexAngled", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"toCartesian", " ", "@", " ", "c"}], ",", " ", "factor"}], 
    "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"scaled", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", "\[Beta]_", ",", "\"\<baseangle\>\""}], "]"}]}], ",",
     " ", "factor_"}], "]"}], ":=", 
  RowBox[{"toBaseAngled", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"toCartesian", " ", "@", " ", "c"}], ",", " ", "factor"}], 
    "]"}]}]}]}], \
"Input",ExpressionUUID->"841fd25b-121c-4958-a155-ebaff935362d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCone", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCone", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
     "]"}], "]"}]}], " ", ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCone", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], "]"}],
     "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], "]"}],
     "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], "]"}],
     "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", "r"}], "]"}], ",", " ", "2"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
      "]"}], ",", "2"}], "]"}]}], " ", ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], 
      "]"}], ",", "2"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"acb9121b-29fe-4ef3-9296-b193f4c178e0"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsubsection",ExpressionUUID->"2e392080-fd66-4f28-bc01-4e194deadab6"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Pi", " ", "r", " ", "r", " ", 
   RowBox[{"h", " ", "/", " ", "3"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", "c"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", "c"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "\[Alpha]", ",", "\"\<apexangle\>\""}], "]"}], "]"}]}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"cone", "[", 
     RowBox[{"h", ",", "\[Beta]", ",", "\"\<baseangle\>\""}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"ad5b5403-1cf3-477d-a458-a360c2978259"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height and Depth", \
"Subsubsection",ExpressionUUID->"4e43b5ff-f03a-486d-a8ad-cad8d66886fe"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"genericConeDepthFromVolume", "[", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "c", ",", " ", "cc", ",", " ", "h", ",", " ", "r", ",", " ", "hh", ",", 
      " ", "vol", ",", "a", ",", " ", "eqn", ",", " ", "solns", ",", " ", 
      "soln"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{
     "conjures", " ", "up", " ", "a", " ", "soln", " ", "with", " ", 
      "varaibles", " ", "known", " ", "to", " ", "be", " ", "free"}], " ", 
     "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"c", " ", "=", " ", 
      RowBox[{"cone", "[", 
       RowBox[{"h", ",", "r"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"cc", " ", "=", " ", 
      RowBox[{"scaled", "[", 
       RowBox[{"c", ",", " ", 
        RowBox[{"hh", " ", "/", " ", "h"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"a", " ", "=", " ", 
      RowBox[{
       RowBox[{"assumptions", "[", "c", "]"}], " ", "&&", " ", 
       RowBox[{"assumptions", "[", "cc", "]"}], " ", "&&", " ", 
       RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], " ", ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqn", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"vol", " ", "\[Equal]", " ", 
         RowBox[{
          RowBox[{"volume", "[", "c", "]"}], " ", "-", " ", 
          RowBox[{"volume", "[", "cc", "]"}]}]}], ",", " ", "a"}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Assuming", "[", 
       RowBox[{"a", ",", " ", 
        RowBox[{"Solve", "[", 
         RowBox[{"eqn", ",", " ", "hh"}], "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"soln", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"h", " ", "-", " ", 
         RowBox[{"(", 
          RowBox[{"hh", " ", "/.", " ", 
           RowBox[{"First", " ", "@", " ", "solns"}]}], ")"}]}], ",", " ", 
        "a"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"genericConeDepthFromVolume", "[", "]"}], " ", "=", " ", 
      RowBox[{"{", 
       RowBox[{"h", ",", "r", ",", " ", "vol", ",", " ", "soln"}], 
       "}"}]}]}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"genericConeDepthFromVolume", "[", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"f2890e37-aabd-4a01-8c34-3868c0e1fa8b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", "r_"}], "]"}]}], ",", " ", "v_"}], "]"}], " ", ":=", 
  " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"hh", ",", " ", "rr", ",", " ", "vol", ",", " ", "soln"}], "}"}],
     ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"hh", ",", " ", "rr", ",", " ", "vol", ",", " ", "soln"}], 
       "}"}], " ", "=", " ", 
      RowBox[{"genericConeDepthFromVolume", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"soln", "  ", "/.", " ", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"hh", " ", "\[Rule]", " ", "h"}], ",", " ", 
          RowBox[{"rr", " ", "\[Rule]", " ", "r"}], ",", " ", 
          RowBox[{"vol", " ", "\[Rule]", " ", "v"}]}], "}"}]}], ")"}], " ", "//",
       " ", "FullSimplify"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
      "]"}]}], ",", " ", "v_"}], "]"}], ":=", " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"toCartesian", " ", "@", " ", "c"}], ",", " ", "v"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"c", ":", 
      RowBox[{"cone", "[", 
       RowBox[{"h_", ",", " ", "\[Beta]_", ",", "\"\<baseangle\>\""}], 
       "]"}]}], ",", " ", "v_"}], "]"}], ":=", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"toCartesian", " ", "@", " ", "c"}], ",", " ", "v"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", "r"}], "]"}], ",", " ", "volume"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
      "]"}], ",", " ", "volume"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", " ", "\[Beta]", ",", "\"\<baseangle\>\""}], "]"}], 
     ",", " ", "volume"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"b28a6672-c170-4dc0-b84d-7f97d9cc597f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", " ", "r_"}], "]"}]}], ",", " ", "depth_"}], "]"}], 
  " ", ":=", " ", 
  RowBox[{
   RowBox[{"genericVolumeFromDepthUsingInverse", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"hh", ",", "rr"}], "]"}], ",", " ", "dd"}], "]"}], " ", "/.", 
   " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"hh", "\[Rule]", " ", "h"}], ",", " ", 
     RowBox[{"rr", " ", "\[Rule]", " ", "r"}], ",", " ", 
     RowBox[{"dd", " ", "\[Rule]", " ", "depth"}]}], 
    "}"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
      "]"}]}], ",", " ", "v_"}], "]"}], ":=", " ", 
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"toCartesian", " ", "@", " ", "c"}], ",", " ", "v"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"c", ":", 
      RowBox[{"cone", "[", 
       RowBox[{"h_", ",", " ", "\[Beta]_", ",", "\"\<baseangle\>\""}], 
       "]"}]}], ",", " ", "v_"}], "]"}], ":=", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"toCartesian", " ", "@", " ", "c"}], ",", " ", "v"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", "r"}], "]"}], ",", "depth"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
      "]"}], ",", " ", "depth"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", " ", "\[Beta]", ",", "\"\<baseangle\>\""}], "]"}], 
     ",", " ", "depth"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"3e10e391-98be-41fa-86d7-c2e1b93636da"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
      "]"}]}], ",", " ", "depth_"}], "]"}], ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"hRemaining", ",", " ", "eqn", ",", " ", "result"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"hRemaining", " ", "=", " ", 
       RowBox[{"h", " ", "-", "depth"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"eqn", " ", "=", " ", 
       RowBox[{
        RowBox[{"result", " ", "/", " ", "hRemaining"}], " ", "\[Equal]", " ", 
        RowBox[{"Tan", "[", "\[Alpha]", "]"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"result", " ", "/.", " ", 
       RowBox[{"First", " ", "@", " ", 
        RowBox[{"Solve", "[", 
         RowBox[{"eqn", ",", " ", "result"}], "]"}]}]}]}], "*)"}], 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"h", " ", "-", " ", "depth"}], ")"}], " ", 
     RowBox[{"Tan", "[", "\[Alpha]", "]"}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", " ", "r_"}], "]"}]}], ",", " ", "depth_"}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"toApexAngled", "[", "c", "]"}], ",", " ", "depth"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"c", ":", 
      RowBox[{"cone", "[", 
       RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
       "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"toApexAngled", "[", "c", "]"}], ",", " ", "depth"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
      "]"}], ",", " ", "depth"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], 
      "]"}], ",", " ", "depth"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", " ", "r"}], "]"}], ",", " ", "depth"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"c6636688-b185-4c6a-9d45-4820ebf45d3c"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Testing", \
"Subsubsection",ExpressionUUID->"ae33e579-2122-4f97-ab4d-46f0f3ec832e"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{"2", ",", " ", 
    RowBox[{"\[Pi]", "/", "6"}], ",", " ", "\"\<apexangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volumeFromDepth", "[", 
     RowBox[{"example", ",", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<volume\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"radiusFromDepth", "[", 
     RowBox[{"example", ",", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<radius\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}]}], "Input",ExpressionUUID->"0e3171ab-ef8e-4c05-bf51-94bbc9231f19"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Inverted Cone", \
"Subsection",ExpressionUUID->"a64b90a3-0fb2-4e43-9e60-3cebd9a60c87"],

Cell[CellGroupData[{

Cell["Construction & Conversion", \
"Subsubsection",ExpressionUUID->"429a2e9f-ed22-41e0-9ae9-5749bc72e900"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toCone", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invert", " ", "@", " ", "c"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCone", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invert", " ", "@", " ", "c"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toCone", "[", 
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
      "]"}]}], "]"}], " ", ":=", " ", 
   RowBox[{"invert", " ", "@", " ", "c"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invert", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "c"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
     "]"}]}], "]"}], " ", ":=", 
  RowBox[{"invert", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "c"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toCartesian", "[", 
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
      "]"}]}], "]"}], " ", ":=", " ", 
   RowBox[{"invert", " ", "@", " ", 
    RowBox[{"toCartesian", " ", "@", " ", 
     RowBox[{"invert", " ", "@", " ", "c"}]}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{"h", ",", " ", "r"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{"h", ",", "\[Alpha]", ",", "\"\<apexangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"invert", "[", 
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
      "]"}]}], "]"}], " ", ":=", " ", 
   RowBox[{"cone", "[", 
    RowBox[{"h", ",", "\[Beta]", ",", "\"\<baseangle\>\""}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{"h", ",", " ", "r"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"cone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{"h", ",", "\[Alpha]", ",", "\"\<apexangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"invert", "[", 
    RowBox[{"c", ":", " ", 
     RowBox[{"cone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
      "]"}]}], "]"}], " ", ":=", " ", 
   RowBox[{"invertedCone", "[", 
    RowBox[{"h", ",", "\[Beta]", ",", "\"\<baseangle\>\""}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"scaled", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", "r_"}], "]"}]}], ",", " ", "factor_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{
    RowBox[{"h", " ", "*", " ", "factor"}], ",", " ", 
    RowBox[{"r", " ", "*", " ", "factor"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"scaled", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", "\[Alpha]_", ",", "\"\<apexangle\>\""}], "]"}]}], 
    ",", " ", "factor_"}], "]"}], ":=", " ", 
  RowBox[{"toApexAngled", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"toCartesian", " ", "@", " ", "c"}], ",", " ", "factor"}], 
    "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"scaled", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", "\[Beta]_", ",", "\"\<baseangle\>\""}], "]"}]}], ",",
     " ", "factor_"}], "]"}], ":=", 
  RowBox[{"toBaseAngled", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"toCartesian", " ", "@", " ", "c"}], ",", " ", "factor"}], 
    "]"}]}]}]}], \
"Input",ExpressionUUID->"cb530f5b-57ac-491f-b1d8-9e53e5dc12ab"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", "r"}], "]"}], ",", " ", "2"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
      "]"}], ",", "2"}], "]"}]}], " ", ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"scaled", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "baseangle"}], "]"}], ",", 
     "2"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"f63b996c-cd00-4611-96b8-4f0b551b19ff"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsubsection",ExpressionUUID->"489c3c73-b457-411d-9e4c-5c0a8cc7c89c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"assumptions", "[", 
   RowBox[{"toCone", " ", "@", " ", "c"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
     "]"}]}], "]"}], ":=", 
  RowBox[{"assumptions", "[", 
   RowBox[{"toCone", " ", "@", " ", "c"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], "]"}]}], 
   "]"}], ":=", 
  RowBox[{"assumptions", "[", 
   RowBox[{"toCone", " ", "@", " ", "c"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], "]"}],
     "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"f5542b20-341b-4fd8-9897-6fd8eefccfbf"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"radius", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  "r"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radius", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "\"\<apexangle\>\""}], "]"}]}], 
   "]"}], " ", ":=", " ", 
  RowBox[{"radius", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "c"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"radius", "[", 
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
      "]"}]}], "]"}], " ", ":=", " ", 
   RowBox[{"radius", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "c"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "r_"}], "]"}]}], "]"}], ":=", 
  "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "\"\<apexangle\>\""}], "]"}]}], 
   "]"}], " ", ":=", " ", "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", "\"\<baseangle\>\""}], "]"}]}], 
   "]"}], " ", ":=", " ", 
  "h"}]}], "Input",ExpressionUUID->"dc744b19-e444-4da9-bb19-e15e7676a3fb"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"Assuming", "[", 
   RowBox[{
    RowBox[{"assumptions", "[", "c", "]"}], ",", " ", 
    RowBox[{"ArcTan", "[", 
     RowBox[{"h", ",", " ", "r"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", "\"\<apexangle\>\""}], "]"}]}],
    "]"}], ":=", " ", "\[Alpha]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", "\"\<baseangle\>\""}], "]"}]}], 
   "]"}], ":=", 
  RowBox[{"complement", "[", 
   RowBox[{"baseangle", "[", "c", "]"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"Assuming", "[", 
   RowBox[{
    RowBox[{"assumptions", "[", "c", "]"}], ",", " ", 
    RowBox[{"ArcTan", "[", 
     RowBox[{"r", ",", " ", "h"}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", "\"\<apexangle\>\""}], "]"}]}],
    "]"}], ":=", " ", 
  RowBox[{"complement", "[", "\[Alpha]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", "\"\<baseangle\>\""}], "]"}]}], 
   "]"}], ":=", 
  "\[Beta]"}]}], \
"Input",ExpressionUUID->"38e3ef7b-a2ba-4a6d-817c-f2902c7ac5a5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", "\"\<apexangle\>\""}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", "\"\<baseangle\>\""}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"baseangle", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"baseangle", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", "\"\<apexangle\>\""}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{
    StyleBox["baseangle",
     FontWeight->"Bold"], "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", "\"\<baseangle\>\""}], "]"}], 
    "]"}]}], ";"}]}], \
"Input",ExpressionUUID->"ebe56994-73cb-4b9d-a83f-69ef258c8bd9"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Conversion Redux", \
"Subsubsection",ExpressionUUID->"e5b719cc-42db-452b-be04-b37ed947966a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toInvertedCone", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  "c"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toInvertedCone", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"h", " ", 
     RowBox[{"Tan", "[", "\[Alpha]", "]"}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toInvertedCone", "[", 
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
      "]"}]}], "]"}], " ", ":=", " ", 
   RowBox[{"toInvertedCone", "[", 
    RowBox[{"toApexAngled", "[", "c", "]"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"toInvertedCone", " ", "@", " ", "c"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"toInvertedCone", " ", "@", " ", "c"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toCartesian", "[", 
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
      "]"}]}], "]"}], " ", ":=", " ", 
   RowBox[{"toInvertedCone", " ", "@", " ", "c"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"apexangle", "[", "c", "]"}], ",", " ", "\"\<apexangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "\"\<apexangle\>\""}], "]"}]}], 
   "]"}], ":=", " ", "c"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toApexAngled", "[", 
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", "\[Beta]_", ",", "\"\<baseangle\>\""}], "]"}]}], 
    "]"}], ":=", " ", 
   RowBox[{"invertedCone", "[", 
    RowBox[{"h", ",", " ", 
     RowBox[{"apexangle", "[", "c", "]"}], ",", " ", "\"\<apexangle\>\""}], 
    "]"}]}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"baseangle", "[", "c", "]"}], ",", " ", "\"\<baseangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Alpha]_", ",", "\"\<apexangle\>\""}], "]"}]}], 
   "]"}], ":=", " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"baseangle", "[", "c", "]"}], ",", " ", "\"\<baseangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "\[Beta]_", ",", "\"\<baseangle\>\""}], "]"}]}], 
   "]"}], ":=", " ", 
  "c"}]}], "Input",ExpressionUUID->"07fe310a-9462-44f1-ae51-cd16bfb0aad1"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toInvertedCone", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toInvertedCone", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toInvertedCone", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], "]"}],
     "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], "]"}],
     "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], "]"}],
     "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"ad13e60d-0bfa-4d2f-be66-588581c8f521"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsubsection",ExpressionUUID->"1ae6326f-9092-46be-9bd8-a9753e254b1b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{"toCone", " ", "@", " ", "c"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
     "]"}]}], "]"}], ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{"toCone", " ", "@", " ", "c"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{"toCone", " ", "@", " ", "c"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "\[Alpha]", ",", "\"\<apexangle\>\""}], "]"}], "]"}]}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"invertedCone", "[", 
     RowBox[{"h", ",", "\[Beta]", ",", "\"\<baseangle\>\""}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"c083abed-8bba-4ffd-a0cc-be61d4b6b296"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height and Depth", \
"Subsubsection",ExpressionUUID->"ff3f47b6-6b93-4744-af0f-058c0af8c6d3"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"genericInvertedConeDepthFromVolume", "[", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "c", ",", " ", "h", ",", " ", "\[Alpha]", ",", " ", "hh", ",", " ", 
      "vol", ",", "a", ",", " ", "eqn", ",", " ", "solns", ",", " ", "soln"}],
      "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"c", " ", "=", " ", 
      RowBox[{"invertedCone", "[", 
       RowBox[{"h", ",", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], "]"}]}],
      ";", "\[IndentingNewLine]", 
     RowBox[{"a", " ", "=", " ", 
      RowBox[{
       RowBox[{"assumptions", "[", "c", "]"}], "  ", "&&", " ", 
       RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], " ", ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqn", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"vol", " ", "\[Equal]", " ", 
         RowBox[{"volume", "[", "c", "]"}]}], ",", " ", "a"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Assuming", "[", 
       RowBox[{"a", ",", " ", 
        RowBox[{"Solve", "[", 
         RowBox[{"eqn", ",", " ", "h"}], "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"soln", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"h", " ", "/.", " ", 
         RowBox[{"solns", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], ",", " ", "a"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"genericInvertedConeDepthFromVolume", "[", "]"}], " ", "=", " ", 
      RowBox[{"{", 
       RowBox[{"\[Alpha]", ",", "vol", ",", "soln"}], "}"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"genericInvertedConeDepthFromVolume", "[", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"49b86f54-6ad5-4b88-85c7-baf8182d3050"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedCone", "[", 
      RowBox[{
      "ignored_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
      "]"}]}], ",", " ", "v_"}], "]"}], ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\[Alpha]\[Alpha]", ",", " ", "vol", ",", " ", "soln"}], "}"}], 
    ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\[Alpha]\[Alpha]", ",", " ", "vol", ",", " ", "soln"}], "}"}],
       " ", "=", " ", 
      RowBox[{"genericInvertedConeDepthFromVolume", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"soln", "  ", "/.", " ", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"\[Alpha]\[Alpha]", "\[Rule]", "\[Alpha]"}], ",", " ", 
          RowBox[{"vol", "\[Rule]", "v"}]}], "}"}]}], ")"}], " ", "//", " ", 
      "FullSimplify"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", "r_"}], "]"}]}], ",", " ", "v_"}], "]"}], " ", ":=", 
  " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"toApexAngled", " ", "@", " ", "c"}], ",", " ", "v"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"c", ":", " ", 
      RowBox[{"invertedCone", "[", 
       RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
       "]"}]}], ",", " ", "v_"}], "]"}], " ", ":=", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"toApexAngled", " ", "@", " ", "c"}], ",", " ", "v"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{
      "ignored", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], "]"}],
      ",", " ", "volume"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", "r"}], "]"}], ",", " ", "volume"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", " ", "\[Beta]", ",", "\"\<baseangle\>\""}], "]"}], 
     ",", " ", "volume"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"cf711b47-c540-460b-94b2-5428859d1756"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
      "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"genericVolumeFromDepthUsingInverse", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"hh", ",", "\[Alpha]\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
      "]"}], ",", " ", "dd"}], "]"}], " ", "/.", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"hh", "\[Rule]", " ", "h"}], ",", " ", 
     RowBox[{"\[Alpha]\[Alpha]", " ", "\[Rule]", " ", "\[Alpha]"}], ",", " ", 
     RowBox[{"dd", " ", "\[Rule]", " ", "depth"}]}], 
    "}"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
      "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"genericVolumeFromDepthUsingInverse", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"hh", ",", "\[Beta]\[Beta]", ",", " ", "\"\<baseangle\>\""}], 
      "]"}], ",", " ", "dd"}], "]"}], " ", "/.", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"hh", "\[Rule]", " ", "h"}], ",", " ", 
     RowBox[{"\[Beta]\[Beta]", " ", "\[Rule]", " ", "\[Beta]"}], ",", " ", 
     RowBox[{"dd", " ", "\[Rule]", " ", "depth"}]}], 
    "}"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "r_"}], "]"}]}], ",", " ", "depth_"}], "]"}], 
  " ", ":=", " ", 
  RowBox[{
   RowBox[{"genericVolumeFromDepthUsingInverse", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"hh", ",", "rr"}], "]"}], ",", " ", "dd"}], "]"}], " ", "/.", 
   " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"hh", "\[Rule]", " ", "h"}], ",", " ", 
     RowBox[{"rr", " ", "\[Rule]", " ", "r"}], ",", " ", 
     RowBox[{"dd", " ", "\[Rule]", " ", "depth"}]}], 
    "}"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
      "]"}], ",", " ", "depth"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], 
      "]"}], ",", " ", "depth"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", "r"}], "]"}], ",", " ", "depth"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"e00202a6-4961-4416-b612-b5b07579dab7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "\[Alpha]_", ",", " ", "\"\<apexangle\>\""}], 
      "]"}]}], ",", " ", "depth_"}], "]"}], ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"eqn", ",", " ", "result"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"eqn", " ", "=", " ", 
       RowBox[{
        RowBox[{"result", " ", "/", " ", "depth"}], " ", "\[Equal]", " ", 
        RowBox[{"Tan", "[", "\[Alpha]", "]"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"result", " ", "/.", " ", 
       RowBox[{"First", " ", "@", " ", 
        RowBox[{"Solve", "[", 
         RowBox[{"eqn", ",", " ", "result"}], "]"}]}]}]}], "*)"}], 
    "\[IndentingNewLine]", 
    RowBox[{"depth", " ", 
     RowBox[{"Tan", "[", "\[Alpha]", "]"}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"invertedCone", "[", 
      RowBox[{"h_", ",", " ", "r_"}], "]"}]}], ",", " ", "depth_"}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"toApexAngled", "[", "c", "]"}], ",", " ", "depth"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"c", ":", 
      RowBox[{"invertedCone", "[", 
       RowBox[{"h_", ",", " ", "\[Beta]_", ",", " ", "\"\<baseangle\>\""}], 
       "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"toApexAngled", "[", "c", "]"}], ",", " ", "depth"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
      "]"}], ",", " ", "depth"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", " ", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], 
      "]"}], ",", " ", "depth"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedCone", "[", 
      RowBox[{"h", ",", " ", "r"}], "]"}], ",", " ", "depth"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"cda09f6f-ee41-4880-bbc7-749cb340b998"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Testing", \
"Subsubsection",ExpressionUUID->"08fcd502-ddfb-4f05-b00e-ba204084e2e6"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"invertedCone", "[", 
   RowBox[{"2", ",", " ", 
    RowBox[{"\[Pi]", "/", "6"}], ",", " ", "\"\<apexangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volumeFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<volume\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"radiusFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<radius\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}]}], "Input",ExpressionUUID->"eda28cd1-4ea9-4c41-851c-83ef569ccd57"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{"2", ",", " ", 
    RowBox[{"\[Pi]", "/", "6"}], ",", " ", "\"\<apexangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volumeFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<volume\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"radiusFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<radius\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}]}], "Input",ExpressionUUID->"282eb182-df4b-4463-93e5-fc1a32a32034"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Cylinder", \
"Subsection",ExpressionUUID->"268f996d-601e-4c4d-8349-4b98c2192a1a"],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsubsection",ExpressionUUID->"9aa74426-8f97-4e1a-a673-b6c6286c20be"],

Cell[BoxData[
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"cylinder", "[", 
    RowBox[{"h_", ",", " ", "r_"}], "]"}], "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"h", " ", ">=", " ", "0"}], " ", "&&", " ", 
   RowBox[{
   "r", " ", ">=", " ", 
    "0"}]}]}]], \
"Input",ExpressionUUID->"6906adab-d37d-4f82-8859-4884ac5c2862"],

Cell[BoxData[
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"cylinder", "[", 
     RowBox[{"h", ",", " ", "r"}], "]"}], "]"}]}], 
  ";"}]], "Input",ExpressionUUID->"c51dab49-73f5-4c22-999d-f648404a5d1b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"emptyCylinder", "[", "]"}], " ", ":=", " ", 
  RowBox[{"cylinder", "[", 
   RowBox[{"0", ",", "0"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cylinder", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radius", "[", 
   RowBox[{"c", ":", 
    RowBox[{"cylinder", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], ":=", " ", 
  "r"}]}], "Input",ExpressionUUID->"544c155e-c8c3-4072-aef6-30d6d63db032"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"cylinder", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  "c"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"cylinder", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  "c"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"cylinder", "[", 
     RowBox[{"h_", ",", " ", "r_"}], "]"}]}], "]"}], " ", ":=", " ", 
  "c"}]}], "Input",ExpressionUUID->"595bd3d2-27e3-4067-9937-721bcddff9ed"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsubsection",ExpressionUUID->"ad784929-644a-4b85-bcda-e7c523ca7cea"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"volume", "[", 
    RowBox[{"cylinder", "[", 
     RowBox[{"h_", ",", "r_"}], "]"}], "]"}], " ", ":=", " ", 
   RowBox[{"Pi", " ", "r", " ", "r", " ", "h"}]}], 
  " "}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"cylinder", "[", 
     RowBox[{"h", ",", "r"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", " ", "@", " ", 
    RowBox[{"emptyCylinder", "[", "]"}]}]}], 
  ";"}]}], "Input",ExpressionUUID->"5b3bb265-2276-4272-92b2-e591c51ea43e"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height and Depth", \
"Subsubsection",ExpressionUUID->"30b784b4-6156-43b7-bd50-3cb3552d3a14"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cylinder", "[", 
      RowBox[{"_", ",", "0"}], "]"}]}], ",", " ", "v_"}], "]"}], " ", ":=", 
  " ", "0"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cylinder", "[", 
      RowBox[{"0", ",", "_"}], "]"}]}], ",", " ", "v_"}], "]"}], " ", ":=", 
  " ", "0"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cylinder", "[", 
      RowBox[{"_", ",", "r_"}], "]"}]}], ",", " ", "v_"}], "]"}], " ", ":=", 
  " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "hh", "}"}], ",", " ", 
    RowBox[{"hh", " ", "/.", " ", 
     RowBox[{"First", " ", "@", " ", 
      RowBox[{"Solve", "[", 
       RowBox[{
        RowBox[{"v", " ", "\[Equal]", " ", 
         RowBox[{"volume", "[", 
          RowBox[{"cylinder", "[", 
           RowBox[{"hh", ",", "r"}], "]"}], "]"}]}], ",", " ", "hh"}], 
       "]"}]}]}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"cylinder", "[", 
      RowBox[{"ignored", ",", "r"}], "]"}], ",", " ", "volume"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"cylinder", "[", 
      RowBox[{"1", ",", "2"}], "]"}], ",", " ", "volume"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"emptyCylinder", "[", "]"}], ",", " ", "volume"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"ef46489a-deb5-41fa-888c-f96402496143"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"cylinder", "[", 
      RowBox[{"h_", ",", " ", "r_"}], "]"}]}], ",", " ", "depth_"}], "]"}], 
  " ", ":=", " ", 
  RowBox[{
   RowBox[{"genericVolumeFromDepthUsingInverse", "[", 
    RowBox[{
     RowBox[{"cylinder", "[", 
      RowBox[{"hh", ",", "rr"}], "]"}], ",", " ", "dd"}], "]"}], " ", "/.", 
   " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"hh", "\[Rule]", "h"}], ",", " ", 
     RowBox[{"rr", "\[Rule]", "r"}], ",", " ", 
     RowBox[{"dd", "\[Rule]", " ", "depth"}]}], 
    "}"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"cylinder", "[", 
      RowBox[{"h", ",", "r"}], "]"}], ",", " ", "depth"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"dceaf8ec-59ed-4a13-a1a7-e094d2a61301"],

Cell[BoxData[
 RowBox[{
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", 
     RowBox[{"cylinder", "[", 
      RowBox[{"h_", ",", " ", "r_"}], "]"}]}], ",", " ", "depth_"}], "]"}], 
  " ", ":=", " ", 
  "r"}]], "Input",ExpressionUUID->"33af20d4-9438-44d3-bb14-201c11669413"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Testing", \
"Subsubsection",ExpressionUUID->"05307345-4a74-4a9d-9988-54cf1a0e2b68"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"cylinder", "[", 
   RowBox[{"4", ",", " ", "2"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volumeFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<volume\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"radiusFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<radius\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}]}], "Input",ExpressionUUID->"645760b4-e03e-4f17-9d9a-58f468eb9693"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Right Conical Frustum", \
"Subsection",ExpressionUUID->"e49bc361-322b-49a0-9324-adfcdc3a1faa"],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsubsection",ExpressionUUID->"43b8a553-f599-44d8-9adb-205ffb2b5cd0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"frustum", "[", 
    RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}], "]"}], " ",
   ":=", " ", 
  RowBox[{
   RowBox[{"h", "\[GreaterEqual]", "0"}], " ", "&&", " ", 
   RowBox[{"rbig", " ", "\[GreaterEqual]", " ", "0"}], " ", "&&", " ", 
   RowBox[{"rsmall", " ", "\[GreaterEqual]", " ", "0"}], " ", "&&", " ", 
   RowBox[{"rbig", " ", ">", " ", "rsmall"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"frustum", "[", 
    RowBox[{
    "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
     "\"\<apexangle\>\""}], "]"}], "]"}], " ", ":=", " ", 
  RowBox[{"FullSimplify", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", 
      RowBox[{"complement", "[", "\[Alpha]", "]"}], ",", " ", 
      "\"\<baseangle\>\""}], "]"}], "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"frustum", "[", 
    RowBox[{
    "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
     "\"\<baseangle\>\""}], "]"}], "]"}], " ", ":=", " ", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{
    RowBox[{"h", "\[GreaterEqual]", "0"}], " ", "&&", " ", 
    RowBox[{"rbig", "\[GreaterEqual]", " ", "0"}], " ", "&&", " ", 
    RowBox[{"\[Beta]", " ", ">", " ", "0"}], " ", "&&", " ", 
    RowBox[{"\[Beta]", " ", "<", " ", 
     RowBox[{"\[Pi]", "/", "2"}]}]}], 
   "]"}]}]}], "Input",ExpressionUUID->"489c2a11-40a4-4d7f-b280-e3eb125ede08"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", " ", 
      "\"\<apexangle\>\""}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", " ", 
      "\"\<baseangle\>\""}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"3d87902f-589b-49bf-a49a-1a208098175b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], ":=", " ", 
  "\[Alpha]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], ":=", 
  RowBox[{"complement", "[", 
   RowBox[{"baseangle", "[", "f", "]"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"apexangle", "[", 
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], ":=", 
   RowBox[{"Assuming", "[", 
    RowBox[{
     RowBox[{"assumptions", "[", "f", "]"}], ",", " ", 
     RowBox[{"ArcTan", "[", 
      RowBox[{"h", ",", " ", 
       RowBox[{"rbig", "-", "rsmall"}]}], "]"}]}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"complement", "[", " ", 
   RowBox[{"apexangle", "[", "f", "]"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  "\[Beta]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"baseangle", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"Assuming", "[", 
    RowBox[{
     RowBox[{"assumptions", "[", "f", "]"}], ",", " ", 
     RowBox[{"ArcTan", "[", 
      RowBox[{
       RowBox[{"rbig", "-", "rsmall"}], ",", " ", "h"}], "]"}]}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"baseangle", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", "rbig_", ",", 
       RowBox[{"rbig_", "-", 
        RowBox[{"h_", " ", 
         RowBox[{"Cot", "[", "\[Beta]_", "]"}]}]}]}], "]"}]}], "]"}], " ", ":=",
    " ", "\[Beta]"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"baseangle", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"{", " ", 
    RowBox[{
     RowBox[{"baseangle", "[", 
      RowBox[{"frustum", "[", 
       RowBox[{"1", ",", " ", "3", ",", " ", "2"}], "]"}], "]"}], ",", " ", 
     RowBox[{"baseangle", "[", 
      RowBox[{"frustum", "[", 
       RowBox[{
        RowBox[{"Sqrt", "[", "3", "]"}], ",", " ", "2", ",", " ", "1"}], 
       "]"}], "]"}]}], "}"}]}], 
  ";"}]}], "Input",ExpressionUUID->"6e23e0d6-8580-45d2-85ef-f6dbc1d06acf"],

Cell[BoxData[{
 RowBox[{"Solve", "[", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"rbig", " ", "-", " ", "rsmall"}], ")"}], " ", "/", " ", "h"}], 
    " ", "\[Equal]", " ", 
    RowBox[{"Tan", "[", "\[Alpha]", "]"}]}], ",", " ", "rsmall"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"Solve", "[", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"rbig", " ", "-", " ", "rsmall"}], ")"}], " ", "/", " ", "h"}], 
    " ", "\[Equal]", " ", 
    RowBox[{"Tan", "[", "\[Alpha]", "]"}]}], ",", " ", "rbig"}], 
  "]"}]}], "Input",ExpressionUUID->"4339313c-3074-4176-8abd-0da5c5e63698"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"rbig", "[", 
   RowBox[{
   "h_", ",", " ", "rsmall_", ",", " ", "\[Alpha]_", ",", " ", 
    "\"\<apexangle\>\""}], "]"}], " ", ":=", " ", 
  RowBox[{"rsmall", " ", "+", " ", 
   RowBox[{"h", " ", 
    RowBox[{"Tan", "[", "\[Alpha]", "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{
   "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
    "\"\<apexangle\>\""}], "]"}], " ", ":=", " ", 
  RowBox[{"rbig", " ", "-", " ", 
   RowBox[{"h", " ", 
    RowBox[{"Tan", "[", "\[Alpha]", "]"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rbig", "[", 
   RowBox[{
   "h_", ",", " ", "rsmall_", ",", " ", "\[Beta]_", ",", " ", 
    "\"\<baseangle\>\""}], "]"}], " ", ":=", " ", 
  RowBox[{"rbig", "[", 
   RowBox[{"h", ",", " ", "rsmall", ",", " ", 
    RowBox[{"complement", "[", "\[Beta]", "]"}], ",", " ", 
    "\"\<apexangle\>\""}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{
   "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
    "\"\<baseangle\>\""}], "]"}], " ", ":=", " ", 
  RowBox[{"rsmall", "[", 
   RowBox[{"h", ",", " ", "rsmall", ",", " ", 
    RowBox[{"complement", "[", "\[Beta]", "]"}], ",", " ", 
    "\"\<apexangle\>\""}], 
   "]"}]}]}], "Input",ExpressionUUID->"03506145-093e-4b01-a00b-191b249b78bb"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  "h"}]}], "Input",ExpressionUUID->"03d53029-ebfc-4a96-b195-601c09f39c4f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"rbig", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  "rbig"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rbig", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  "rbig"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rbig", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  "rbig"}]}], "Input",ExpressionUUID->"c324bef0-1083-4154-98de-07fd3dbf41ca"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Tan", "[", "\[Alpha]", "]"}], " ", "/", " ", 
   RowBox[{"Cot", "[", 
    RowBox[{"complement", "[", "\[Alpha]", "]"}], "]"}]}], " ", "\[Equal]", 
  " ", "1"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Assuming", "[", 
   RowBox[{
    RowBox[{"assumptions", "[", "f", "]"}], ",", " ", 
    RowBox[{"rsmall", "[", 
     RowBox[{
     "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Assuming", "[", 
   RowBox[{
    RowBox[{"assumptions", "[", "f", "]"}], ",", " ", 
    RowBox[{"rsmall", "[", 
     RowBox[{
     "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", "rsmall"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", "rbig_", ",", 
      RowBox[{"ArcTan", "[", 
       RowBox[{
        RowBox[{"rbig_", "-", "rsmall_"}], ",", "h_"}], "]"}], ",", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  "rsmall"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"rsmall", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h", ",", "rbig", ",", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"rsmall", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h", ",", "rbig", ",", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], "]"}],
     "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"rsmall", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "rsmall"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"0f0b9eda-12cd-45a1-9f0d-b134567af187"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Construction & Conversion", \
"Subsubsection",ExpressionUUID->"fcff828c-bb16-4164-a190-488e96d7694b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toFrustum", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", "rbig", ",", 
    RowBox[{"rsmall", "[", "f", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toFrustum", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", "rbig", ",", 
    RowBox[{"rsmall", "[", "f", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toFrustum", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", "f"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"toFrustum", " ", "@", " ", "f"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"toFrustum", " ", "@", " ", "f"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toCartesian", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"toFrustum", " ", "@", " ", "f"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  "f"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", " ", "rbig", ",", " ", 
    RowBox[{"complement", "[", "\[Beta]", "]"}], ",", " ", 
    "\"\<apexangle\>\""}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toApexAngled", "[", 
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"frustum", "[", 
    RowBox[{"h", ",", " ", "rbig", ",", " ", 
     RowBox[{"apexangle", "[", "f", "]"}], ",", " ", "\"\<apexangle\>\""}], 
    "]"}]}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], " ", ":=", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", " ", "rbig", ",", " ", 
    RowBox[{"complement", "[", "\[Alpha]", "]"}], ",", " ", 
    "\"\<baseangle\>\""}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  "f"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", " ", "rbig", ",", " ", 
    RowBox[{"baseangle", "[", "f", "]"}], ",", " ", "\"\<baseangle\>\""}], 
   "]"}]}]}], "Input",ExpressionUUID->"29e42e1e-cb99-4413-b621-03727087be8d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", " ", "%"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", " ", "@", " ", "%%"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toFrustum", " ", "@", "  ", "%"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", "  ", "%%"}]}], 
  ";"}]}], "Input",ExpressionUUID->"38b7c5a4-e070-416e-ad4c-877c18c50cf9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", "%"}]}], 
  ";"}]}], "Input",ExpressionUUID->"368feb84-cda9-4cb8-80f4-ae631e545ed3"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsubsection",ExpressionUUID->"d54a95d2-c602-4270-b8d7-6cb9baf5c291"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"genericConeHeightCartesianFrustum", "[", "]"}], " ", ":=", " ", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "f", ",", " ", "h", ",", " ", "rbig", ",", " ", "rsmall", ",", " ", 
       "eqn", ",", " ", "ch"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"f", " ", "=", " ", 
       RowBox[{"frustum", "[", 
        RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"eqn", " ", "=", " ", 
       RowBox[{
        RowBox[{"ch", " ", "/", " ", "rbig"}], " ", "\[Equal]", " ", 
        RowBox[{"h", " ", "/", " ", 
         RowBox[{"(", 
          RowBox[{"rbig", " ", "-", " ", "rsmall"}], ")"}]}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"genericConeHeightCartesianFrustum", "[", "]"}], " ", "=", " ", 
       RowBox[{"{", 
        RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall", ",", " ", 
         RowBox[{"ch", " ", "/.", " ", 
          RowBox[{"First", " ", "@", " ", 
           RowBox[{"Solve", "[", 
            RowBox[{"eqn", ",", " ", "ch"}], "]"}]}]}]}], "}"}]}]}]}], 
    "\[IndentingNewLine]", "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"coneHeight", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], ":=", 
  RowBox[{"rbig", " ", "/", " ", 
   RowBox[{"Tan", "[", "\[Alpha]", "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"coneHeight", "[", 
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
       "\"\<baseangle\>\""}], "]"}]}], "]"}], ":=", 
   RowBox[{"rbig", " ", "/", " ", 
    RowBox[{"Cot", "[", "\[Beta]", "]"}]}]}], " "}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"coneHeight", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"hh", ",", " ", "rrbig", ",", " ", "rrsmall", ",", " ", "ch"}], 
     "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"hh", ",", " ", "rrbig", ",", " ", "rrsmall", ",", " ", "ch"}],
        "}"}], " ", "=", " ", 
      RowBox[{"genericConeHeightCartesianFrustum", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"ch", " ", "/.", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"hh", " ", "\[Rule]", " ", "h"}], ",", " ", 
        RowBox[{"rrbig", " ", "\[Rule]", " ", "rbig"}], ",", " ", 
        RowBox[{"rrsmall", " ", "\[Rule]", " ", "rsmall"}]}], "}"}]}]}]}], 
   " ", "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Alpha]", ",", "\"\<apexangle\>\""}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Beta]", ",", "\"\<baseangle\>\""}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", " ", "@", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Beta]", ",", "\"\<baseangle\>\""}], 
     "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "@", " ", "%"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "rsmall"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"1", ",", " ", "3", ",", " ", "2"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"50ade1b7-e803-4726-a3a1-973d21c77ab6"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"fullCone", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{
    RowBox[{"coneHeight", "[", "f", "]"}], ",", " ", "\[Alpha]", ",", 
    "\"\<apexangle\>\""}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fullCone", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"fullCone", " ", "@", " ", 
   RowBox[{"toApexAngled", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fullCone", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{
    RowBox[{"coneHeight", "[", "f", "]"}], ",", " ", "rbig"}], 
   "]"}]}]}], "Input",ExpressionUUID->"cdeea2b3-8dcd-4879-a6a9-e5e868cc1619"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"topCone", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"cone", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"coneHeight", "[", "f", "]"}], "-", "h"}], ",", " ", "\[Alpha]", 
    ",", "\"\<apexangle\>\""}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"topCone", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"topCone", " ", "@", " ", 
   RowBox[{"toApexAngled", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"topCone", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"full", ",", " ", "eqn", ",", " ", "scale", ",", " ", "result"}],
      "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"full", " ", "=", " ", 
      RowBox[{"fullCone", "[", "f", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"scaled", "[", 
       RowBox[{"full", ",", " ", "scale"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqn", " ", "=", " ", 
      RowBox[{
       RowBox[{"radius", "[", "result", "]"}], " ", "\[Equal]", " ", 
       "rsmall"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"result", " ", "/.", " ", 
      RowBox[{"First", " ", "@", " ", 
       RowBox[{"Solve", "[", 
        RowBox[{"eqn", ",", " ", "scale"}], "]"}]}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"topCone", "[", 
    RowBox[{"frustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"a456ebc9-d20f-41dc-82b2-e6fd224f024c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"volume", "[", 
     RowBox[{"fullCone", "[", "f", "]"}], "]"}], "-", 
    RowBox[{"volume", "[", 
     RowBox[{"topCone", "[", "f", "]"}], "]"}]}], " ", "//", " ", 
   "FullSimplify"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"volume", "[", 
     RowBox[{"fullCone", "[", "f", "]"}], "]"}], "-", 
    RowBox[{"volume", "[", 
     RowBox[{"topCone", "[", "f", "]"}], "]"}]}], " ", "//", " ", 
   "FullSimplify"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{
   "toApexAngled", "[", "f", 
    "]"}]}]}]}], \
"Input",ExpressionUUID->"151660bd-05b9-4f47-bae5-d60eacd767d7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"compare", " ", "to", " ", "textbook", " ", "answer", " ", 
    FractionBox["1", "3"], " ", "h", " ", "\[Pi]", " ", 
    RowBox[{"(", 
     RowBox[{
      SuperscriptBox["r1", "2"], "+", 
      RowBox[{"r1", " ", "r2"}], "+", 
      SuperscriptBox["r2", "2"]}], ")"}]}], " ", "*)"}], 
  "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"test", " ", "@", " ", 
     RowBox[{"volume", "[", 
      RowBox[{"frustum", "[", 
       RowBox[{"h", ",", "r1", ",", "r2"}], "]"}], "]"}]}], ";"}], " ", 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"test", " ", "@", " ", 
     RowBox[{"volume", "[", 
      RowBox[{"frustum", "[", 
       RowBox[{"h", ",", "r", ",", "\[Alpha]", ",", "\"\<apexangle\>\""}], 
       "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"test", " ", "@", " ", 
     RowBox[{"volume", "[", 
      RowBox[{"toFrustum", " ", "@", " ", 
       RowBox[{"frustum", "[", 
        RowBox[{"h", ",", "r", ",", "\[Alpha]", ",", "\"\<apexangle\>\""}], 
        "]"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"%", " ", "/", " ", "%%"}], " ", "//", " ", "FullSimplify"}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"test", " ", "@", " ", 
     RowBox[{"volume", "[", 
      RowBox[{"frustum", "[", 
       RowBox[{
       "h", ",", " ", "r", ",", " ", "\[Beta]", ",", "\"\<baseangle\>\""}], 
       "]"}], "]"}]}], 
    ";"}]}]}]], "Input",ExpressionUUID->"20ad7c34-c981-48f0-b1ad-ff0dc60f43d5"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height and Depth: Angled", \
"Subsubsection",ExpressionUUID->"44a527b7-05dc-4f7a-b6c8-673330f82736"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"genericFrustumDepthFromVolumeApex", "[", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "f", ",", " ", "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", " ", 
      "vol", ",", "a", ",", " ", "eqn", ",", " ", "solns", ",", " ", 
      "depth"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{
     "conjures", " ", "up", " ", "a", " ", "soln", " ", "with", " ", 
      "varaibles", " ", "known", " ", "to", " ", "be", " ", "free"}], " ", 
     "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"f", " ", "=", " ", 
      RowBox[{"frustum", "[", 
       RowBox[{
       "h", ",", "rbig", ",", " ", "\[Alpha]", ",", " ", 
        "\"\<apexangle\>\""}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"a", " ", "=", " ", 
      RowBox[{
       RowBox[{"assumptions", "[", "f", "]"}], " ", "&&", " ", 
       RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqn", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"vol", " ", "\[Equal]", " ", 
         RowBox[{"volume", "[", "f", "]"}]}], ",", " ", "a"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Assuming", "[", 
       RowBox[{"a", ",", " ", 
        RowBox[{"Solve", "[", 
         RowBox[{"eqn", ",", " ", "h"}], "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"depth", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"h", " ", "/.", " ", 
         RowBox[{"First", " ", "@", " ", "solns"}]}], ",", " ", "a"}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"genericFrustumDepthFromVolume1", "[", "]"}], " ", "=", " ", 
      RowBox[{"{", 
       RowBox[{
       "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", " ", "vol", ",", " ",
         "depth"}], "}"}]}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"genericFrustumDepthFromVolumeApex", "[", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"5dbfc950-9a56-4971-ba88-d66729d461db"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{
      "ignored_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
       "\"\<apexangle\>\""}], "]"}]}], ",", " ", "vol_"}], "]"}], " ", ":=", 
  " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hh", ",", " ", "rr", ",", " ", "\[Alpha]\[Alpha]", ",", " ", "vv", ",", 
      "eqn", ",", " ", "depth"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "hh", ",", " ", "rr", ",", " ", "\[Alpha]\[Alpha]", ",", " ", "vv", 
        ",", " ", "depth"}], "}"}], "=", 
      RowBox[{"genericFrustumDepthFromVolumeApex", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"depth", " ", "/.", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"rr", "\[Rule]", "rbig"}], ",", " ", 
        RowBox[{"\[Alpha]\[Alpha]", "\[Rule]", "\[Alpha]"}], ",", " ", 
        RowBox[{"vv", "\[Rule]", "vol"}]}], "}"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"generalApexFrustum", " ", "=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{
   "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", " ", 
    "\"\<apexangle\>\""}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"generalApexFrustum", ",", " ", "vol"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"74dc6d1d-417f-4e47-ae2a-64864eb276a0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{
      "ignored_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
       "\"\<baseangle\>\""}], "]"}]}], ",", " ", "vol_"}], "]"}], " ", ":=", 
  "  ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hh", ",", " ", "rr", ",", " ", "\[Alpha]\[Alpha]", ",", " ", "vv", ",", 
      "eqn", ",", " ", "soln"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "hh", ",", " ", "rr", ",", " ", "\[Alpha]\[Alpha]", ",", " ", "vv", 
        ",", " ", "soln"}], "}"}], "=", 
      RowBox[{"genericFrustumDepthFromVolumeApex", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"soln", " ", "/.", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"rr", "\[Rule]", "rbig"}], ",", " ", 
        RowBox[{"\[Alpha]\[Alpha]", "\[Rule]", 
         RowBox[{"apexangle", "[", "f", "]"}]}], ",", " ", 
        RowBox[{"vv", "\[Rule]", "vol"}]}], "}"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"generalBaseFrustum", " ", "=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{
   "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", " ", 
    "\"\<baseangle\>\""}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"generalBaseFrustum", ",", " ", "vol"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"6432cfe7-9db1-4d4b-9570-5ebfb2d1caa9"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height and Depth: Cartesian", \
"Subsubsection",ExpressionUUID->"6fc79875-6565-45e4-b956-17dd1d82f4de"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"genericFrustumDepthFromVolumeCartesian", "[", "]"}], " ", ":=", 
  " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "f", ",", " ", "ch", ",", " ", "fullf", ",", " ", "topf", ",", " ", 
      "scaledTop", ",", " ", "scale", ",", " ", "h", ",", " ", "rbig", ",", 
      " ", "rsmall", ",", " ", "vol", ",", " ", "a", ",", " ", "eqn", ",", 
      " ", "solns", ",", " ", "soln", ",", " ", "depth"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"f", " ", "=", " ", 
      RowBox[{"frustum", "[", 
       RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"fullf", " ", "=", " ", 
      RowBox[{"fullCone", "[", "f", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"topf", " ", "=", " ", 
      RowBox[{"topCone", "[", "f", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"scaledTop", " ", "=", " ", 
      RowBox[{"scaled", "[", 
       RowBox[{"topf", ",", " ", "scale"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"a", " ", "=", " ", 
      RowBox[{
       RowBox[{"assumptions", "[", "fullf", "]"}], " ", "&&", " ", 
       RowBox[{"assumptions", "[", "scaledTop", "]"}], " ", "&&", " ", 
       RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"eqn", " ", "=", " ", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"volume", "[", "fullf", "]"}], " ", "-", " ", 
         RowBox[{"volume", "[", "scaledTop", "]"}]}], ")"}], " ", "\[Equal]", 
       " ", "vol"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Assuming", "[", 
       RowBox[{"a", ",", " ", 
        RowBox[{"Solve", "[", 
         RowBox[{"eqn", ",", " ", "scale"}], "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"soln", " ", "=", " ", 
      RowBox[{"solns", "[", 
       RowBox[{"[", "2", "]"}], "]"}]}], ";", " ", "\[IndentingNewLine]", 
     RowBox[{"depth", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"height", "[", "fullf", "]"}], " ", "-", " ", 
           RowBox[{"height", "[", "scaledTop", "]"}]}], ")"}], " ", "/.", " ",
          "soln"}], " ", ",", " ", "a"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"genericFrustumDepthFromVolumeCartesian", "[", "]"}], " ", "=", 
      " ", 
      RowBox[{"{", " ", 
       RowBox[{
       "h", ",", " ", "rbig", ",", " ", "rsmall", ",", " ", "vol", ",", " ", 
        "depth"}], " ", "}"}]}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"genericFrustumDepthFromVolumeCartesian", "[", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"f0eed134-b003-4e87-b689-c0ceab30f856"],

Cell["\<\
We compute depth from volume two different ways, then show they\
\[CloseCurlyQuote]re the same. We then choose for use the version that avoids \
trigonometry (in the apex-angled conversion).\
\>", "Text",ExpressionUUID->"1a18cf9b-816c-417f-9b59-dfedce084714"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume1", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{"ignored_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], 
    ",", " ", "vol_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hh", ",", " ", "rr", ",", " ", "\[Alpha]\[Alpha]", ",", " ", "vv", ",", 
      "eqn", ",", " ", "depth"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "hh", ",", " ", "rr", ",", " ", "\[Alpha]\[Alpha]", ",", " ", "vv", 
        ",", " ", "depth"}], "}"}], "=", 
      RowBox[{"genericFrustumDepthFromVolumeApex", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"depth", " ", "/.", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"rr", "\[Rule]", "rbig"}], ",", " ", 
        RowBox[{"\[Alpha]\[Alpha]", "\[Rule]", 
         RowBox[{"apexangle", "[", "f", "]"}]}], ",", " ", 
        RowBox[{"vv", "\[Rule]", "vol"}]}], "}"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume2", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], ",", 
    " ", "vol_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hh", ",", " ", "rrbig", ",", " ", "rrsmall", ",", " ", "vv", ",", "eqn",
       ",", " ", "depth"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", " ", 
       RowBox[{
       "hh", ",", " ", "rrbig", ",", " ", "rrsmall", ",", " ", "vv", ",", " ",
         "depth"}], " ", "}"}], " ", "=", " ", 
      RowBox[{"genericFrustumDepthFromVolumeCartesian", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"depth", " ", "/.", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"hh", " ", "\[Rule]", " ", "h"}], ",", " ", 
        RowBox[{"rrbig", " ", "\[Rule]", " ", "rbig"}], ",", " ", 
        RowBox[{"rrsmall", " ", "\[Rule]", " ", "rsmall"}], ",", " ", 
        RowBox[{"vv", " ", "\[Rule]", " ", "vol"}]}], " ", "}"}]}]}]}], " ", 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"generalFrustum", " ", "=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume1", "[", 
    RowBox[{"generalFrustum", ",", " ", "vol"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume2", "[", 
    RowBox[{"generalFrustum", ",", " ", "vol"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Module", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"d", " ", "=", " ", 
      RowBox[{"(", 
       RowBox[{"rbig", " ", "-", " ", "rsmall"}], ")"}]}], ",", " ", 
     RowBox[{"r1", " ", "=", " ", "%%"}], ",", " ", 
     RowBox[{"r2", " ", "=", "%"}], ",", " ", "fn", ",", " ", "rules"}], 
    "}"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"rules", " ", "=", " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"rbig", "^", "3"}], " ", "\[Rule]", " ", "t1"}], ",", " ", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{"rbig", " ", "-", " ", "rsmall"}], ")"}], " ", "\[Rule]", 
        " ", "t2"}], ",", " ", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"-", "rbig"}], " ", "+", " ", "rsmall"}], ")"}], " ", 
        "\[Rule]", " ", 
        RowBox[{"-", "t2"}]}], ",", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "3"}], " ", "t2", " ", 
         RowBox[{"vol", " ", "/", "Pi"}]}], " ", "\[Rule]", " ", "t3"}]}], 
      "}"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"fn", " ", "=", " ", 
     RowBox[{"Function", "[", 
      RowBox[{"r", ",", " ", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"Expand", "[", 
              RowBox[{
               RowBox[{"-", "r"}], " ", "*", " ", "d"}], "]"}], " ", "+", " ", 
             RowBox[{"h", " ", "rbig"}]}], ")"}], " ", "//.", " ", "rules"}], 
          ")"}], " ", ")"}], "^", "3"}]}], "]"}]}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"fn", "[", "r1", "]"}], " ", "/", " ", 
      RowBox[{"fn", "[", "r2", "]"}]}], " ", "//", " ", "FullSimplify"}]}]}], 
  "\[IndentingNewLine]", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], ",", 
    " ", "vol_"}], "]"}], " ", ":=", " ", 
  RowBox[{"depthFromVolume2", "[", 
   RowBox[{"f", ",", " ", "vol"}], 
   "]"}]}]}], "Input",ExpressionUUID->"c442ce4a-c298-4e09-bb63-0d154d36a9f8"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume from Depth", \
"Subsubsection",ExpressionUUID->"6383a0a3-a5ca-4150-bdec-2002d947ab90"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"f", ":", " ", 
     RowBox[{"frustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", 
       "\"\<apexangle\>\""}], "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{
   RowBox[{"genericVolumeFromDepthUsingInverse", "[", 
    RowBox[{
     RowBox[{"frustum", "[", 
      RowBox[{
      "hh", ",", "rrBig", ",", " ", "\[Alpha]\[Alpha]", ",", 
       "\"\<apexangle\>\""}], "]"}], ",", "dd"}], "]"}], " ", "/.", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"hh", "\[Rule]", "h"}], ",", " ", 
     RowBox[{"rrBig", "\[Rule]", "rbig"}], ",", " ", 
     RowBox[{"\[Alpha]\[Alpha]", " ", "\[Rule]", " ", "\[Alpha]"}], ",", " ", 
     RowBox[{"dd", "\[Rule]", " ", "depth"}]}], 
    "}"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"f", ":", " ", 
     RowBox[{"frustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
       "\"\<baseangle\>\""}], "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{
   RowBox[{"genericVolumeFromDepthUsingInverse", "[", 
    RowBox[{
     RowBox[{"frustum", "[", 
      RowBox[{
      "hh", ",", "rrBig", ",", " ", "\[Beta]\[Beta]", ",", " ", 
       "\"\<baseangle\>\""}], "]"}], ",", "dd"}], "]"}], " ", "/.", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"hh", "\[Rule]", "h"}], ",", " ", 
     RowBox[{"rrBig", "\[Rule]", "rbig"}], ",", " ", 
     RowBox[{"\[Beta]\[Beta]", " ", "\[Rule]", " ", "\[Beta]"}], ",", " ", 
     RowBox[{"dd", "\[Rule]", " ", "depth"}]}], 
    "}"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"f", ":", " ", 
      RowBox[{"frustum", "[", 
       RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], ",", 
     " ", "depth_"}], "]"}], " ", ":=", " ", 
   RowBox[{
    RowBox[{"genericVolumeFromDepthUsingInverse", "[", 
     RowBox[{
      RowBox[{"frustum", "[", 
       RowBox[{"hh", ",", "rrBig", ",", "rrSmall"}], "]"}], ",", "dd"}], 
     "]"}], " ", "/.", " ", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"hh", "\[Rule]", "h"}], ",", " ", 
      RowBox[{"rrBig", "\[Rule]", "rbig"}], ",", " ", 
      RowBox[{"rrSmall", "\[Rule]", " ", "rsmall"}], ",", " ", 
      RowBox[{"dd", "\[Rule]", " ", "depth"}]}], "}"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"frustum", "[", 
      RowBox[{
      "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", " ", 
       "\"\<apexangle\>\""}], "]"}], ",", " ", "depth"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"frustum", "[", 
      RowBox[{
      "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", "\"\<baseangle\>\""}], 
      "]"}], ",", " ", "depth"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"frustum", "[", 
      RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], ",", " ", 
     "depth"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"16419e09-8c12-49e3-b2df-2b8fb72bb598"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Radius from Depth", \
"Subsubsection",ExpressionUUID->"abbae4be-be80-48ac-b8de-ac459641fbfc"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
       "\"\<baseangle\>\""}], "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"eqn", ",", " ", "result"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"eqn", " ", "=", " ", 
       RowBox[{
        RowBox[{"depth", " ", "/", " ", 
         RowBox[{"(", 
          RowBox[{"rbig", " ", "-", " ", "result"}], ")"}]}], " ", "\[Equal]",
         " ", 
        RowBox[{"Tan", "[", "\[Beta]", "]"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"result", " ", "/.", " ", 
       RowBox[{"First", " ", "@", " ", 
        RowBox[{"Solve", "[", 
         RowBox[{"eqn", ",", " ", "result"}], "]"}]}]}]}], "*)"}], " ", 
    "\[IndentingNewLine]", 
    RowBox[{"rbig", "-", 
     RowBox[{"depth", " ", 
      RowBox[{"Cot", "[", "\[Beta]", "]"}]}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", 
       "\"\<apexangle\>\""}], "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"toBaseAngled", "[", "f", "]"}], ",", " ", "depth"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"f", ":", 
      RowBox[{"frustum", "[", 
       RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], ",", 
     " ", "depth_"}], "]"}], " ", ":=", " ", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     RowBox[{"radiusFromDepth", "[", 
      RowBox[{
       RowBox[{"toBaseAngled", "[", "f", "]"}], ",", " ", "depth"}], "]"}], 
     ",", " ", 
     RowBox[{"assumptions", "[", "f", "]"}]}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"frustum", "[", 
      RowBox[{
      "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", "\"\<apexangle\>\""}],
       "]"}], ",", " ", "depth"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"frustum", "[", 
      RowBox[{
      "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", " ", 
       "\"\<baseangle\>\""}], "]"}], ",", " ", "depth"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"frustum", "[", 
      RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], ",", " ", 
     "depth"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"27b02798-e055-431b-9a7a-77a50d6e338a"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Testing", \
"Subsubsection",ExpressionUUID->"029e8a45-f9a9-4629-8d1c-8add93c5a0ed"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"1", ",", " ", "2", ",", " ", 
    RowBox[{"\[Pi]", "/", "9"}], ",", " ", "\"\<apexangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volumeFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<volume\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"radiusFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<radius\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}]}], "Input",ExpressionUUID->"6983b8da-5f17-484d-aa8b-7fe0d57c19bd"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{
    RowBox[{"Sqrt", "[", "3", "]"}], ",", " ", "2", ",", " ", "1"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volumeFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<volume\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"radiusFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<radius\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}]}], "Input",ExpressionUUID->"a3633461-f447-493d-886f-d7bf1fd06f05"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"1", ",", " ", "2", ",", " ", 
    RowBox[{"\[Pi]", "/", "6"}], ",", " ", "\"\<baseangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volumeFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<volume\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"radiusFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<radius\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}]}], "Input",ExpressionUUID->"9469b866-a170-479c-bffc-09c629d76d17"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Inverted Right Conical Frustum", \
"Subsection",ExpressionUUID->"4abef672-6d13-4db3-9ba2-05eaaaca9187"],

Cell[CellGroupData[{

Cell["Conversion", \
"Subsubsection",ExpressionUUID->"a44dbb9e-4f84-41a7-9314-118087dcdce9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toFrustum", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"invert", " ", "@", " ", "f"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toFrustum", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invert", " ", "@", " ", "f"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toFrustum", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"h", ",", "rbig", ",", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}],
    "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"f", ":", 
    RowBox[{"frustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"h", ",", "rbig", ",", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"invert", "[", 
    RowBox[{"f", ":", 
     RowBox[{"frustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"invertedFrustum", "[", 
    RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", "rbig", ",", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}],
    "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], ":=", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", "rbig", ",", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"invert", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], ":=", 
  RowBox[{"frustum", "[", 
   RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], 
   "]"}]}]}], "Input",ExpressionUUID->"a6739c7b-9aa3-408a-b396-b2690d6ed6d0"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsubsection",ExpressionUUID->"6bd27bfc-088a-4c43-826b-ed60d96fef6a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"assumptions", " ", "@", " ", 
   RowBox[{"toFrustum", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"assumptions", " ", "@", " ", 
   RowBox[{"toFrustum", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"assumptions", " ", "@", " ", 
   RowBox[{"toFrustum", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", " ", 
      "\"\<apexangle\>\""}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", " ", 
      "\"\<baseangle\>\""}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"6c850440-a99c-4b55-b888-141649243b86"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"apexangle", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"apexangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"apexangle", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"apexangle", "[", 
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], ":=",
    " ", 
   RowBox[{"apexangle", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "f"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], " ", ":=", "  ", 
  RowBox[{"baseangle", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"baseangle", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", "  ", 
  RowBox[{"baseangle", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"baseangle", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"baseangle", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "f"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"baseangle", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", "rbig_", ",", 
       RowBox[{"rbig_", "-", 
        RowBox[{"h_", " ", 
         RowBox[{"Cot", "[", "\[Beta]_", "]"}]}]}]}], "]"}]}], "]"}], " ", ":=",
    " ", 
   RowBox[{"baseangle", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "f"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"apexangle", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"baseangle", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"{", " ", 
    RowBox[{
     RowBox[{"baseangle", "[", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{"1", ",", " ", "3", ",", " ", "2"}], "]"}], "]"}], ",", " ", 
     RowBox[{"baseangle", "[", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{
        RowBox[{"Sqrt", "[", "3", "]"}], ",", " ", "2", ",", " ", "1"}], 
       "]"}], "]"}]}], "}"}]}], 
  ";"}]}], "Input",ExpressionUUID->"9d77889b-b66e-4e32-ad01-73a2356200a7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  "h"}]}], "Input",ExpressionUUID->"fc0ab199-4944-422d-abf0-03a9b8b1ed6d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"rbig", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  "rbig"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rbig", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  "rbig"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rbig", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  "rbig"}]}], "Input",ExpressionUUID->"159566ea-f621-4ebc-9b99-ffb5a05acd10"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"rsmall", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"rsmall", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", "rsmall"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rsmall", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", "rbig_", ",", 
      RowBox[{"ArcTan", "[", 
       RowBox[{
        RowBox[{"rbig_", "-", "rsmall_"}], ",", "h_"}], "]"}], ",", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  "rsmall"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"rsmall", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h", ",", "rbig", ",", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"rsmall", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h", ",", "rbig", ",", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], "]"}],
     "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"rsmall", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "rsmall"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"4e013663-8fe4-4fb2-998f-23685bb7b498"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Conversion Redux", \
"Subsubsection",ExpressionUUID->"0c9bbe4a-5396-4604-99ea-159316c172f2"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toInvertedFrustum", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"h", ",", "rbig", ",", 
    RowBox[{"rsmall", "[", "f", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toInvertedFrustum", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"h", ",", "rbig", ",", 
    RowBox[{"rsmall", "[", "f", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toInvertedFrustum", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", "f"}], "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"toInvertedFrustum", " ", "@", " ", "f"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", "  ", 
  RowBox[{"toInvertedFrustum", " ", "@", " ", "f"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toCartesian", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", "  ", 
   RowBox[{"toInvertedFrustum", " ", "@", " ", "f"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  "f"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invert", " ", "@", " ", 
   RowBox[{"toApexAngled", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "f"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toApexAngled", "[", 
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"invert", " ", "@", " ", 
    RowBox[{"toApexAngled", " ", "@", " ", 
     RowBox[{"invert", " ", "@", " ", "f"}]}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], " ", ":=", 
  RowBox[{"invert", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "f"}]}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], " ", ":=", " ", 
  "f"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"invert", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", " ", 
    RowBox[{
    "invert", " ", "@", " ", 
     "f"}]}]}]}]}], \
"Input",ExpressionUUID->"0fc7b618-398f-4d0b-8cb0-7c7140151c28"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", " ", "%"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", " ", "@", " ", "%%"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toFrustum", " ", "@", "  ", "%"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", "  ", "%%"}]}], 
  ";"}]}], "Input",ExpressionUUID->"9a49d2f5-699c-46e5-9635-bebd7475483a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toBaseAngled", " ", "@", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", "%"}]}], 
  ";"}]}], "Input",ExpressionUUID->"e67e3e6f-7525-4885-ba45-105b17c2b4fe"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsubsection",ExpressionUUID->"2e148289-c93a-41ab-80b4-44302a74b6f3"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"coneHeight", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], ":=", 
  RowBox[{"coneHeight", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"coneHeight", "[", 
   RowBox[{"f", ":", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
      "\"\<baseangle\>\""}], "]"}]}], "]"}], ":=", 
  RowBox[{"coneHeight", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"coneHeight", "[", 
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
   " ", ":=", " ", 
   RowBox[{"coneHeight", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "f"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Alpha]", ",", "\"\<apexangle\>\""}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Beta]", ",", "\"\<baseangle\>\""}], 
     "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toApexAngled", " ", "@", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "\[Beta]", ",", "\"\<baseangle\>\""}], 
     "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "@", " ", "%"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", "rbig", ",", "rsmall"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"coneHeight", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"1", ",", " ", "3", ",", " ", "2"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"27591bf7-9ef8-4594-9ce2-efca44bec860"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"f", ":", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
     "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
      "\"\<apexangle\>\""}], "]"}]}], "]"}], ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{"invert", " ", "@", " ", "f"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"volume", "[", 
    RowBox[{"f", ":", " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
       "\"\<baseangle\>\""}], "]"}]}], "]"}], ":=", " ", 
   RowBox[{"volume", " ", "@", " ", 
    RowBox[{"invert", " ", "@", " ", "f"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"v", "=", 
    RowBox[{"test", " ", "@", " ", 
     RowBox[{"volume", "[", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{"h", ",", "r1", ",", "r2"}], "]"}], "]"}]}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"compare", " ", "to", " ", "textbook", " ", "answer", " ", 
    FractionBox["1", "3"], " ", "h", " ", "\[Pi]", " ", 
    RowBox[{"(", 
     RowBox[{
      SuperscriptBox["r1", "2"], "+", 
      RowBox[{"r1", " ", "r2"}], "+", 
      SuperscriptBox["r2", "2"]}], ")"}]}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"v\[Alpha]", "=", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volume", "[", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h", ",", "r", ",", "\[Alpha]", ",", "\"\<apexangle\>\""}], 
      "]"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCartesian", " ", "@", " ", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"h", ",", "r", ",", "\[Alpha]", ",", "\"\<apexangle\>\""}], 
     "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"v\[Alpha]2", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volume", "[", "%", "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"v\[Beta]", "=", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volume", "[", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h", ",", " ", "r", ",", " ", "\[Beta]", ",", "\"\<baseangle\>\""}], 
      "]"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"(", 
    RowBox[{"v", " ", "/.", " ", 
     RowBox[{"r2", " ", "\[Rule]", " ", "0"}]}], ")"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Clear", "[", 
  RowBox[{
  "v", ",", " ", "v\[Alpha]", ",", " ", "v\[Alpha]2", ",", " ", "v\[Beta]"}], 
  "]"}]}], "Input",ExpressionUUID->"b09bcd68-9242-4bc6-8b04-967425f89911"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height and Depth", \
"Subsubsection",ExpressionUUID->"8ce40834-2472-4c56-8326-bb706fce6494"],

Cell["\<\
We\[CloseCurlyQuote]re looking for a frustum with same base angle and bottom \
radius, but different height\
\>", "Text",ExpressionUUID->"b88b6e30-dfce-4e40-bc46-8b4f702e0cc8"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", " ", 
       "\"\<apexangle\>\""}], "]"}]}], ",", " ", "vol_"}], "]"}], " ", ":=", 
  " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"h", " ", "-", " ", 
      RowBox[{"depthFromVolume", "[", 
       RowBox[{
        RowBox[{"invert", " ", "@", " ", "f"}], ",", " ", 
        RowBox[{
         RowBox[{"volume", "[", "f", "]"}], " ", "-", " ", "vol"}]}], "]"}]}],
      " ", "//", " ", "FullSimplify"}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"generalApexInvertedFrustum", " ", "=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{
   "h", ",", " ", "r", ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"generalApexInvertedFrustum", ",", " ", "vol"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"b76358fa-6ec1-4a0f-9f5b-4c4dbe21c318"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], ",", 
    " ", "vol_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"h", " ", "-", " ", 
      RowBox[{"depthFromVolume", "[", 
       RowBox[{
        RowBox[{"invert", " ", "@", " ", "f"}], ",", " ", 
        RowBox[{
         RowBox[{"volume", "[", "f", "]"}], " ", "-", " ", "vol"}]}], "]"}]}],
      " ", "//", " ", "FullSimplify"}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"generalInvertedFrustum", " ", "=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"generalInvertedFrustum", ",", " ", "vol"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"8880093b-40ed-4eae-a1d1-55a8cac3403f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
       "\"\<baseangle\>\""}], "]"}]}], ",", " ", "vol_"}], "]"}], " ", ":=", 
  "  ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hh", ",", " ", "rr", ",", " ", "\[Alpha]\[Alpha]", ",", " ", "vv", ",", 
      "eqn", ",", " ", "soln"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"h", " ", "-", " ", 
      RowBox[{"depthFromVolume", "[", 
       RowBox[{
        RowBox[{"invert", " ", "@", " ", "f"}], ",", " ", 
        RowBox[{
         RowBox[{"volume", "[", "f", "]"}], " ", "-", " ", "vol"}]}], "]"}]}],
      " ", "//", " ", "FullSimplify"}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"generalBaseInvertedFrustum", " ", "=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{
   "h", ",", " ", "r", ",", " ", "\[Beta]", ",", " ", "\"\<baseangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"generalBaseInvertedFrustum", ",", " ", "vol"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"cf8736a0-5887-43bb-b7e7-5b38b0302886"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volumeFromDepth0", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], ",", 
    " ", "depth_"}], "]"}], " ", ":=", " ", 
  RowBox[{"FullSimplify", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"volume", "[", "f", "]"}], " ", "-", " ", 
     RowBox[{"volumeFromDepth", "[", 
      RowBox[{
       RowBox[{"invert", "[", "f", "]"}], ",", " ", 
       RowBox[{"h", " ", "-", "depth"}]}], "]"}]}], ",", " ", 
    RowBox[{"assumptions", "[", "f", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volumeFromDepth0", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", 
       "\"\<apexangle\>\""}], "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"toCartesian", "[", "f", "]"}], ",", " ", "depth"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"volumeFromDepth0", "[", 
    RowBox[{
     RowBox[{"f", ":", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{
       "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", 
        "\"\<baseangle\>\""}], "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=",
    " ", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"volume", "[", "f", "]"}], " ", "-", " ", 
      RowBox[{"volumeFromDepth", "[", 
       RowBox[{
        RowBox[{"invert", "[", "f", "]"}], ",", " ", 
        RowBox[{"h", " ", "-", "depth"}]}], "]"}]}], ",", " ", 
     RowBox[{"assumptions", "[", "f", "]"}]}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth0", "[", 
    RowBox[{
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", " ", 
       "\"\<apexangle\>\""}], "]"}], ",", " ", "depth"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth0", "[", 
    RowBox[{
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", "\"\<baseangle\>\""}], 
      "]"}], ",", " ", "depth"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth0", "[", 
    RowBox[{
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], ",", " ", 
     "depth"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"8e3eaaac-7e12-4db4-ba70-e4f78c4c78e5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"f", ":", " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", 
       "\"\<apexangle\>\""}], "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{
   RowBox[{"genericVolumeFromDepthUsingInverse", "[", 
    RowBox[{
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "hh", ",", "rrBig", ",", " ", "\[Alpha]\[Alpha]", ",", 
       "\"\<apexangle\>\""}], "]"}], ",", "dd"}], "]"}], " ", "/.", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"hh", "\[Rule]", "h"}], ",", " ", 
     RowBox[{"rrBig", "\[Rule]", "rbig"}], ",", " ", 
     RowBox[{"\[Alpha]\[Alpha]", " ", "\[Rule]", " ", "\[Alpha]"}], ",", " ", 
     RowBox[{"dd", "\[Rule]", " ", "depth"}]}], 
    "}"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
       "\"\<baseangle\>\""}], "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{
   RowBox[{"genericVolumeFromDepthUsingInverse", "[", 
    RowBox[{
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "hh", ",", "rrBig", ",", " ", "\[Beta]\[Beta]", ",", " ", 
       "\"\<baseangle\>\""}], "]"}], ",", "dd"}], "]"}], " ", "/.", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"hh", "\[Rule]", "h"}], ",", " ", 
     RowBox[{"rrBig", "\[Rule]", "rbig"}], ",", " ", 
     RowBox[{"\[Beta]\[Beta]", " ", "\[Rule]", " ", "\[Beta]"}], ",", " ", 
     RowBox[{"dd", "\[Rule]", " ", "depth"}]}], 
    "}"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"f", ":", " ", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], ",", 
     " ", "depth_"}], "]"}], " ", ":=", " ", 
   RowBox[{
    RowBox[{"genericVolumeFromDepthUsingInverse", "[", 
     RowBox[{
      RowBox[{"invertedFrustum", "[", 
       RowBox[{"hh", ",", "rrBig", ",", "rrSmall"}], "]"}], ",", "dd"}], 
     "]"}], " ", "/.", " ", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"hh", "\[Rule]", "h"}], ",", " ", 
      RowBox[{"rrBig", "\[Rule]", "rbig"}], ",", " ", 
      RowBox[{"rrSmall", "\[Rule]", " ", "rsmall"}], ",", " ", 
      RowBox[{"dd", "\[Rule]", " ", "depth"}]}], "}"}]}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", " ", 
       "\"\<apexangle\>\""}], "]"}], ",", " ", "depth"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", "\"\<baseangle\>\""}], 
      "]"}], ",", " ", "depth"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], ",", " ", 
     "depth"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"f3d05a2a-b169-40f3-a4b9-bee8fca8578a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Beta]_", ",", " ", 
       "\"\<baseangle\>\""}], "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"eqn", ",", " ", "result"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"eqn", " ", "=", " ", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"h", " ", "-", " ", "depth"}], ")"}], " ", "/", " ", 
         RowBox[{"(", 
          RowBox[{"rbig", " ", "-", " ", "result"}], ")"}]}], " ", "\[Equal]",
         " ", 
        RowBox[{"Tan", "[", "\[Beta]", "]"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"Simplify", "[", 
       RowBox[{
        RowBox[{"result", " ", "/.", " ", 
         RowBox[{"First", " ", "@", " ", 
          RowBox[{"Solve", "[", 
           RowBox[{"eqn", ",", " ", "result"}], "]"}]}]}], ",", " ", 
        RowBox[{"assumptions", "[", "f", "]"}]}], "]"}]}], "*)"}], 
    "\[IndentingNewLine]", 
    RowBox[{"rbig", "+", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"depth", "-", "h"}], ")"}], " ", 
      RowBox[{"Cot", "[", "\[Beta]", "]"}]}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"f", ":", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h_", ",", " ", "rbig_", ",", " ", "\[Alpha]_", ",", 
       "\"\<apexangle\>\""}], "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"toBaseAngled", "[", "f", "]"}], ",", " ", "depth"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"f", ":", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{"h_", ",", " ", "rbig_", ",", " ", "rsmall_"}], "]"}]}], ",", 
     " ", "depth_"}], "]"}], " ", ":=", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"toBaseAngled", "[", "f", "]"}], ",", " ", "depth"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h", ",", " ", "rbig", ",", " ", "\[Alpha]", ",", "\"\<apexangle\>\""}],
       "]"}], ",", " ", "depth"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
      "h", ",", " ", "rbig", ",", " ", "\[Beta]", ",", " ", 
       "\"\<baseangle\>\""}], "]"}], ",", " ", "depth"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"h", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], ",", " ", 
     "depth"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"e9dae895-24c7-49c6-b924-a136a853649a"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Testing", \
"Subsubsection",ExpressionUUID->"b6c4142e-bea3-4d55-8a3d-384a58bbff9f"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"1", ",", " ", "2", ",", " ", 
    RowBox[{"\[Pi]", "/", "9"}], ",", " ", "\"\<apexangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volumeFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<volume\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"radiusFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<radius\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}]}], "Input",ExpressionUUID->"d33dea15-52d3-4fc6-b5eb-56f252c6effe"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{
    RowBox[{"Sqrt", "[", "3", "]"}], ",", " ", "2", ",", " ", "1"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volumeFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<volume\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"radiusFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<radius\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}]}], "Input",ExpressionUUID->"35eda6f6-5a57-4e30-a8af-0a0babe5e1e3"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"invertedFrustum", "[", 
   RowBox[{"1", ",", " ", "2", ",", " ", 
    RowBox[{"\[Pi]", "/", "6"}], ",", " ", "\"\<baseangle\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volumeFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<volume\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"radiusFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<radius\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}]}], "Input",ExpressionUUID->"24e450ff-cbe2-4280-b8a6-5197e3d08812"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Sphere", \
"Subsection",ExpressionUUID->"1ead60c1-12fc-453a-9457-f039712bc9ae"],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsubsection",ExpressionUUID->"43c50766-aa40-48a9-87b0-b53a97a95ffe"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"sphere", "[", "r_", "]"}], "]"}], " ", ":=", " ", 
  RowBox[{"r", " ", "\[GreaterEqual]", " ", "0"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radius", "[", 
   RowBox[{"sphere", "[", "r_", "]"}], "]"}], " ", ":=", " ", 
  "r"}]}], "Input",ExpressionUUID->"941587b9-4acf-4fe0-a3ce-67831e958b61"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsubsection",ExpressionUUID->"1eeb0226-8dd2-45b7-a42d-660021b4c4cc"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"sphere", "[", "r_", "]"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "\[Alpha]", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"4", " ", "/", "3"}], " ", "Pi", " ", 
     RowBox[{"r", "^", "3"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", 
    RowBox[{"sphere", "[", "r", "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"825d670a-9fb3-4d5f-8adf-18cac6a5ea3e"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Inverted Spherical Cap (i.e.: a Bowl)", \
"Subsection",ExpressionUUID->"afb309d6-ed63-4f25-b6e0-46197bc8c39d"],

Cell[TextData[{
 "See ",
 ButtonBox["http://mathworld.wolfram.com/SphericalCap.html",
  BaseStyle->"Hyperlink",
  ButtonData->{
    URL["http://mathworld.wolfram.com/SphericalCap.html"], None},
  ButtonNote->"http://mathworld.wolfram.com/SphericalCap.html"],
 ". And (more usefully) ",
 ButtonBox["https://en.wikipedia.org/wiki/Spherical_cap",
  BaseStyle->"Hyperlink",
  ButtonData->{
    URL["https://en.wikipedia.org/wiki/Spherical_cap"], None},
  ButtonNote->"https://en.wikipedia.org/wiki/Spherical_cap"],
 ". By \[OpenCurlyQuote]inverted\[CloseCurlyQuote] spherical cap, we here \
mean a cap on the bottom of the sphere instead of the top. Think of a bowl."
}], "Text",ExpressionUUID->"213cd0d6-0329-4b41-862e-4a12460203e4"],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsubsection",ExpressionUUID->"3c38b2ea-a031-4b2c-afe6-a7e730e87019"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"rCap", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"h_", ",", " ", "rSphere_", ",", " ", "\"\<rSphere\>\""}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Sqrt", "[", 
   RowBox[{
    RowBox[{"rSphere", "^", "2"}], " ", "-", " ", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"rSphere", "-", "h"}], ")"}], "^", "2"}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rSphere", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"h_", ",", " ", "rSphere_", ",", " ", "\"\<rSphere\>\""}], 
     "]"}]}], "]"}], " ", ":=", " ", "rSphere"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"height", "[", 
    RowBox[{"c", ":", 
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"h_", ",", " ", "rSphere_", ",", " ", "\"\<rSphere\>\""}], 
      "]"}]}], "]"}], " ", ":=", " ", "h"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rCap", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"h_", ",", " ", "a_", ",", " ", "\"\<rCap\>\""}], " ", "]"}]}], 
   "]"}], " ", ":=", " ", "a"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rSphere", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"h_", ",", " ", "a_", ",", " ", "\"\<rCap\>\""}], " ", "]"}]}], 
   "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{
     RowBox[{"a", " ", "^", "2"}], " ", "+", " ", 
     RowBox[{"h", "^", "2"}]}], ")"}], " ", "/", " ", 
   RowBox[{"(", 
    RowBox[{"2", "h"}], ")"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"height", "[", 
    RowBox[{"c", ":", 
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"h_", ",", " ", "a_", ",", " ", "\"\<rCap\>\""}], "]"}]}], 
    "]"}], " ", ":=", " ", "h"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"h_", ",", " ", "rSphere_", ",", " ", "\"\<rSphere\>\""}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"rSphere", " ", ">", " ", "0"}], " ", "&&", " ", 
   RowBox[{"h", " ", ">", " ", "0"}], " ", "&&", " ", 
   RowBox[{
   "rSphere", " ", "\[GreaterEqual]", " ", "h"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"h_", ",", " ", "a_", ",", " ", "\"\<rCap\>\""}], "]"}]}], "]"}],
   " ", ":=", " ", 
  RowBox[{
   RowBox[{"h", " ", ">", " ", "0"}], " ", "&&", " ", 
   RowBox[{"a", " ", ">", " ", "0"}], " ", "&&", " ", 
   RowBox[{
    RowBox[{"rSphere", "[", "c", "]"}], " ", "\[GreaterEqual]", " ", 
    "h"}]}]}]}], \
"Input",ExpressionUUID->"47b10a0d-9ea7-4463-b5b1-3fb8e1c0de63"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Conversion", \
"Subsubsection",ExpressionUUID->"0da3eefa-92cc-4061-b6d4-fdefc6c9312a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toCap", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"h_", ",", " ", "rSphere_", ",", " ", "\"\<rSphere\>\""}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"invertedSphericalCap", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"rCap", "[", "c", "]"}], ",", " ", "\"\<rCap\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCap", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"h_", ",", " ", "a_", ",", " ", "\"\<rCap\>\""}], "]"}]}], "]"}],
   " ", ":=", " ", "c"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toSphere", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"h_", ",", " ", "a_", ",", " ", "\"\<rCap\>\""}], "]"}]}], "]"}],
   " ", ":=", " ", 
  RowBox[{"invertedSphericalCap", "[", 
   RowBox[{"h", ",", " ", 
    RowBox[{"rSphere", "[", "c", "]"}], ",", " ", "\"\<rSphere\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"toSphere", "[", 
    RowBox[{"c", ":", 
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"h_", ",", " ", "rSphere_", ",", " ", "\"\<rSphere\>\""}], 
      "]"}]}], "]"}], " ", ":=", " ", "c"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"h_", ",", " ", "rSphere_", ",", " ", "\"\<rSphere\>\""}], 
     "]"}]}], "]"}], " ", ":=", " ", "c"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"h_", ",", " ", "a_", ",", " ", "\"\<rCap\>\""}], "]"}]}], "]"}],
   " ", ":=", " ", 
  "c"}]}], "Input",ExpressionUUID->"859f4ea1-c099-4765-816d-194b0a8cea71"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsubsection",ExpressionUUID->"d3a51adf-f58c-4c99-a82c-c3ac6a4381fc"],

Cell["Formulas from Wikipedia", \
"Text",ExpressionUUID->"f52c00bb-24db-484e-aeda-75a33540a2fb"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"invertedSphericalCap", "[", 
    RowBox[{"h_", ",", " ", "rSphere_", ",", " ", "\"\<rSphere\>\""}], "]"}], 
   "]"}], " ", ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"\[Pi]", "/", "3"}], " ", "*", " ", 
     RowBox[{"h", "^", "2"}], " ", "*", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"3", "rSphere"}], " ", "-", " ", "h"}], ")"}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"invertedSphericalCap", "[", 
    RowBox[{"h_", ",", " ", "a_", ",", " ", "\"\<rCap\>\""}], "]"}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"1", "/", " ", "6"}], " ", "*", " ", "\[Pi]", " ", "*", " ", "h",
      " ", "*", " ", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{"3", " ", 
        RowBox[{"a", "^", "2"}]}], " ", "+", " ", 
       RowBox[{"h", "^", "2"}]}], ")"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", "@", 
   RowBox[{"volume", "[", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"h", ",", " ", "r", ",", " ", "\"\<rSphere\>\""}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", "@", 
   RowBox[{"volume", "[", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{"h", ",", " ", "a", ",", " ", "\"\<rCap\>\""}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"495e4c66-df96-4a2e-9c00-ba6606b78bbf"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height and Depth", \
"Subsubsection",ExpressionUUID->"c1c737a5-b65a-44cb-ad6e-6d5143098635"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "genericSphericalCapDepthFromVolume", 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"genericSphericalCapDepthFromVolume", "[", "]"}], " ", ":=", " ", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "cap", ",", " ", "a", ",", " ", "h", ",", " ", "vol", ",", "assumpts", 
       ",", " ", "eqn", ",", " ", "solns", ",", " ", "soln", ",", " ", "c1", 
       ",", " ", "break"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"cap", " ", "=", " ", 
       RowBox[{"invertedSphericalCap", "[", 
        RowBox[{"h", ",", "a", ",", " ", "\"\<rCap\>\""}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"assumpts", " ", "=", " ", 
       RowBox[{
        RowBox[{"assumptions", "[", "cap", "]"}], "  ", "&&", " ", 
        RowBox[{"vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], " ", ";", 
      "\[IndentingNewLine]", 
      RowBox[{"eqn", " ", "=", " ", 
       RowBox[{"vol", " ", "\[Equal]", " ", 
        RowBox[{"volume", "[", "cap", "]"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"solns", " ", "=", " ", 
       RowBox[{"Assuming", "[", 
        RowBox[{"assumpts", ",", " ", 
         RowBox[{"Solve", "[", 
          RowBox[{"eqn", ",", " ", "h"}], "]"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"soln", " ", "=", " ", 
       RowBox[{"h", " ", "/.", " ", 
        RowBox[{"solns", "[", 
         RowBox[{"[", "1", "]"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"genericSphericalCapDepthFromVolume", "[", "]"}], " ", "=", 
       " ", 
       RowBox[{"{", 
        RowBox[{"h", ",", "a", " ", ",", "vol", ",", "soln"}], "}"}]}]}]}], 
    "\[IndentingNewLine]", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"b8de25c2-2fe5-4b2b-9d66-79574ce8bebf"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"h_", ",", " ", "r_", ",", " ", "\"\<rSphere\>\""}], "]"}]}], 
    ",", " ", "v_"}], "]"}], " ", ":=", " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"toCap", "[", "c", "]"}], ",", " ", "v"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"h_", ",", " ", "a_", ",", " ", "\"\<rCap\>\""}], "]"}]}], ",", 
    " ", "v_"}], "]"}], ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"aa", ",", " ", "hh", ",", " ", "vol", ",", " ", "soln"}], "}"}],
     ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"hh", ",", " ", "aa", ",", " ", "vol", ",", " ", "soln"}], 
       "}"}], " ", "=", " ", 
      RowBox[{"genericSphericalCapDepthFromVolume", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"(", 
      RowBox[{"soln", "  ", "/.", " ", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"aa", " ", "\[Rule]", " ", "a"}], ",", " ", 
         RowBox[{"hh", "\[Rule]", " ", "h"}], ",", " ", 
         RowBox[{"vol", "\[Rule]", "v"}]}], "}"}]}], ")"}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"1", ",", " ", "2", ",", " ", "\"\<rCap\>\""}], "]"}], ",", " ", 
     RowBox[{"volume", "[", 
      RowBox[{"invertedSphericalCap", "[", 
       RowBox[{"1", ",", " ", "2", ",", " ", "\"\<rCap\>\""}], "]"}], "]"}]}],
     "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"N", " ", "@", " ", "%"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"h", ",", " ", "r", ",", " ", "\"\<rCap\>\""}], "]"}], ",", " ",
      "volume"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"N", " ", "@", " ", 
  "%"}]}], "Input",ExpressionUUID->"89979e70-9edb-403e-bd8d-58a960b500fc"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"h_", ",", " ", "r_", ",", " ", "\"\<rSphere\>\""}], "]"}]}], 
    ",", " ", "depth_"}], "]"}], " ", ":=", " ", 
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"toCap", "[", "c", "]"}], ",", " ", "depth"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"c", ":", " ", 
      RowBox[{"invertedSphericalCap", "[", 
       RowBox[{"h_", ",", " ", "a_", ",", " ", "\"\<rCap\>\""}], "]"}]}], ",",
      " ", "depth_"}], "]"}], " ", ":=", " ", 
   RowBox[{"FullSimplify", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"genericVolumeFromDepthUsingInverse", "[", 
       RowBox[{
        RowBox[{"invertedSphericalCap", "[", " ", 
         RowBox[{"hh", ",", " ", "aa", ",", " ", "\"\<rCap\>\""}], "]"}], ",",
         " ", "dd"}], "]"}], " ", "/.", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"aa", " ", "\[Rule]", " ", "a"}], ",", " ", 
        RowBox[{"hh", "\[Rule]", " ", "h"}], ",", " ", 
        RowBox[{"dd", "\[Rule]", " ", "depth"}]}], "}"}]}], ",", " ", 
     RowBox[{
      RowBox[{"assumptions", "[", "c", "]"}], " ", "&&", " ", 
      RowBox[{"depth", " ", ">", " ", "0"}]}]}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"h", ",", " ", "a", ",", " ", "\"\<rCap\>\""}], "]"}], ",", " ",
      "depth"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"h", ",", " ", "r", ",", " ", "\"\<rSphere\>\""}], "]"}], ",", 
     " ", "depth"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"04ef3025-ce77-4df1-b107-ccafe7ce2374"],

Cell["\<\
For radiusFromDepth, we refer to the radius of top of the portion of the cap \
that is occupied for a given depth.\
\>", "Text",ExpressionUUID->"bf574bd5-6155-4cc1-9924-aa1393deb3d5"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "genericSphericalCapRadiusFromDepth", 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"genericSphericalCapRadiusFromDepth", "[", "]"}], " ", ":=", " ", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "c", ",", " ", "a", ",", " ", "h", ",", " ", "r", ",", " ", "depth", 
       ",", "result", ",", " ", "assumpts", ",", " ", "eqn", ",", " ", 
       "solns", ",", " ", "soln", ",", " ", "c1", ",", " ", "break"}], "}"}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"c", " ", "=", " ", 
       RowBox[{"invertedSphericalCap", "[", 
        RowBox[{"h", ",", "a", ",", " ", "\"\<rCap\>\""}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"assumpts", " ", "=", " ", 
       RowBox[{
        RowBox[{"assumptions", "[", "c", "]"}], "  ", "&&", " ", 
        RowBox[{"depth", " ", "\[GreaterEqual]", " ", "0"}]}]}], " ", ";", 
      "\[IndentingNewLine]", 
      RowBox[{"r", " ", "=", " ", 
       RowBox[{"rSphere", "[", "c", "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"eqn", " ", "=", "  ", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{"r", "-", "depth"}], ")"}], "^", "2"}], " ", "+", " ", 
         RowBox[{"result", "^", "2"}]}], " ", "\[Equal]", " ", 
        RowBox[{"r", "^", "2"}]}]}], " ", ";", "\[IndentingNewLine]", 
      RowBox[{"soln", " ", "=", " ", 
       RowBox[{"FullSimplify", "[", 
        RowBox[{
         RowBox[{"result", " ", "/.", " ", 
          RowBox[{
           RowBox[{"Solve", "[", 
            RowBox[{"eqn", ",", " ", "result"}], "]"}], "[", 
           RowBox[{"[", "1", "]"}], "]"}]}], ",", " ", 
         RowBox[{"assumptions", "[", "c", "]"}]}], "]"}]}], ";", " ", 
      RowBox[{"(*", " ", 
       RowBox[{
        RowBox[{"can", " ", "take", " ", "either", " ", "soln"}], ",", " ", 
        RowBox[{
        "as", " ", "we", " ", "square", " ", "and", " ", "then", " ", 
         "Sqrt"}]}], " ", "*)"}], "\[IndentingNewLine]", 
      RowBox[{"soln", " ", "=", " ", 
       RowBox[{"FullSimplify", "[", 
        RowBox[{
         RowBox[{"Sqrt", "[", 
          RowBox[{"soln", " ", "^", "2"}], "]"}], ",", " ", 
         RowBox[{"assumptions", "[", "c", "]"}]}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"genericSphericalCapRadiusFromDepth", "[", "]"}], " ", "=", 
       " ", 
       RowBox[{"{", 
        RowBox[{"h", ",", "a", " ", ",", "depth", ",", "soln"}], "}"}]}]}]}], 
    "\[IndentingNewLine]", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"f1386392-b529-4145-a80f-900da96bb98d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"h_", ",", " ", "r_", ",", " ", "\"\<rSphere\>\""}], "]"}]}], 
    ",", " ", "depth_"}], "]"}], " ", ":=", " ", 
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"toCap", "[", "c", "]"}], ",", " ", "depth"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"h_", ",", " ", "a_", ",", " ", "\"\<rCap\>\""}], "]"}]}], ",", 
    " ", "depth_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"aa", ",", " ", "hh", ",", " ", "dd", ",", " ", "soln"}], "}"}], 
    ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"hh", ",", " ", "aa", ",", " ", "dd", ",", " ", "soln"}], 
       "}"}], " ", "=", " ", 
      RowBox[{"genericSphericalCapRadiusFromDepth", "[", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"FullSimplify", "[", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"soln", "  ", "/.", " ", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"aa", " ", "\[Rule]", " ", "a"}], ",", " ", 
           RowBox[{"hh", "\[Rule]", " ", "h"}], ",", " ", 
           RowBox[{"dd", "\[Rule]", "depth"}]}], "}"}]}], ")"}], ",", " ", 
       RowBox[{"assumptions", "[", "c", "]"}]}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"h", ",", "a", ",", " ", "\"\<rCap\>\""}], "]"}], ",", " ", 
     "depth"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"radiusFromDepth", "[", 
     RowBox[{
      RowBox[{"invertedSphericalCap", "[", 
       RowBox[{"h", ",", "r", ",", " ", "\"\<rSphere\>\""}], "]"}], ",", " ", 
      "depth"}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"h", ",", "h", ",", " ", "\"\<rCap\>\""}], "]"}], ",", " ", 
     "h"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"radiusFromDepth", "[", 
    RowBox[{
     RowBox[{"invertedSphericalCap", "[", 
      RowBox[{"h", ",", "h", ",", " ", "\"\<rSphere\>\""}], "]"}], ",", " ", 
     "h"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"52413692-20bd-4a08-8c49-56f275894d63"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Testing", \
"Subsubsection",ExpressionUUID->"bb07049c-189c-40ea-8a60-891170bb864c"],

Cell[BoxData[{
 RowBox[{"example", " ", "=", " ", 
  RowBox[{"invertedSphericalCap", "[", 
   RowBox[{"2", ",", " ", "3", ",", " ", "\"\<rCap\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"{", " ", 
  RowBox[{
   RowBox[{"volume", "[", "example", "]"}], ",", " ", 
   RowBox[{
    RowBox[{"volume", "[", "example", "]"}], " ", "//", " ", "N"}]}], " ", 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"depthFromVolume", "[", 
     RowBox[{"example", ",", "v"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"volumeFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<volume\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"radiusFromDepth", "[", 
     RowBox[{"example", ",", " ", "depth"}], "]"}]}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"expr", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", 
     RowBox[{"height", "[", "example", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<radius\>\""}], "}"}]}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}]}], "Input",ExpressionUUID->"53fd61fa-d164-4f12-a815-97b811c98e57"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Unknown Shape", \
"Subsection",ExpressionUUID->"6365e48c-d5ca-4fec-a36d-a1a53d9594e4"],

Cell["\<\
In unknown shape, where we have uncertainty and currently just give up \
entirely, we could deduce bounds and use Interval[]. Currently that\
\[CloseCurlyQuote]s not worthwhile enough to be worth doing.\
\>", "Text",ExpressionUUID->"15c54c10-67ef-4b5a-9347-63c55c1479b9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"u", ":", " ", 
    RowBox[{"unknownShape", "[", 
     RowBox[{"h_", ",", " ", "vol_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"h", " ", "\[GreaterEqual]", " ", "0"}], " ", "&&", " ", 
   RowBox[{
   "vol", " ", "\[GreaterEqual]", " ", "0"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"unknownShape", "[", 
     RowBox[{"h", ",", " ", "vol"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"2365cf61-1d95-40ab-b20f-8db48d3610b2"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"u", ":", " ", 
    RowBox[{"unknownShape", "[", 
     RowBox[{"h_", ",", " ", "vol_"}], "]"}]}], "]"}], " ", ":=", " ", 
  "h"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"u", ":", " ", 
    RowBox[{"unknownShape", "[", 
     RowBox[{"h_", ",", " ", "vol_"}], "]"}]}], "]"}], " ", ":=", " ", 
  "u"}]}], "Input",ExpressionUUID->"edfa2782-f6ff-491b-b909-ba1171ab4dd9"],

Cell[BoxData[
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"u", ":", " ", 
    RowBox[{"unknownShape", "[", 
     RowBox[{"h_", ",", " ", "vol_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"printCell", "[", 
       RowBox[{"{", 
        RowBox[{"volume", ",", " ", 
         RowBox[{"\"\<h\>\"", " ", "\[Rule]", " ", "h"}], ",", " ", 
         RowBox[{"\"\<vol\>\"", " ", "\[Rule]", " ", "vol"}]}], "}"}], "]"}], 
      ";"}], "*)"}], "\[IndentingNewLine]", "vol"}], 
   "]"}]}]], "Input",ExpressionUUID->"dc02e212-20cc-422e-b820-e5a433eb936c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"u", ":", " ", 
     RowBox[{"unknownShape", "[", 
      RowBox[{"h_", ",", " ", "vol_"}], "]"}]}], ",", " ", "v_"}], "]"}], " ",
   ":=", " ", 
  RowBox[{"Piecewise", "[", 
   RowBox[{
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", " ", 
        RowBox[{
         RowBox[{"v", " ", "\[LessEqual]", " ", "0"}], " ", "||", " ", 
         RowBox[{"h", " ", "\[LessEqual]", " ", "0"}], " ", "||", " ", 
         RowBox[{"vol", " ", "\[LessEqual]", " ", "0"}]}]}], "}"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"h", ",", " ", 
        RowBox[{"v", " ", "\[GreaterEqual]", " ", "vol"}]}], "}"}]}], 
     "\[IndentingNewLine]", "}"}], ",", " ", "Indeterminate"}], 
   "]"}]}]], "Input",ExpressionUUID->"40b91c84-0d0b-4406-a2e4-fc6cd8994920"],

Cell[BoxData[
 RowBox[{
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"u", ":", " ", 
     RowBox[{"unknownShape", "[", 
      RowBox[{"h_", ",", " ", "vol_"}], "]"}]}], ",", " ", "depth_"}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"Piecewise", "[", 
   RowBox[{
    RowBox[{"{", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"0", ",", " ", 
        RowBox[{
         RowBox[{"depth", " ", "\[LessEqual]", " ", "0"}], " ", "||", " ", 
         RowBox[{"h", " ", "\[LessEqual]", " ", "0"}], " ", "||", " ", 
         RowBox[{"vol", " ", "\[LessEqual]", " ", "0"}]}]}], "}"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"vol", ",", " ", 
        RowBox[{"depth", " ", "\[GreaterEqual]", " ", "h"}]}], "}"}]}], 
     "\[IndentingNewLine]", "}"}], ",", " ", "Indeterminate"}], 
   "]"}]}]], "Input",ExpressionUUID->"cd93ea22-1889-4e7a-ae6a-c3704f5c8465"],

Cell[BoxData[
 RowBox[{
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"u", ":", " ", 
     RowBox[{"unknownShape", "[", 
      RowBox[{"h_", ",", " ", "vol_"}], "]"}]}], ",", " ", "depth_"}], "]"}], 
  " ", ":=", " ", 
  "Indeterminate"}]], \
"Input",ExpressionUUID->"939cb841-b0a9-4480-9106-cc57c5b217d8"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{
     RowBox[{"unknownShape", "[", 
      RowBox[{"h", ",", " ", "vol"}], "]"}], ",", " ", "v"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volumeFromDepth", "[", 
    RowBox[{
     RowBox[{"unknownShape", "[", 
      RowBox[{"h", ",", " ", "vol"}], "]"}], ",", " ", "depth"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"52a90ae7-afe5-4ef4-ad7c-00a6a8b77c5f"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Conical Test Tube", \
"Subsection",ExpressionUUID->"967a35e4-132d-4ff9-8042-e556dba23c67"],

Cell["\<\
Our model of a conical test tube is an \[OpenCurlyDoubleQuote]cylindrical\
\[CloseCurlyDoubleQuote] inverted frustum on top of a \
\[OpenCurlyDoubleQuote]conical\[CloseCurlyDoubleQuote] inverted frustum on \
top of an inverted spherical cap\
\>", "Text",ExpressionUUID->"fe7535a4-c736-45e5-8aac-15e3eb232a3e"],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsubsection",ExpressionUUID->"d214103c-72b1-450e-84fa-ca37f32f037f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"conicalTestTube", "[", 
    RowBox[{"cylindrical_", ",", " ", "conical_", ",", " ", "cap_"}], "]"}], 
   "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"assumptions", "[", "cylindrical", "]"}], " ", "&&", " ", 
   RowBox[{"assumptions", "[", "conical", "]"}], " ", "&&", " ", 
   RowBox[{
   "assumptions", "[", "cap", 
    "]"}]}]}]], \
"Input",ExpressionUUID->"f0779993-ea55-4dd4-9df5-5abe134873e7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toCanonical", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"conicalTestTube", "[", 
     RowBox[{"cylindrical_", ",", " ", "conical_", ",", " ", "cap_"}], 
     "]"}]}], "]"}], " ", ":=", " ", "c"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toCanonical", "[", 
   RowBox[{"conicalTestTube", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"idTop_", ",", " ", "idHip_", ",", " ", "idBottom_"}], "}"}], 
     ",", " ", 
     RowBox[{"{", 
      RowBox[{"hTop_", ",", " ", "hBottomAndCap_"}], "}"}]}], "]"}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"conicalTestTube", "[", " ", "\[IndentingNewLine]", 
   RowBox[{"(*", " ", 
    RowBox[{"TODO", ":", " ", 
     RowBox[{
     "use", " ", "cylinders", " ", "when", " ", "we", " ", "need", " ", 
      "to"}]}], " ", "*)"}], "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"hTop", ",", " ", 
      RowBox[{"idTop", " ", "/", "2"}], " ", ",", " ", 
      RowBox[{"idHip", " ", "/", "2"}]}], " ", "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{
      RowBox[{"hBottomAndCap", " ", "-", " ", "idBottom"}], ",", " ", 
      RowBox[{"idHip", " ", "/", "2"}], " ", ",", " ", 
      RowBox[{"idBottom", " ", "/", "2"}]}], " ", "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"invertedSphericalCap", "[", 
     RowBox[{
      RowBox[{"idBottom", " ", "/", "2"}], ",", " ", 
      RowBox[{"idBottom", " ", "/", "2"}], ",", " ", "\"\<rCap\>\""}], 
     "]"}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",ExpressionUUID->"2cbb8f62-f04b-44b9-acb6-1a690f8dadca"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toCartesian", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"conicalTestTube", "[", 
     RowBox[{"cylindrical_", ",", " ", "conical_", ",", " ", "cap_"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Map", "[", 
   RowBox[{"toCartesian", ",", " ", "c", ",", " ", 
    RowBox[{"{", "1", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toApexAngled", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"conicalTestTube", "[", 
     RowBox[{"cylindrical_", ",", " ", "conical_", ",", " ", "cap_"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Map", "[", 
   RowBox[{"toApexAngled", ",", " ", "c", ",", " ", 
    RowBox[{"{", "1", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toBaseAngled", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"conicalTestTube", "[", 
     RowBox[{"cylindrical_", ",", " ", "conical_", ",", " ", "cap_"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Map", "[", 
   RowBox[{"toBaseAngled", ",", " ", "c", ",", " ", 
    RowBox[{"{", "1", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toCartesian", "[", 
    RowBox[{"conicalTestTube", "[", 
     RowBox[{"cylindrical", ",", " ", "conical", ",", " ", "cap"}], "]"}], 
    "]"}]}], ";"}]}], \
"Input",ExpressionUUID->"caa15160-fca1-4d48-8ff2-3b39a2621518"],

Cell[BoxData[
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"conicalTestTube", "[", 
     RowBox[{"cylindrical_", ",", " ", "conical_", ",", " ", "cap_"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Total", " ", "@", " ", 
   RowBox[{"(", 
    RowBox[{"List", " ", "@@", " ", 
     RowBox[{"Map", "[", 
      RowBox[{"height", ",", " ", "c", ",", " ", 
       RowBox[{"{", "1", "}"}]}], "]"}]}], 
    ")"}]}]}]], \
"Input",ExpressionUUID->"53c3b12b-11ee-4108-be9b-93e2d215f883"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"parts", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"conicalTestTube", "[", 
     RowBox[{"cylindrical_", ",", " ", "conical_", ",", " ", "cap_"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<cylindrical\>\"", " ", "\[Rule]", " ", "cylindrical"}], ",",
      " ", 
     RowBox[{"\"\<conical\>\"", " ", "\[Rule]", " ", "conical"}], ",", 
     RowBox[{"\"\<cap\>\"", " ", "\[Rule]", " ", "cap"}]}], "}"}], " ", "//", 
   " ", "Association"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"parts", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"conicalTestTube", "[", 
     RowBox[{
     "idTop_", ",", " ", "idHip_", ",", " ", "idBottom_", ",", " ", "hTop_", 
      ",", " ", "hBottom_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"parts", " ", "@", " ", 
   RowBox[{"toCanonical", " ", "@", " ", "c"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"parts", "[", 
    RowBox[{"toCanonical", " ", "@", " ", 
     RowBox[{"conicalTestTube", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"idTop", ",", " ", "idHip", ",", " ", "idBottom"}], "}"}], 
       ",", " ", 
       RowBox[{"{", 
        RowBox[{"hTop", ",", " ", "hBottom"}], "}"}]}], "]"}]}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"2b675a98-92e5-4d58-902c-fbcba2ab3ef3"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsubsection",ExpressionUUID->"4f113e69-1ecf-4cc8-ab3c-4e98b563a2b5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"conicalTestTube", "[", 
     RowBox[{"cylindrical_", ",", " ", "conical_", ",", " ", "cap_"}], 
     "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Total", "[", 
   RowBox[{"volume", " ", "/@", " ", 
    RowBox[{"parts", "[", "c", "]"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volume", "[", 
   RowBox[{"c", ":", " ", 
    RowBox[{"conicalTestTube", "[", 
     RowBox[{
     "idTop_", ",", " ", "idHip_", ",", " ", "idBottom_", ",", " ", "hTop_", 
      ",", " ", "hBottom_"}], "]"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"volume", " ", "@", " ", 
   RowBox[{
   "toCanonical", " ", "@", " ", 
    "c"}]}]}]}], \
"Input",ExpressionUUID->"f5703848-b5c9-430c-bc74-ae1eff4b1104"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height & Depth", \
"Subsubsection",ExpressionUUID->"ab29c13f-e0b2-4600-a57c-344fddd1a9c6"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"conicalTestTube", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"idTop_", ",", " ", "idHip_", ",", " ", "idBottom_"}], "}"}], 
       ",", " ", 
       RowBox[{"{", 
        RowBox[{"hTop_", ",", " ", "hBottom_"}], "}"}]}], "]"}]}], ",", " ", 
    "v_"}], "]"}], " ", ":=", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"toCanonical", " ", "@", " ", "c"}], ",", " ", "v"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"depthFromVolume", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"conicalTestTube", "[", 
      RowBox[{"cylindrical_", ",", " ", "conical_", ",", " ", "cap_"}], 
      "]"}]}], ",", " ", "v_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "vCylindrical", ",", " ", "vConical", ",", " ", "vCap", ",", " ", 
      "dFromCap", ",", " ", "dFromConical", ",", " ", "dOther", ",", " ", 
      "result"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"vCap", " ", "=", " ", 
      RowBox[{"volume", "[", "cap", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"vConical", " ", "=", " ", 
      RowBox[{"volume", "[", "conical", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"dFromCap", " ", "=", " ", 
      RowBox[{"depthFromVolume", "[", 
       RowBox[{"cap", ",", " ", "v"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"dFromConical", " ", "=", " ", 
      RowBox[{
       RowBox[{"height", "[", "cap", "]"}], " ", "+", " ", 
       RowBox[{"depthFromVolume", "[", 
        RowBox[{"conical", ",", " ", 
         RowBox[{"v", " ", "-", " ", "vCap"}]}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"dOther", " ", "=", " ", 
      RowBox[{
       RowBox[{"height", "[", "cap", "]"}], " ", "+", " ", 
       RowBox[{"height", "[", "conical", "]"}], " ", "+", " ", 
       RowBox[{"depthFromVolume", "[", 
        RowBox[{"cylindrical", ",", " ", 
         RowBox[{"v", " ", "-", " ", "vCap", " ", "-", " ", "vConical"}]}], 
        "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Piecewise", "[", "\[IndentingNewLine]", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"dFromCap", ",", " ", 
          RowBox[{"v", " ", "\[LessEqual]", " ", "vCap"}]}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"dFromConical", ",", " ", 
          RowBox[{"v", " ", "\[LessEqual]", " ", 
           RowBox[{"vConical", " ", "+", " ", "vCap"}]}]}], "}"}], ",", " ", 
        RowBox[{"(*", " ", 
         RowBox[{"had", " ", "left", " ", "out", " ", "the", " ", 
          RowBox[{"\"\<+ vCap\>\"", "!"}]}], " ", "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"dOther", ",", " ", "True"}], "}"}]}], "\[IndentingNewLine]",
        "}"}], "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",ExpressionUUID->"822c7c9a-45a1-4985-9e6a-a5d25a917edd"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"conicalTestTube", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"idTop_", ",", " ", "idHip_", ",", " ", "idBottom_"}], "}"}], 
       ",", " ", 
       RowBox[{"{", 
        RowBox[{"hTop_", ",", " ", "hBottom_"}], "}"}]}], "]"}]}], ",", " ", 
    "depth_"}], "]"}], " ", ":=", 
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"toCanonical", " ", "@", " ", "c"}], ",", " ", "depth"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"volumeFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"conicalTestTube", "[", 
      RowBox[{"cylindrical_", ",", " ", "conical_", ",", " ", "cap_"}], 
      "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hCylindrical", ",", " ", "hConical", ",", " ", "hCap", ",", " ", 
      "vFromCap", ",", " ", "vFromConical", ",", " ", "vOther", ",", " ", 
      "result"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"hCap", " ", "=", " ", 
      RowBox[{"height", "[", "cap", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"hConical", " ", "=", " ", 
      RowBox[{"height", "[", "conical", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"vFromCap", " ", "=", " ", 
      RowBox[{"volumeFromDepth", "[", 
       RowBox[{"cap", ",", " ", "depth"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vFromConical", " ", "=", " ", 
      RowBox[{
       RowBox[{"volume", "[", "cap", "]"}], " ", "+", " ", 
       RowBox[{"volumeFromDepth", "[", 
        RowBox[{"conical", ",", " ", 
         RowBox[{"depth", " ", "-", " ", "hCap"}]}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vOther", " ", "=", " ", 
      RowBox[{
       RowBox[{"volume", "[", "cap", "]"}], " ", "+", " ", 
       RowBox[{"volume", "[", "conical", "]"}], " ", "+", " ", 
       RowBox[{"volumeFromDepth", "[", 
        RowBox[{"cylindrical", ",", " ", 
         RowBox[{
         "depth", " ", "-", " ", "hCap", " ", "-", " ", "hConical"}]}], 
        "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Piecewise", "[", "\[IndentingNewLine]", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"vFromCap", ",", " ", 
          RowBox[{"depth", " ", "\[LessEqual]", " ", "hCap"}]}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"vFromConical", ",", " ", 
          RowBox[{"depth", " ", "\[LessEqual]", " ", 
           RowBox[{"hConical", " ", "+", " ", "hCap"}]}]}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"vOther", ",", " ", "True"}], "}"}]}], "\[IndentingNewLine]",
        "}"}], "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",ExpressionUUID->"356a2c95-aabd-4600-ad19-65931bc12f47"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"conicalTestTube", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"idTop_", ",", " ", "idHip_", ",", " ", "idBottom_"}], "}"}], 
       ",", " ", 
       RowBox[{"{", 
        RowBox[{"hTop_", ",", " ", "hBottom_"}], "}"}]}], "]"}]}], ",", " ", 
    "depth_"}], "]"}], " ", ":=", 
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"toCanonical", " ", "@", " ", "c"}], ",", " ", "depth"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"radiusFromDepth", "[", 
   RowBox[{
    RowBox[{"c", ":", " ", 
     RowBox[{"conicalTestTube", "[", 
      RowBox[{"cylindrical_", ",", " ", "conical_", ",", " ", "cap_"}], 
      "]"}]}], ",", " ", "depth_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hCylindrical", ",", " ", "hConical", ",", " ", "hCap", ",", " ", 
      "rFromCap", ",", " ", "rFromConical", ",", " ", "rOther", ",", " ", 
      "result"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"hCap", " ", "=", " ", 
      RowBox[{"height", "[", "cap", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"hConical", " ", "=", " ", 
      RowBox[{"height", "[", "conical", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"rFromCap", " ", "=", " ", 
      RowBox[{"radiusFromDepth", "[", 
       RowBox[{"cap", ",", " ", "depth"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"rFromConical", " ", "=", " ", 
      RowBox[{"radiusFromDepth", "[", 
       RowBox[{"conical", ",", " ", 
        RowBox[{"depth", " ", "-", " ", "hCap"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"rOther", " ", "=", " ", 
      RowBox[{"radiusFromDepth", "[", 
       RowBox[{"cylindrical", ",", " ", 
        RowBox[{"depth", " ", "-", " ", "hCap", " ", "-", " ", "hConical"}]}],
        "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Piecewise", "[", "\[IndentingNewLine]", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"rFromCap", ",", " ", 
          RowBox[{"depth", " ", "\[LessEqual]", " ", "hCap"}]}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"rFromConical", ",", " ", 
          RowBox[{"depth", " ", "\[LessEqual]", " ", 
           RowBox[{"hConical", " ", "+", " ", "hCap"}]}]}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"rOther", ",", " ", "True"}], "}"}]}], "\[IndentingNewLine]",
        "}"}], "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",ExpressionUUID->"11f14e66-db95-4420-a2fd-6abede41c944"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Pipette and Pipette Tip", \
"Subsection",ExpressionUUID->"2f4abfee-11e3-499b-b4e7-3726537aa03e"],

Cell["\<\
Pipettes and tips are defined by their parts from top to bottom, just like \
the test tubes are.\
\>", "Text",ExpressionUUID->"dcb19b24-b5c3-41e3-a372-608d2045abf0"],

Cell[CellGroupData[{

Cell["Accessing", \
"Subsubsection",ExpressionUUID->"b9c248ef-3a89-4799-b1d9-417ca7322967"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"pipetteTip", "[", "parts__", "]"}], "]"}], " ", ":=", " ", 
  RowBox[{"And", " ", "@@", " ", 
   RowBox[{"(", 
    RowBox[{"assumptions", " ", "/@", " ", 
     RowBox[{"{", "parts", "}"}]}], ")"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"pipette", "[", "parts__", "]"}], "]"}], " ", ":=", " ", 
  RowBox[{"And", " ", "@@", " ", 
   RowBox[{"(", 
    RowBox[{"assumptions", " ", "/@", " ", 
     RowBox[{"{", "parts", "}"}]}], ")"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assumptions", "[", 
   RowBox[{"mountedPipette", "[", "parts__", "]"}], "]"}], " ", ":=", " ", 
  RowBox[{"And", " ", "@@", " ", 
   RowBox[{"(", 
    RowBox[{"assumptions", " ", "/@", " ", 
     RowBox[{"{", "parts", "}"}]}], ")"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"assumptions", "[", 
    RowBox[{"pipetteTip", "[", 
     RowBox[{
      RowBox[{"invertedFrustum", "[", 
       RowBox[{"h2", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], ",", " ", 
      RowBox[{"cone", "[", 
       RowBox[{"h1", ",", "r"}], "]"}]}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"e4a92b1a-f35d-42f9-8e0b-1e9280e3ee07"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"pipette", "[", "parts__", "]"}], "]"}], " ", ":=", " ", 
  RowBox[{"Total", "[", 
   RowBox[{"height", " ", "/@", " ", 
    RowBox[{"{", "parts", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"pipetteTip", "[", "parts__", "]"}], "]"}], " ", ":=", " ", 
  RowBox[{"Total", "[", 
   RowBox[{"height", " ", "/@", " ", 
    RowBox[{"{", "parts", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"height", "[", 
   RowBox[{"mountedPipette", "[", "parts__", "]"}], "]"}], " ", ":=", " ", 
  RowBox[{"Total", "[", 
   RowBox[{"height", " ", "/@", " ", 
    RowBox[{"{", "parts", "}"}]}], 
   "]"}]}]}], "Input",ExpressionUUID->"89f21613-80b4-4e0b-be66-9f2284f57086"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Construction", \
"Subsubsection",ExpressionUUID->"42f8158b-d950-4b99-9151-0b949f3658ba"],

Cell["Fancier versions of mountTip would allow for overlap.", \
"Text",ExpressionUUID->"23ac37d3-172f-49ee-bb0e-5e6dca180697"],

Cell[TextData[{
 "Question: should we enforce monotonicity in radius ",
 StyleBox["here? ",
  FontSlant->"Italic"],
 "Would like to, but that sounds hard."
}], "Text",ExpressionUUID->"5e0cea18-2bf1-47b6-ad6f-78d7014f3c4b"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "mountTip", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"mountTip", "[", 
   RowBox[{
    RowBox[{"p", " ", ":", " ", 
     RowBox[{"pipette", "[", "pipetteParts__", "]"}]}], ",", " ", 
    RowBox[{"tip", " ", ":", " ", 
     RowBox[{"pipetteTip", "[", "tipParts__", "]"}]}]}], "]"}], " ", ":=", 
  " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"mountedPipette", "[", 
     RowBox[{"pipetteParts", ",", " ", "tipParts"}], "]"}]}], 
   "\[IndentingNewLine]", 
   "]"}]}]}], "Input",ExpressionUUID->"11c78ce0-58be-442e-9551-b5626f105c86"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Volume", \
"Subsubsection",ExpressionUUID->"f902b014-fa9d-4bcd-a6ca-dff20bdf28c8"],

Cell[TextData[{
 "We don\[CloseCurlyQuote]t do volume because for a pipette tip, we\
\[CloseCurlyQuote]re working with the ",
 StyleBox["outside ",
  FontSlant->"Italic"],
 "dimensions, not the inside"
}], "Text",ExpressionUUID->"5741d3fe-5675-4d36-affe-5eae885347fb"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Height and Depth", \
"Subsubsection",ExpressionUUID->"e5353a29-71cb-4f58-a6fc-6fcd8fdbe391"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"outsideRadiusFromDepth", "[", 
   RowBox[{
    RowBox[{"p", ":", " ", 
     RowBox[{"pipette", "[", "parts__", "]"}]}], ",", " ", "depth_"}], "]"}], 
  " ", ":=", " ", 
  RowBox[{"outsideRadiusFromDepth", "[", 
   RowBox[{
    RowBox[{"bottomToTop", " ", "@@", " ", 
     RowBox[{"Reverse", "[", 
      RowBox[{"{", "parts", "}"}], "]"}]}], ",", " ", "depth"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"outsideRadiusFromDepth", "[", 
   RowBox[{
    RowBox[{"tip", ":", " ", 
     RowBox[{"pipetteTip", "[", "parts__", "]"}]}], ",", " ", "depth_"}], 
   "]"}], " ", ":=", " ", 
  RowBox[{"outsideRadiusFromDepth", "[", 
   RowBox[{
    RowBox[{"bottomToTop", " ", "@@", " ", 
     RowBox[{"Reverse", "[", 
      RowBox[{"{", "parts", "}"}], "]"}]}], ",", " ", "depth"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"outsideRadiusFromDepth", "[", 
    RowBox[{
     RowBox[{"tip", ":", " ", 
      RowBox[{"mountedPipette", "[", "parts__", "]"}]}], ",", " ", "depth_"}],
     "]"}], " ", ":=", " ", 
   RowBox[{"outsideRadiusFromDepth", "[", 
    RowBox[{
     RowBox[{"bottomToTop", " ", "@@", " ", 
      RowBox[{"Reverse", "[", 
       RowBox[{"{", "parts", "}"}], "]"}]}], ",", " ", "depth"}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"outsideRadiusFromDepth", "[", 
    RowBox[{
     RowBox[{"p", ":", " ", 
      RowBox[{"bottomToTop", "[", "parts__", "]"}]}], ",", " ", "depth_"}], 
    "]"}], " ", ":=", " ", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "partCount", ",", " ", "heights", ",", " ", "cumHeights", ",", " ", 
       "radii"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"partCount", " ", "=", " ", 
       RowBox[{"Length", "[", 
        RowBox[{"{", "parts", "}"}], "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"heights", " ", "=", " ", 
       RowBox[{"height", " ", "/@", " ", 
        RowBox[{"{", "parts", "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"cumHeights", " ", "=", " ", 
       RowBox[{
        RowBox[{"FoldList", "[", 
         RowBox[{"Plus", ",", " ", "0", ",", " ", "heights"}], "]"}], "[", 
        RowBox[{"[", 
         RowBox[{"1", ";;", " ", "partCount"}], "]"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Piecewise", " ", "@", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"{", 
           RowBox[{"Indeterminate", ",", " ", 
            RowBox[{"depth", " ", "<", " ", "0"}]}], "}"}], "}"}], " ", "~", 
         "Join", "~", " ", 
         RowBox[{"MapThread", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"Function", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
              "i", ",", " ", "part", ",", " ", "height", ",", " ", 
               "cumHeight"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"radiusFromDepth", "[", 
                RowBox[{"part", ",", " ", 
                 RowBox[{"depth", " ", "-", " ", "cumHeight"}]}], "]"}], ",", 
               " ", 
               RowBox[{"Or", "[", 
                RowBox[{
                 RowBox[{"i", "\[Equal]", "partCount"}], ",", " ", 
                 RowBox[{"depth", " ", "\[LessEqual]", " ", 
                  RowBox[{"cumHeight", "+", "height"}]}]}], "]"}]}], " ", 
              "}"}]}], "]"}], ",", " ", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Range", "[", "partCount", "]"}], ",", 
             RowBox[{"{", "parts", "}"}], ",", " ", "heights", ",", " ", 
             "cumHeights"}], "}"}]}], " ", "]"}]}], ")"}]}]}]}], 
    "\[IndentingNewLine]", "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"outsideRadiusFromDepth", "[", 
    RowBox[{
     RowBox[{"pipetteTip", "[", 
      RowBox[{
       RowBox[{"invertedFrustum", "[", 
        RowBox[{"h2", ",", " ", "rbig", ",", " ", "rsmall"}], "]"}], ",", " ", 
       RowBox[{"invertedCone", "[", 
        RowBox[{"h1", ",", "rsmall"}], "]"}]}], "]"}], ",", " ", "depth"}], 
    "]"}]}], ";"}]}], \
"Input",ExpressionUUID->"be576ddd-112c-4018-805a-d3ce9d203c81"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Testing", \
"Subsubsection",ExpressionUUID->"de983b28-a26e-42f3-b792-46cb55089b8b"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "plotProfile", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"plotProfile", "[", 
   RowBox[{"tipOrPipette", ":", " ", 
    RowBox[{
     RowBox[{"pipetteTip", "[", "___", "]"}], " ", "|", " ", 
     RowBox[{"pipette", "[", "___", "]"}], " ", "|", " ", 
     RowBox[{"mountedPipette", "[", "___", "]"}]}]}], "]"}], " ", ":=", " ", 
  "\[IndentingNewLine]", 
  RowBox[{"Plot", "[", 
   RowBox[{
    RowBox[{"outsideRadiusFromDepth", "[", 
     RowBox[{"tipOrPipette", ",", " ", "depth"}], "]"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"depth", ",", " ", "0", ",", " ", 
      RowBox[{"height", "[", "tipOrPipette", "]"}]}], "}"}], ",", " ", 
    RowBox[{"AspectRatio", "\[Rule]", 
     RowBox[{
      RowBox[{"outsideRadiusFromDepth", "[", 
       RowBox[{"tipOrPipette", ",", " ", 
        RowBox[{"height", "[", "tipOrPipette", "]"}]}], "]"}], " ", "/", " ", 
      RowBox[{"height", "[", "tipOrPipette", "]"}]}]}], " ", ",", 
    "\[IndentingNewLine]", 
    RowBox[{"ImageSize", "\[Rule]", "Full"}], ",", " ", 
    RowBox[{"AxesOrigin", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"plotProfile", "[", "other_", "]"}], " ", ":=", " ", 
  "\[IndentingNewLine]", 
  RowBox[{"Plot", "[", 
   RowBox[{
    RowBox[{"radiusFromDepth", "[", 
     RowBox[{"other", ",", " ", "depth"}], "]"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"depth", ",", " ", "0", ",", " ", 
      RowBox[{"height", "[", "other", "]"}]}], "}"}], ",", " ", 
    RowBox[{"AspectRatio", "\[Rule]", 
     RowBox[{
      RowBox[{"radiusFromDepth", "[", 
       RowBox[{"other", ",", " ", 
        RowBox[{"height", "[", "other", "]"}]}], "]"}], " ", "/", " ", 
      RowBox[{"height", "[", "other", "]"}]}]}], " ", ",", 
    "\[IndentingNewLine]", 
    RowBox[{"ImageSize", "\[Rule]", "Full"}], ",", " ", 
    RowBox[{"AxesOrigin", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",ExpressionUUID->"39e9c2e2-fac2-4fdd-bf83-4e19c660e535"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Modelling Specific Labware Types", \
"Section",ExpressionUUID->"7ede1e2a-f44b-446a-b011-142b40917c16"],

Cell[CellGroupData[{

Cell["Eppendorf Tubes", \
"Subsection",ExpressionUUID->"2ff2fe7a-2318-4b22-8896-285ab937e590"],

Cell[CellGroupData[{

Cell["Data", \
"Subsubsection",ExpressionUUID->"21e34899-1a88-4443-a784-8ca05673e668"],

Cell[BoxData[{
 RowBox[{"eppendorf15Data", " ", "=", " ", 
  RowBox[{"ArrayReshape", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "50", ",", " ", "5", ",", "70", ",", " ", "5.74", ",", "75", ",", " ", 
      "5.94", ",", "80", ",", " ", "6.36", ",", "90", ",", " ", "6.61", ",", 
      "100", ",", " ", "7.19", ",", "125", ",", " ", "8.39", ",", "150", ",", 
      " ", "9.26", ",", "200", ",", " ", "10.72", ",", "300", ",", " ", 
      "13.25", ",", "400", ",", " ", "15.39", ",", "500", ",", " ", "17.54", 
      ",", "600", ",", " ", "19.26", ",", "750", ",", " ", "21.59", ",", 
      "875", ",", " ", "23.56", ",", "1000", ",", " ", "25.73", ",", "1200", 
      ",", " ", "29.12", ",", "1500", ",", " ", "33.27"}], "}"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"18", ",", "2"}], "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"ListPlot", "[", 
  RowBox[{"eppendorf15Data", ",", " ", 
   RowBox[{"ImageSize", "\[Rule]", "Large"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<vol\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"PlotRange", "\[Rule]", "All"}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}]}], 
  "]"}]}], "Input",ExpressionUUID->"6f9dd3ec-c1c0-48db-b0e6-fb42e862df57"],

Cell[BoxData[{
 RowBox[{"eppendorf50Data", " ", "=", " ", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"200", ",", "9.28`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"400", ",", "13.21`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"800", ",", "17.76`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"1200", ",", "21.05`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"1000", ",", "19.65`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"2000", ",", "27.58`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"3000", ",", "34.16`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"50", ",", "4.74`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"100", ",", "6.71`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"150", ",", "8.25`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"200", ",", "9.44`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"250", ",", "10.57`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"300", ",", "11.65`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"600", ",", "15.65`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"900", ",", "18.69`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"1200", ",", "20.93`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"75", ",", "5.64`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"40", ",", "4.21`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"30", ",", "3.47`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"20", ",", "2.8`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"10", ",", "1.94`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"7.5`", ",", "1.77`"}], "}"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"5000", ",", " ", "47.97"}], "}"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"4000", ",", " ", "41.49"}], "}"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"2000", ",", " ", "27.03"}], "}"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}], "}"}]}], "\[IndentingNewLine]", 
 RowBox[{"ListPlot", "[", 
  RowBox[{"eppendorf50Data", ",", " ", 
   RowBox[{"ImageSize", "\[Rule]", "Large"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<vol\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"PlotRange", "\[Rule]", "All"}]}], 
  "]"}]}], "Input",ExpressionUUID->"1cc098e5-d42a-4cb5-8ec8-f45d14c26ed5"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Fitting", \
"Subsubsection",ExpressionUUID->"8a22d10c-7886-43ac-937c-ddb85904c760"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "fitEppendorfData", "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fitEppendorfData", "[", 
   RowBox[{
   "eppendorfData_", ",", " ", "specRules_", ",", " ", "conicalThreshold_", 
    ",", " ", "cylindricalThreshold_", ",", " ", "cylConstraints_", ",", " ", 
    "coneConstraints_", ",", " ", "tubeConstraints_", ",", " ", "tubeCap_", 
    ",", " ", 
    RowBox[{"maxIterations_", " ", ":", " ", "100"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hTot", ",", " ", "rmid", ",", " ", "rBottom", ",", " ", "wallBottom", 
      ",", " ", "hCyl", ",", " ", "hCone", ",", " ", "hCap", ",", " ", 
      "\[Alpha]Cylinder", ",", " ", "\[Alpha]Cone"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"Module", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "depthFunc", ",", " ", "fit", ",", " ", "showFit", ",", " ", "zeroify",
         ",", " ", "conicalData", ",", " ", "conePart", ",", " ", "coneRules",
         ",", " ", "angledCone", ",", " ", "cylinderData", ",", " ", 
        "offsetConicalData", ",", " ", "offsetCylinderData", ",", " ", 
        "cylinderPart", ",", " ", "cylinderRules", ",", " ", "rtop", ",", " ",
         "rbottom", ",", " ", "angledCylinder", ",", " ", "tube", ",", " ", 
        "\[Alpha]", ",", " ", "tubeRules", ",", " ", "rconeBig", ",", " ", 
        "rconeSmall", ",", "  ", "rules", ",", " ", "rCap", ",", " ", 
        "fittedTube", ",", " ", "tubeCylinder", ",", " ", "tubeCone"}], "}"}],
       ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"depthFunc", "[", "part_", "]"}], " ", ":=", " ", 
        RowBox[{"Module", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"expr", ",", " ", "v"}], "}"}], ",", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"expr", " ", "=", " ", 
            RowBox[{"depthFromVolume", "[", 
             RowBox[{"part", ",", " ", "v"}], "]"}]}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"depthFunc", "[", "part", "]"}], " ", "=", " ", 
            RowBox[{"Function", "[", 
             RowBox[{
              RowBox[{"{", "vol", "}"}], ",", " ", 
              RowBox[{"expr", " ", "/.", " ", 
               RowBox[{"{", 
                RowBox[{"v", " ", "\[Rule]", " ", "vol"}], "}"}]}]}], 
             "]"}]}]}]}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"fit", "[", 
         RowBox[{
         "part_", ",", " ", "assump_", ",", " ", "vars_", ",", " ", "data_"}],
          "]"}], " ", ":=", " ", 
        RowBox[{"Module", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
           "errors", ",", " ", "err", ",", " ", "min", ",", " ", "fitRules", 
            ",", " ", "asses"}], "}"}], ",", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"errors", " ", "=", " ", 
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"Function", "[", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"vol", ",", " ", "depth"}], "}"}], ",", " ", 
                 "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{
                    RowBox[{"depthFunc", "[", "part", "]"}], "[", "vol", 
                    "]"}], " ", "-", " ", "depth"}], ")"}], "^", "2"}]}], 
                "\[IndentingNewLine]", "]"}], " ", "@@", " ", "#"}], "&"}], 
             " ", "/@", " ", "data"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"err", " ", "=", " ", 
            RowBox[{
             RowBox[{"Total", "[", "errors", "]"}], " ", "//", " ", "N"}]}], 
           ";", "\[IndentingNewLine]", 
           RowBox[{"asses", " ", "=", " ", 
            RowBox[{
             RowBox[{"assumptions", "[", "part", "]"}], " ", "&&", " ", 
             RowBox[{"(", 
              RowBox[{"And", " ", "@@", " ", "assump"}], ")"}]}]}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"min", ",", " ", "fitRules"}], "}"}], " ", "=", " ", 
            RowBox[{"NMinimize", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"err", ",", " ", "asses"}], " ", "}"}], ",", " ", 
              "vars", ",", " ", 
              RowBox[{"MaxIterations", "\[Rule]", "maxIterations"}]}], 
             "]"}]}], ";", "\[IndentingNewLine]", "fitRules"}]}], "]"}]}], 
       ";", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"showFit", "[", 
         RowBox[{"part_", ",", " ", "data_"}], "]"}], " ", ":=", " ", 
        RowBox[{"Module", "[", 
         RowBox[{
          RowBox[{"{", "v", "}"}], ",", "\[IndentingNewLine]", " ", 
          RowBox[{"Show", "[", 
           RowBox[{
            RowBox[{"ListPlot", "[", 
             RowBox[{
              RowBox[{"{", "data", "}"}], ",", " ", 
              RowBox[{"ImageSize", "\[Rule]", "Large"}], ",", " ", 
              RowBox[{"AxesLabel", "\[Rule]", 
               RowBox[{"{", 
                RowBox[{"\"\<vol\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], 
              ",", " ", 
              RowBox[{"PlotRange", "\[Rule]", "All"}], ",", " ", 
              RowBox[{"AxesOrigin", "\[Rule]", 
               RowBox[{"{", 
                RowBox[{"0", ",", "0"}], "}"}]}]}], "]"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"Plot", "[", 
             RowBox[{
              RowBox[{"depthFromVolume", "[", 
               RowBox[{"part", ",", " ", "v"}], "]"}], ",", " ", 
              RowBox[{"{", 
               RowBox[{"v", ",", " ", "0", ",", " ", 
                RowBox[{"volume", "[", "part", "]"}]}], "}"}]}], "]"}]}], 
           "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"zeroify", "[", "data_", "]"}], " ", ":=", " ", 
        RowBox[{"Module", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"xMin", ",", " ", "yMin"}], "}"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{"xMin", ",", " ", "yMin"}], "}"}], " ", "=", " ", 
            RowBox[{"Map", "[", 
             RowBox[{"Min", ",", " ", 
              RowBox[{"Transpose", " ", "@", " ", "data"}], ",", " ", 
              RowBox[{"{", "1", "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
           RowBox[{"Transpose", "[", 
            RowBox[{
             RowBox[{"Transpose", "[", "data", "]"}], " ", "-", " ", 
             RowBox[{"{", 
              RowBox[{"xMin", ",", " ", "yMin"}], "}"}]}], "]"}]}]}], "]"}]}],
        ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"conicalData", " ", "=", " ", 
        RowBox[{"Select", "[", 
         RowBox[{"eppendorfData", ",", " ", 
          RowBox[{
           RowBox[{
            RowBox[{"#", "[", 
             RowBox[{"[", "1", "]"}], "]"}], " ", "\[LessEqual]", " ", 
            "conicalThreshold"}], "&"}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"cylinderData", " ", "=", " ", 
        RowBox[{"Select", "[", 
         RowBox[{"eppendorfData", ",", " ", 
          RowBox[{
           RowBox[{
            RowBox[{"#", "[", 
             RowBox[{"[", "1", "]"}], "]"}], " ", ">=", " ", 
            "cylindricalThreshold"}], "&"}]}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"offsetConicalData", " ", "=", " ", 
        RowBox[{"zeroify", "[", "conicalData", "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"offsetCylinderData", " ", "=", " ", 
        RowBox[{"zeroify", "[", "cylinderData", "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"printCell", "[", 
        RowBox[{"specificationSays", "[", "specRules", "]"}], "]"}], ";", 
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{"fit", " ", "the", " ", 
         RowBox[{"cylinder", ".", " ", "this"}], " ", "gives", " ", "us", " ",
          "the", " ", "apex", " ", "angle", " ", "of", " ", "the", " ", 
         RowBox[{"cylinder", ".", " ", "we"}], " ", 
         RowBox[{"don", "'"}], "t", " ", "yet", " ", "know", " ", "its", " ", 
         "actual", " ", "height"}], " ", "*)"}], "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{"we", " ", 
         RowBox[{"dont", "'"}], " ", "know", " ", "rmid", " ", "because", " ",
          "the", " ", "bottom", " ", "of", " ", "cylinderData", " ", "might", 
         " ", "not", " ", "be", " ", "right", " ", "at", " ", "the", " ", 
         "mid", " ", "location"}], " ", "*)"}], "\[IndentingNewLine]", 
       RowBox[{"cylinderPart", " ", "=", " ", 
        RowBox[{"invertedFrustum", "[", 
         RowBox[{"hCyl", ",", " ", "rtop", ",", " ", "rmid"}], "]"}]}], 
       RowBox[{"(*", " ", 
        RowBox[{"/.", " ", "coneRules"}], "*)"}], ";", "\[IndentingNewLine]", 
       RowBox[{"cylinderRules", " ", "=", " ", 
        RowBox[{"fit", "[", 
         RowBox[{"cylinderPart", ",", " ", "cylConstraints", ",", " ", 
          RowBox[{"{", 
           RowBox[{"hCyl", ",", " ", "rtop", ",", " ", "rmid"}], "}"}], ",", 
          " ", "offsetCylinderData"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"angledCylinder", " ", "=", " ", 
        RowBox[{"toApexAngled", "[", 
         RowBox[{"cylinderPart", " ", "/.", " ", "cylinderRules"}], "]"}]}], 
       ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{"fit", " ", "the", " ", 
         RowBox[{"cone", ".", " ", "this"}], " ", "gives", " ", "us", " ", 
         "the", " ", "apex", " ", "angle", " ", "of", " ", "the", " ", 
         "cone"}], " ", "*)"}], "\[IndentingNewLine]", 
       RowBox[{"conePart", " ", "=", " ", 
        RowBox[{"invertedFrustum", "[", 
         RowBox[{"hCone", ",", " ", "rconeBig", ",", " ", "rconeSmall"}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"coneRules", " ", "=", " ", 
        RowBox[{"fit", "[", 
         RowBox[{"conePart", ",", " ", "coneConstraints", ",", " ", 
          RowBox[{"{", 
           RowBox[{"hCone", ",", " ", "rconeBig", ",", " ", "rconeSmall"}], 
           "}"}], ",", " ", "offsetConicalData"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"angledCone", " ", "=", " ", 
        RowBox[{"toApexAngled", "[", 
         RowBox[{"conePart", " ", "/.", " ", "coneRules"}], "]"}]}], ";", 
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{"summarize", " ", "what", " ", "we", " ", "know"}], " ", 
        "*)"}], "\[IndentingNewLine]", 
       RowBox[{"rules", " ", "=", " ", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"\[Alpha]Cylinder", " ", "\[Rule]", " ", 
           RowBox[{"apexangle", "[", "angledCylinder", "]"}]}], ",", " ", 
          RowBox[{"\[Alpha]Cone", " ", "\[Rule]", " ", 
           RowBox[{"apexangle", "[", "angledCone", "]"}]}]}], "}"}]}], ";", 
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"(*", " ", 
        RowBox[{"put", " ", "these", " ", 
         RowBox[{"together", "."}]}], " ", "*)"}], "\[IndentingNewLine]", 
       RowBox[{"tubeCylinder", " ", "=", " ", 
        RowBox[{
         RowBox[{"invertedFrustum", "[", 
          RowBox[{"hCyl", ",", " ", 
           RowBox[{"rbig", "[", 
            RowBox[{
            "hCyl", ",", " ", "rmid", ",", " ", "\[Alpha]Cylinder", ",", " ", 
             "\"\<apexangle\>\""}], "]"}], ",", " ", "\[Alpha]Cylinder", ",", 
           " ", "\"\<apexangle\>\""}], "]"}], "/.", " ", "rules"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"tubeCone", " ", "=", " ", 
        RowBox[{
         RowBox[{"invertedFrustum", "[", 
          RowBox[{
          "hCone", ",", " ", "rmid", ",", " ", "\[Alpha]Cone", ",", " ", 
           "\"\<apexangle\>\""}], "]"}], "/.", " ", "rules"}]}], ";", 
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"rules", " ", "=", " ", 
        RowBox[{"rules", " ", "~", "Join", "~", 
         RowBox[{"{", " ", 
          RowBox[{"rBottom", " ", "\[Rule]", " ", 
           RowBox[{"rsmall", "[", "tubeCone", "]"}]}], " ", "}"}]}]}], ";", 
       "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"tube", " ", "=", " ", 
        RowBox[{"conicalTestTube", "[", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"(", "tubeCylinder", ")"}], ",", "\[IndentingNewLine]", 
          RowBox[{"(", "tubeCone", ")"}], ",", "\[IndentingNewLine]", 
          RowBox[{"(", 
           RowBox[{"tubeCap", " ", "/.", " ", "rules"}], ")"}]}], 
         "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"tube", " ", "=", " ", 
        RowBox[{"tube", " ", "/.", " ", 
         RowBox[{"{", " ", 
          RowBox[{"hCone", " ", "\[Rule]", " ", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"hTot", " ", "/.", " ", "specRules"}], ")"}], " ", "-", 
            " ", "hCyl", "  ", "-", " ", "hCap"}]}], "}"}]}]}], ";", " ", 
       "\[IndentingNewLine]", 
       RowBox[{"tubeRules", " ", "=", " ", 
        RowBox[{"fit", "[", 
         RowBox[{"tube", ",", " ", "tubeConstraints", ",", " ", 
          RowBox[{"variables", "[", "tube", "]"}], ",", " ", 
          "eppendorfData"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"fittedTube", " ", "=", " ", 
        RowBox[{"toCartesian", "[", 
         RowBox[{"tube", "/.", "tubeRules"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"printCell", " ", "@", " ", 
        RowBox[{"showFit", "[", 
         RowBox[{"fittedTube", ",", " ", "eppendorfData"}], "]"}]}], ";", 
       "\[IndentingNewLine]", "fittedTube"}]}], "\[IndentingNewLine]", 
     "]"}]}], "]"}]}]}], \
"Input",ExpressionUUID->"d318db4a-887b-47e4-a46c-a7cb03e380a2"],

Cell["We fit the 5.0mL tube", \
"Text",ExpressionUUID->"be9657d5-ba06-4585-b313-1d831531aa36"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"fitEppendorf50Data", "[", "data_", "]"}], " ", ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hTot", ",", " ", "rmid", ",", " ", "wallBottom", ",", " ", "rBottom", 
      ",", " ", "hCyl", ",", " ", "hCone", ",", " ", "hCap", ",", " ", 
      "volCap", ",", " ", "rCap"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"fitEppendorfData", "[", 
     RowBox[{"data", ",", " ", "\[IndentingNewLine]", 
      RowBox[{"{", " ", 
       RowBox[{
        RowBox[{"hTot", " ", "\[Rule]", " ", "55.4"}], ",", " ", 
        RowBox[{"rmid", " ", "\[Rule]", " ", 
         RowBox[{"13.3", " ", "/", " ", "2"}]}], ",", " ", 
        RowBox[{"wallBottom", " ", "\[Rule]", " ", 
         RowBox[{"56.7", " ", "-", " ", "55.4"}]}]}], " ", "}"}], ",", 
      "\[IndentingNewLine]", "1000", ",", " ", "1500", ",", 
      "\[IndentingNewLine]", 
      RowBox[{"{", " ", 
       RowBox[{"hCyl", " ", ">", " ", "30"}], " ", "}"}], ",", " ", 
      RowBox[{"{", " ", 
       RowBox[{"hCone", " ", ">", " ", "13"}], " ", "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"hCap", " ", "<", " ", "2"}], ",", " ", 
        RowBox[{"hCyl", " ", ">", " ", "30"}], ",", " ", 
        RowBox[{"rmid", " ", ">", " ", "6.2"}], ",", " ", 
        RowBox[{"rmid", " ", "<", " ", "6.9"}]}], "}"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"invertedSphericalCap", "[", 
       RowBox[{"hCap", ",", " ", "rBottom", ",", " ", "\"\<rCap\>\""}], 
       "]"}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"fittedEppendorf5$0M0", " ", "=", 
  RowBox[{
  "fitEppendorf50Data", "[", "eppendorf50Data", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"height", " ", "@", " ", "fittedEppendorf5$0M0"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"fittedEppendorf5$0M0", ",", " ", 
     RowBox[{"volume", "[", "fittedEppendorf5$0M0", "]"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", " ", "@", " ", "fittedEppendorf5$0M0"}]}], 
  ";"}]}], "Input",ExpressionUUID->"f346cf27-e240-4abe-ad59-fa311d99fb59"],

Cell["\<\
The M0 for the 1.5mL tube is the fitting we\[CloseCurlyQuote]ve been using \
for a few weeks.\
\>", "Text",ExpressionUUID->"edccbb40-9104-4dcc-840e-4e1a8ad68870"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"fitEppendorf15DataM0", "[", "data_", "]"}], " ", ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hTot", ",", " ", "rmid", ",", " ", "wallBottom", ",", " ", "rBottom", 
      ",", " ", "hCyl", ",", " ", "hCone", ",", " ", "hCap", ",", " ", 
      "volCap"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"fitEppendorfData", "[", 
     RowBox[{"data", ",", 
      RowBox[{"{", " ", 
       RowBox[{
        RowBox[{"hTot", " ", "\[Rule]", " ", "37.8"}], ",", " ", 
        RowBox[{"rmid", "\[Rule]", " ", 
         RowBox[{"8.7", " ", "/", "2"}]}], ",", " ", 
        RowBox[{"wallBottom", " ", "\[Rule]", " ", 
         RowBox[{"38.9", " ", "-", " ", "37.8"}]}]}], "}"}], ",", " ", "500", 
      ",", " ", "500", ",", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"hCyl", " ", ">", " ", "12"}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{"hCone", " ", ">", " ", "10"}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"hCap", " ", "<", " ", "5"}], ",", " ", 
        RowBox[{"hCyl", " ", ">", " ", "10"}], ",", " ", 
        RowBox[{"rmid", " ", ">", " ", "4"}], ",", " ", 
        RowBox[{"rmid", " ", "<", " ", "6"}]}], 
       RowBox[{"(*", 
        RowBox[{",", " ", 
         RowBox[{"rCap", " ", "\[GreaterEqual]", " ", "hCap"}]}], "*)"}], 
       "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{"unknownShape", "[", 
       RowBox[{"hCap", ",", " ", "volCap"}], "]"}]}], "\[IndentingNewLine]", 
     "]"}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"fittedEppendorf1$5M0", " ", "=", " ", 
  RowBox[{
  "fitEppendorf15DataM0", "[", "eppendorf15Data", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"height", " ", "@", " ", "fittedEppendorf1$5M0"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"fittedEppendorf1$5M0", ",", " ", 
     RowBox[{"volume", "[", "fittedEppendorf1$5M0", "]"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", " ", "@", " ", "fittedEppendorf1$5M0"}]}], 
  ";"}]}], "Input",ExpressionUUID->"8596f830-7007-489b-b946-e7d4f5d7715b"],

Cell["\<\
For a revised fitting, we both include the point (0,0) and fit a cap instead \
of something unknown.\
\>", "Text",ExpressionUUID->"806c0f97-8d31-45aa-8ca8-b40e032b455b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"fitEppendorf15DataM1", "[", "data_", "]"}], " ", ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "hTot", ",", " ", "rmid", ",", " ", "wallBottom", ",", " ", "rBottom", 
      ",", " ", "hCyl", ",", " ", "hCone", ",", " ", "hCap", ",", " ", 
      "volCap"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"fitEppendorfData", "[", 
     RowBox[{"data", ",", 
      RowBox[{"{", " ", 
       RowBox[{
        RowBox[{"hTot", " ", "\[Rule]", " ", "37.8"}], ",", " ", 
        RowBox[{"rmid", "\[Rule]", " ", 
         RowBox[{"8.7", " ", "/", "2"}]}], ",", " ", 
        RowBox[{"wallBottom", " ", "\[Rule]", " ", 
         RowBox[{"38.9", " ", "-", " ", "37.8"}]}]}], "}"}], ",", " ", "500", 
      ",", " ", "500", ",", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"hCyl", " ", ">", " ", "12"}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{"hCone", " ", ">", " ", "10"}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"hCap", " ", "<", " ", "5"}], ",", " ", 
        RowBox[{"hCyl", " ", ">", " ", "10"}], ",", " ", 
        RowBox[{"rmid", " ", ">", " ", "4"}], ",", " ", 
        RowBox[{"rmid", " ", "<", " ", "6"}]}], 
       RowBox[{"(*", 
        RowBox[{",", " ", 
         RowBox[{"rCap", " ", "\[GreaterEqual]", " ", "hCap"}]}], "*)"}], 
       "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{"invertedSphericalCap", "[", 
       RowBox[{"hCap", ",", " ", "rBottom", ",", " ", "\"\<rCap\>\""}], "]"}],
       ",", "\[IndentingNewLine]", "300"}], "\[IndentingNewLine]", "]"}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"fittedEppendorf1$5M1", " ", "=", " ", 
  RowBox[{"fitEppendorf15DataM1", "[", 
   RowBox[{"eppendorf15Data", " ", "~", "Join", "~", " ", 
    RowBox[{"{", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}], "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"height", " ", "@", " ", "fittedEppendorf1$5M1"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"fittedEppendorf1$5M1", ",", " ", 
     RowBox[{"volume", "[", "fittedEppendorf1$5M1", "]"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", " ", "@", " ", "fittedEppendorf1$5M1"}]}], 
  ";"}]}], "Input",ExpressionUUID->"61228567-1dbf-44d0-b3ef-a417910defa8"],

Cell["\<\
It should be noted that the specification indicates that the upper \
\[OpenCurlyQuote]cylindrical\[CloseCurlyQuote] inverted frustum isn\
\[CloseCurlyQuote]t actually an inverted frustum but has a bit of a flare at \
the top. We ignore that\
\>", "Text",ExpressionUUID->"256d249b-09af-426b-9593-83dcbf8dac53"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Bio-rad Deep Well Plates", \
"Subsection",ExpressionUUID->"a938fd0a-adb3-409a-98e7-d3a6b802f0a3"],

Cell["\<\
The Bio-rad specs aren\[CloseCurlyQuote]t internally consistent: there\
\[CloseCurlyQuote]s a conflict between the well diameters and height vs the \
well angle. Update: it\[CloseCurlyQuote]s now known that apparent discrepancy \
arises from the fact that the wells in fact have a capacity larger than 200 \
\[Mu]L.\
\>", "Text",ExpressionUUID->"2a9f73b4-c02a-40c1-869c-ac93770c855b"],

Cell["We first choose to honor the well bottom width (2.64). ", \
"Text",ExpressionUUID->"7fa5f976-0592-4d4b-a296-567e66014d4f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"modelBioRad1", "[", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "cylinderPart", ",", " ", "cylinderRules", ",", " ", "capacity", ",", 
      " ", "hCyl", ",", " ", "rtop", ",", " ", "rmid", ",", " ", "rbottom", 
      ",", " ", "conePart", ",", " ", "hCone", ",", " ", "specRules", ",", 
      " ", "rules", ",", " ", "hTot", ",", " ", "wallBottom", ",", " ", 
      "\[Alpha]Cone", ",", " ", "tube", ",", " ", "vol", ",", " ", "solns", 
      ",", " ", "soln", ",", "assumpts", ",", " ", "constraint", ",", " ", 
      "extra", ",", " ", "hCylMin"}], " ", "}"}], ",", "\[IndentingNewLine]", 
    "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{
     "we", " ", "assume", " ", "the", " ", "top", " ", "is", " ", "an", " ", 
      "actual", " ", "cylinder", " ", "rather", " ", "than", " ", "an", " ", 
      "inverted", " ", "frustum"}], " ", "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"cylinderPart", " ", "=", " ", 
      RowBox[{"cylinder", "[", 
       RowBox[{"hCyl", ",", " ", "rtop"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"cylinderRules", " ", "=", " ", 
      RowBox[{"{", 
       RowBox[{"rmid", " ", "\[Rule]", " ", "rtop"}], "}"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"conePart", "=", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{
       "hCone", ",", " ", "rmid", ",", " ", "\[Alpha]Cone", ",", " ", 
        "\"\<apexangle\>\""}], "]"}]}], ";", " ", 
     RowBox[{"(*", " ", 
      RowBox[{
       RowBox[{"doesn", "'"}], "t", " ", "honor", " ", "rbottom", " ", "on", 
       " ", "its", " ", "own"}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"conePart", " ", "=", " ", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{"hCone", ",", " ", "rmid", ",", " ", "rbottom"}], "]"}]}], ";",
      "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"specRules", " ", "=", " ", 
      RowBox[{"{", " ", 
       RowBox[{
        RowBox[{"hTot", " ", "\[Rule]", " ", "14.81"}], ",", " ", 
        RowBox[{"rtop", " ", "\[Rule]", " ", 
         RowBox[{"5.46", " ", "/", "2"}]}], ",", " ", 
        RowBox[{"rbottom", "\[Rule]", " ", 
         RowBox[{"2.64", "/", "2"}]}], ",", " ", 
        RowBox[{"wallBottom", " ", "\[Rule]", " ", 
         RowBox[{"16.06", " ", "-", " ", "14.81"}]}], ",", " ", 
        RowBox[{"\[Alpha]Cone", " ", "\[Rule]", " ", 
         RowBox[{
          RowBox[{"toRadian", "[", "17.5", "]"}], "/", "2"}]}]}], "}"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"printCell", "[", 
        RowBox[{"specificationSays", "[", "specRules", "]"}], "]"}], ";"}], 
      "*)"}], "\[IndentingNewLine]", 
     RowBox[{"tube", " ", "=", " ", 
      RowBox[{"conicalTestTube", "[", 
       RowBox[{"cylinderPart", ",", " ", "conePart", ",", " ", 
        RowBox[{"emptyCylinder", "[", "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"rules", " ", "=", " ", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"hCone", " ", "\[Rule]", " ", 
         RowBox[{"hTot", " ", "-", " ", "hCyl"}]}], " ", "}"}], " ", "~", 
       "Join", "~", " ", "cylinderRules", " ", "~", "Join", "~", " ", 
       "specRules"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"tube", " ", "=", " ", 
      RowBox[{"tube", " ", "//.", " ", "rules"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vol", " ", "=", " ", 
      RowBox[{"volume", "[", "tube", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"capacity", " ", "=", " ", "200"}], " ", ";", 
     "\[IndentingNewLine]", 
     RowBox[{"assumpts", " ", "=", "  ", "True"}], ";", "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Solve", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"vol", "\[Equal]", "capacity"}], " ", "&&", " ", 
         "assumpts"}], ",", " ", 
        RowBox[{"{", "hCyl", "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"soln", " ", "=", " ", 
      RowBox[{"First", " ", "@", " ", "solns"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"tube", " ", "//.", " ", "soln"}], " ", "//", " ", 
      "toCartesian"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"modelledBioRad1", " ", "=", " ", 
   RowBox[{"modelBioRad1", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "modelledBioRad1"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toDeg", "[", 
    RowBox[{
     RowBox[{"apexangle", "[", 
      RowBox[{
       RowBox[{"parts", "[", "modelledBioRad1", "]"}], "[", "\"\<conical\>\"",
        "]"}], "]"}], " ", "*", " ", "2"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"(", 
    RowBox[{"2", " ", "*", " ", 
     RowBox[{"rsmall", "[", 
      RowBox[{
       RowBox[{"parts", "[", "modelledBioRad1", "]"}], "[", "\"\<conical\>\"",
        "]"}], "]"}]}], ")"}]}], 
  ";"}]}], "Input",ExpressionUUID->"1ac80817-3637-49c4-9880-ff56ccc1b2c6"],

Cell["So instead we honor the apex angle of the cone (17.5\[Degree]).", \
"Text",ExpressionUUID->"988b436c-cb8e-4485-aba7-52715458a0cb"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"modelBioRad2", "[", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "cylinderPart", ",", " ", "cylinderRules", ",", " ", "capacity", ",", 
      " ", "hCyl", ",", " ", "rtop", ",", " ", "rmid", ",", " ", "rbottom", 
      ",", " ", "conePart", ",", " ", "hCone", ",", " ", "specRules", ",", 
      " ", "rules", ",", " ", "hTot", ",", " ", "wallBottom", ",", " ", 
      "\[Alpha]Cone", ",", " ", "tube", ",", " ", "vol", ",", " ", "solns", 
      ",", " ", "soln", ",", "assumpts", ",", " ", "constraint", ",", " ", 
      "extra", ",", " ", "hCylMin"}], " ", "}"}], ",", "\[IndentingNewLine]", 
    "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{
     "we", " ", "assume", " ", "the", " ", "top", " ", "is", " ", "an", " ", 
      "actual", " ", "cylinder", " ", "rather", " ", "than", " ", "an", " ", 
      "inverted", " ", "frustum"}], " ", "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"cylinderPart", " ", "=", " ", 
      RowBox[{"cylinder", "[", 
       RowBox[{"hCyl", ",", " ", "rtop"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"cylinderRules", " ", "=", " ", 
      RowBox[{"{", 
       RowBox[{"rmid", " ", "\[Rule]", " ", "rtop"}], "}"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"conePart", "=", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{
       "hCone", ",", " ", "rmid", ",", " ", "\[Alpha]Cone", ",", " ", 
        "\"\<apexangle\>\""}], "]"}]}], ";", " ", 
     RowBox[{"(*", " ", 
      RowBox[{
       RowBox[{"doesn", "'"}], "t", " ", "honor", " ", "rbottom", " ", "on", 
       " ", "its", " ", "own"}], " ", "*)"}], "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"specRules", " ", "=", " ", 
      RowBox[{"{", " ", 
       RowBox[{
        RowBox[{"hTot", " ", "\[Rule]", " ", "14.81"}], ",", " ", 
        RowBox[{"rtop", " ", "\[Rule]", " ", 
         RowBox[{"5.46", " ", "/", "2"}]}], ",", " ", 
        RowBox[{"rbottom", "\[Rule]", " ", 
         RowBox[{"2.64", "/", "2"}]}], ",", " ", 
        RowBox[{"wallBottom", " ", "\[Rule]", " ", 
         RowBox[{"16.06", " ", "-", " ", "14.81"}]}], ",", " ", 
        RowBox[{"\[Alpha]Cone", " ", "\[Rule]", " ", 
         RowBox[{
          RowBox[{"toRadian", "[", "17.5", "]"}], "/", "2"}]}]}], "}"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"printCell", "[", 
        RowBox[{"specificationSays", "[", "specRules", "]"}], "]"}], ";"}], 
      "*)"}], "\[IndentingNewLine]", 
     RowBox[{"tube", " ", "=", " ", 
      RowBox[{"conicalTestTube", "[", 
       RowBox[{"cylinderPart", ",", " ", "conePart", ",", " ", 
        RowBox[{"emptyCylinder", "[", "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"rules", " ", "=", " ", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"hCone", " ", "\[Rule]", " ", 
         RowBox[{"hTot", " ", "-", " ", "hCyl"}]}], " ", "}"}], " ", "~", 
       "Join", "~", " ", "cylinderRules", " ", "~", "Join", "~", " ", 
       "specRules"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"tube", " ", "=", " ", 
      RowBox[{"tube", " ", "//.", " ", "rules"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vol", " ", "=", " ", 
      RowBox[{"volume", "[", "tube", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"capacity", " ", "=", " ", "200"}], " ", ";", 
     "\[IndentingNewLine]", 
     RowBox[{"assumpts", " ", "=", " ", 
      RowBox[{
       RowBox[{"hCyl", " ", ">", " ", "0"}], " ", "&&", " ", 
       RowBox[{"hCyl", " ", "<", " ", "5"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Solve", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"vol", "\[Equal]", "capacity"}], " ", "&&", " ", 
         "assumpts"}], ",", " ", 
        RowBox[{"{", "hCyl", "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"soln", " ", "=", " ", 
      RowBox[{"First", " ", "@", " ", "solns"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"tube", " ", "//.", " ", "soln"}], " ", "//", " ", 
      "toCartesian"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"modelledBioRad2", " ", "=", " ", 
   RowBox[{"modelBioRad2", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "modelledBioRad2"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toDeg", "[", 
    RowBox[{
     RowBox[{"apexangle", "[", 
      RowBox[{
       RowBox[{"parts", "[", "modelledBioRad2", "]"}], "[", "\"\<conical\>\"",
        "]"}], "]"}], " ", "*", " ", "2"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"(", 
    RowBox[{"2", " ", "*", " ", 
     RowBox[{"rsmall", "[", 
      RowBox[{
       RowBox[{"parts", "[", "modelledBioRad2", "]"}], "[", "\"\<conical\>\"",
        "]"}], "]"}]}], ")"}]}], 
  ";"}]}], "Input",ExpressionUUID->"bc1fd80e-d986-456a-b32b-788740c8d1b9"],

Cell[TextData[{
 "Next, we honor ",
 StyleBox["both ",
  FontSlant->"Italic"],
 "the apex angle and the bottom dimension. But to do that, we need to admit \
that the capacity of the well is greater than stated (which is almost \
certainly true)."
}], "Text",ExpressionUUID->"307372a2-7c9c-4edc-b540-2fedb5aef3dd"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"modelBioRad3", "[", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "cylinderPart", ",", " ", "cylinderRules", ",", " ", "capacity", ",", 
      " ", "hCyl", ",", " ", "rtop", ",", " ", "rmid", ",", " ", "rbottom", 
      ",", " ", "conePart", ",", " ", "hCone", ",", " ", "specRules", ",", 
      " ", "rules", ",", " ", "hTot", ",", " ", "wallBottom", ",", " ", 
      "\[Alpha]Cone", ",", " ", "tube", ",", " ", "vol", ",", " ", "solns", 
      ",", " ", "soln", ",", "assumpts", ",", " ", "constraint", ",", " ", 
      "extra", ",", " ", "hCylMin", ",", " ", "hCylSoln"}], " ", "}"}], ",", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{
     "we", " ", "assume", " ", "the", " ", "top", " ", "is", " ", "an", " ", 
      "actual", " ", "cylinder", " ", "rather", " ", "than", " ", "an", " ", 
      "inverted", " ", "frustum"}], " ", "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"cylinderPart", " ", "=", " ", 
      RowBox[{"cylinder", "[", 
       RowBox[{"hCyl", ",", " ", "rtop"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"cylinderRules", " ", "=", " ", 
      RowBox[{"{", 
       RowBox[{"rmid", " ", "\[Rule]", " ", "rtop"}], "}"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"conePart", "=", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{
       "hCone", ",", " ", "rmid", ",", " ", "\[Alpha]Cone", ",", " ", 
        "\"\<apexangle\>\""}], "]"}]}], ";", " ", 
     RowBox[{"(*", " ", 
      RowBox[{
       RowBox[{"doesn", "'"}], "t", " ", "honor", " ", "rbottom", " ", "on", 
       " ", "its", " ", "own"}], " ", "*)"}], "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"specRules", " ", "=", " ", 
      RowBox[{"{", " ", 
       RowBox[{
        RowBox[{"hTot", " ", "\[Rule]", " ", "14.81"}], ",", " ", 
        RowBox[{"rtop", " ", "\[Rule]", " ", 
         RowBox[{"5.46", " ", "/", "2"}]}], ",", " ", 
        RowBox[{"rbottom", "\[Rule]", " ", 
         RowBox[{"2.64", "/", "2"}]}], ",", " ", 
        RowBox[{"wallBottom", " ", "\[Rule]", " ", 
         RowBox[{"16.06", " ", "-", " ", "14.81"}]}], ",", " ", 
        RowBox[{"\[Alpha]Cone", " ", "\[Rule]", " ", 
         RowBox[{
          RowBox[{"toRadian", "[", "17.5", "]"}], "/", "2"}]}]}], "}"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"printCell", "[", 
        RowBox[{"specificationSays", "[", "specRules", "]"}], "]"}], ";"}], 
      "*)"}], "\[IndentingNewLine]", 
     RowBox[{"tube", " ", "=", " ", 
      RowBox[{"conicalTestTube", "[", 
       RowBox[{"cylinderPart", ",", " ", "conePart", ",", " ", 
        RowBox[{"emptyCylinder", "[", "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"rules", " ", "=", " ", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"hCone", " ", "\[Rule]", " ", 
         RowBox[{"hTot", " ", "-", " ", "hCyl"}]}], " ", "}"}], " ", "~", 
       "Join", "~", " ", "cylinderRules", " ", "~", "Join", "~", " ", 
       "specRules"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"tube", " ", "=", " ", 
      RowBox[{"tube", " ", "//.", " ", "rules"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"constraint", " ", "=", " ", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"rsmall", "[", "conePart", "]"}], " ", "-", " ", "rbottom"}],
         ")"}], " ", "//.", " ", "rules"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"hCylSoln", " ", "=", " ", 
      RowBox[{"First", " ", "@", " ", 
       RowBox[{"Solve", "[", 
        RowBox[{
         RowBox[{"constraint", " ", "\[Equal]", " ", "0"}], ",", " ", 
         RowBox[{"{", "hCyl", "}"}]}], "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"tube", " ", "=", " ", 
      RowBox[{"tube", " ", "//.", " ", "hCylSoln"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"vol", " ", "=", " ", 
      RowBox[{"volume", "[", "tube", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"capacity", " ", "=", " ", 
      RowBox[{"200", " ", "+", "extra"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"assumpts", " ", "=", "  ", 
      RowBox[{"extra", " ", "\[GreaterEqual]", " ", "0"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Solve", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"vol", "\[Equal]", "capacity"}], " ", "&&", " ", 
         "assumpts"}], ",", " ", 
        RowBox[{"{", "extra", "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"soln", " ", "=", " ", 
      RowBox[{"First", " ", "@", " ", "solns"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"tube", " ", "//.", " ", "soln"}], " ", "//", " ", 
      "toCartesian"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"modelledBioRad3", " ", "=", " ", 
   RowBox[{"modelBioRad3", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "modelledBioRad3"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toDeg", "[", 
    RowBox[{
     RowBox[{"apexangle", "[", 
      RowBox[{
       RowBox[{"parts", "[", "modelledBioRad3", "]"}], "[", "\"\<conical\>\"",
        "]"}], "]"}], " ", "*", " ", "2"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"(", 
    RowBox[{"2", " ", "*", " ", 
     RowBox[{"rsmall", "[", 
      RowBox[{
       RowBox[{"parts", "[", "modelledBioRad3", "]"}], "[", "\"\<conical\>\"",
        "]"}], "]"}]}], ")"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"(", 
    RowBox[{"2", " ", "*", " ", 
     RowBox[{"rbig", "[", 
      RowBox[{
       RowBox[{"parts", "[", "modelledBioRad3", "]"}], "[", "\"\<conical\>\"",
        "]"}], "]"}]}], ")"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", "modelledBioRad3", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"280e5942-dc30-47fb-9371-8f9a22dc5c01"],

Cell["\<\
In our fourth attempt, we use the experimentally-measured capacity volume of \
the well.\
\>", "Text",ExpressionUUID->"cf7f75b0-8e89-485d-adb1-2ebfdc0bc25e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"modelBioRad4", "[", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "cylinderPart", ",", " ", "cylinderRules", ",", " ", "capacity", ",", 
      " ", "hCyl", ",", " ", "rtop", ",", " ", "rmid", ",", " ", "rbottom", 
      ",", " ", "conePart", ",", " ", "hCone", ",", " ", "specRules", ",", 
      " ", "rules", ",", " ", "hTot", ",", " ", "wallBottom", ",", " ", 
      "\[Alpha]Cone", ",", " ", "tube", ",", " ", "volConstraint", ",", " ", 
      "solns", ",", " ", "soln", ",", "assumpts", ",", " ", "rConstraint", 
      ",", " ", "extra", ",", " ", "hCylMin", ",", " ", "hCylSoln"}], " ", 
     "}"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"cylinderPart", " ", "=", " ", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{"hCyl", ",", " ", "rtop", ",", " ", "rmid"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"cylinderRules", " ", "=", " ", 
      RowBox[{"{", "}"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"conePart", "=", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{
       "hCone", ",", " ", "rmid", ",", " ", "\[Alpha]Cone", ",", " ", 
        "\"\<apexangle\>\""}], "]"}]}], ";", " ", 
     RowBox[{"(*", " ", 
      RowBox[{
       RowBox[{"doesn", "'"}], "t", " ", "honor", " ", "rbottom", " ", "on", 
       " ", "its", " ", "own"}], " ", "*)"}], "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "note", " ", "we", " ", "tweak", " ", "rtop", " ", "as", " ", "well", 
       " ", "to", " ", "try", " ", "account", " ", "for", " ", "the", " ", 
       "flare", " ", "at", " ", "the", " ", "top"}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"specRules", " ", "=", " ", 
      RowBox[{"{", " ", 
       RowBox[{
        RowBox[{"hTot", " ", "\[Rule]", " ", "14.81"}], ",", " ", 
        RowBox[{"rtop", " ", "\[Rule]", " ", 
         RowBox[{"5.4", " ", "/", "2"}]}], ",", " ", 
        RowBox[{"rbottom", "\[Rule]", " ", 
         RowBox[{"2.64", "/", "2"}]}], ",", " ", 
        RowBox[{"wallBottom", " ", "\[Rule]", " ", 
         RowBox[{"16.06", " ", "-", " ", "14.81"}]}], ",", " ", 
        RowBox[{"\[Alpha]Cone", " ", "\[Rule]", " ", 
         RowBox[{
          RowBox[{"toRadian", "[", "17.5", "]"}], "/", "2"}]}], ",", " ", 
        RowBox[{"capacity", " ", "\[Rule]", " ", "235"}]}], "}"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"printCell", "[", 
        RowBox[{"specificationSays", "[", "specRules", "]"}], "]"}], ";"}], 
      "*)"}], "\[IndentingNewLine]", 
     RowBox[{"tube", " ", "=", " ", 
      RowBox[{"conicalTestTube", "[", 
       RowBox[{"cylinderPart", ",", " ", "conePart", ",", " ", 
        RowBox[{"emptyCylinder", "[", "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"rules", " ", "=", " ", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"hCone", " ", "\[Rule]", " ", 
         RowBox[{"hTot", " ", "-", " ", "hCyl"}]}], " ", "}"}], " ", "~", 
       "Join", "~", " ", "cylinderRules", " ", "~", "Join", "~", " ", 
       "specRules"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"tube", " ", "=", " ", 
      RowBox[{"tube", " ", "//.", " ", "rules"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"rConstraint", " ", "=", " ", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"rsmall", "[", "conePart", "]"}], " ", "==", " ", 
         "rbottom"}], ")"}], " ", "//.", " ", "rules"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"test", " ", "@", " ", "rConstraint"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"volConstraint", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"volume", "[", "tube", "]"}], " ", "\[Equal]", " ", 
        "capacity"}], " ", "//.", "rules"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"test", " ", "@", " ", "volConstraint"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"assumpts", " ", "=", " ", 
      RowBox[{
       RowBox[{"(", " ", 
        RowBox[{
         RowBox[{"hCyl", " ", ">", " ", "0"}], " ", "&&", " ", 
         RowBox[{"rmid", " ", ">", " ", "0"}], " ", "&&", " ", 
         RowBox[{"rmid", " ", "<", " ", "rtop"}]}], " ", 
        RowBox[{"(*", 
         RowBox[{"&&", " ", 
          RowBox[{"hCyl", " ", ">", " ", "5.7"}]}], "*)"}], " ", 
        RowBox[{"(*", " ", 
         RowBox[{
          RowBox[{"choose", " ", "the", " ", "non"}], "-", 
          RowBox[{"cylinder", " ", "cylinderPart"}]}], " ", "*)"}], " ", 
        ")"}], " ", "//.", " ", "rules"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"solns", " ", "=", " ", 
      RowBox[{"Solve", "[", 
       RowBox[{
        RowBox[{
        "rConstraint", " ", "&&", "  ", "volConstraint", " ", "&&", " ", 
         "assumpts"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"rmid", ",", " ", "hCyl"}], "}"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"test", " ", "@", " ", "solns"}], ";", "\[IndentingNewLine]", 
     RowBox[{"soln", " ", "=", " ", 
      RowBox[{"First", " ", "@", " ", "solns"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"tube", " ", "//.", " ", "soln"}], " ", "//", " ", 
      "toCartesian"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"modelledBioRad4", " ", "=", " ", 
   RowBox[{"modelBioRad4", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "modelledBioRad4"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"toDeg", "[", 
    RowBox[{
     RowBox[{"apexangle", "[", 
      RowBox[{
       RowBox[{"parts", "[", "modelledBioRad4", "]"}], "[", "\"\<conical\>\"",
        "]"}], "]"}], " ", "*", " ", "2"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"(", 
    RowBox[{"2", " ", "*", " ", 
     RowBox[{"rsmall", "[", 
      RowBox[{
       RowBox[{"parts", "[", "modelledBioRad4", "]"}], "[", "\"\<conical\>\"",
        "]"}], "]"}]}], ")"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"(", 
    RowBox[{"2", " ", "*", " ", 
     RowBox[{"rbig", "[", 
      RowBox[{
       RowBox[{"parts", "[", "modelledBioRad4", "]"}], "[", "\"\<conical\>\"",
        "]"}], "]"}]}], ")"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"(", 
    RowBox[{"2", " ", "*", " ", 
     RowBox[{"rsmall", "[", 
      RowBox[{
       RowBox[{"parts", "[", "modelledBioRad4", "]"}], "[", 
       "\"\<cylindrical\>\"", "]"}], "]"}]}], ")"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"(", 
    RowBox[{"2", " ", "*", " ", 
     RowBox[{"rbig", "[", 
      RowBox[{
       RowBox[{"parts", "[", "modelledBioRad4", "]"}], "[", 
       "\"\<cylindrical\>\"", "]"}], "]"}]}], ")"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", "modelledBioRad4", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"bc56d8ac-ec96-42ac-8578-f392e28c602d"],

Cell["\<\
The height of the cylindrical part here (hCyl) seems unreasonably large, \
given the observed dimensions of the tubes. For the moment, at least, we don\
\[CloseCurlyQuote]t use this approach.\
\>", "Text",ExpressionUUID->"4517fb1f-7fdb-49cc-aea8-4a6913d6339d"]
}, Open  ]],

Cell[CellGroupData[{

Cell["IDT tubes", \
"Subsection",ExpressionUUID->"ddedb2fc-2f8d-4f74-80a2-f43cd967ba7a"],

Cell[BoxData[{
 RowBox[{"idtData", " ", "=", " ", 
  RowBox[{"ArrayReshape", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "250", ",", " ", "7.01", ",", "  ", "200", ",", " ", "6.07", ",", "150", 
      ",", " ", "5.19", ",", "100", ",", " ", "4.26", ",", "1000", ",", " ", 
      "20.94", ",", "2000", ",", " ", "38.76", ",", "1000", ",", " ", "20.96",
       ",", "500", ",", " ", "11.64", ",", "375", ",", " ", "9.44", ",", 
      "625", ",", " ", "13.83", ",", "1250", ",", " ", "25.55", ",", "875", 
      ",", " ", "18.76"}], "}"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"12", ",", "2"}], "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"ListPlot", "[", 
  RowBox[{"idtData", ",", " ", 
   RowBox[{"ImageSize", "\[Rule]", "Large"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<vol\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"PlotRange", "\[Rule]", "All"}]}], 
  "]"}]}], "Input",ExpressionUUID->"ef15c9d7-b92d-4154-a0a7-d389bdce139b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"fitIdtData", "[", "data_", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "depthFunc", ",", " ", "cylinderData", ",", " ", "vMin", ",", " ", 
      "hMin", ",", " ", "offsetCylinderData", ",", " ", "hCone", ",", " ", 
      "hCyl1", ",", " ", "hCyl2", ",", " ", "hCyl", ",", " ", "rCyl", ",", 
      " ", "conePart", ",", " ", "cylinderPart", ",", " ", "errors", ",", " ",
       "err", ",", " ", "min", ",", " ", "cylinderRules", ",", " ", "tube", 
      ",", " ", "tubeRules", ",", " ", "hOverall", ",", " ", "idtRules"}], 
     "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"depthFunc", "[", "part_", "]"}], " ", ":=", " ", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"expr", ",", " ", "v"}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"expr", " ", "=", " ", 
          RowBox[{"depthFromVolume", "[", 
           RowBox[{"part", ",", " ", "v"}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"depthFunc", "[", "part", "]"}], " ", "=", " ", 
          RowBox[{"Function", "[", 
           RowBox[{
            RowBox[{"{", "vol", "}"}], ",", " ", 
            RowBox[{"expr", " ", "/.", " ", 
             RowBox[{"{", 
              RowBox[{"v", " ", "\[Rule]", " ", "vol"}], "}"}]}]}], 
           "]"}]}]}]}], "\[IndentingNewLine]", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
       RowBox[{
        RowBox[{
        "figure", " ", "out", " ", "the", " ", "common", " ", "radius", " ", 
         "of", " ", "the", " ", "cylinder"}], " ", "&"}], " ", "cone"}], " ", 
      "*)"}], "\[IndentingNewLine]", 
     RowBox[{"cylinderData", " ", "=", " ", 
      RowBox[{"Select", "[", 
       RowBox[{"data", ",", " ", 
        RowBox[{"True", "&"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"vMin", " ", "=", " ", 
      RowBox[{"Min", " ", "@", " ", 
       RowBox[{"cylinderData", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "1"}], "]"}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"hMin", " ", "=", " ", 
      RowBox[{"Min", " ", "@", " ", 
       RowBox[{"cylinderData", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "2"}], "]"}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"offsetCylinderData", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"#", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "-", "vMin"}], ",", " ", 
          RowBox[{
           RowBox[{"#", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "-", "hMin"}]}], "}"}], " ", 
        "&"}], " ", "/@", " ", "cylinderData"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"cylinderPart", " ", "=", " ", 
      RowBox[{"cylinder", "[", 
       RowBox[{"hCyl1", ",", " ", "rCyl"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"errors", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"vol", ",", " ", "depth"}], "}"}], ",", " ", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"depthFunc", "[", "cylinderPart", "]"}], "[", "vol", 
               "]"}], " ", "-", " ", "depth"}], ")"}], "^", "2"}]}], 
          "\[IndentingNewLine]", "]"}], " ", "@@", " ", "#"}], "&"}], " ", "/@",
        " ", "offsetCylinderData"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"err", " ", "=", " ", 
      RowBox[{
       RowBox[{"Total", "[", "errors", "]"}], " ", "//", " ", "N"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"min", ",", " ", "cylinderRules"}], "}"}], " ", "=", " ", 
      RowBox[{"NMinimize", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"err", ",", " ", 
          RowBox[{"assumptions", "[", "cylinderPart", "]"}]}], " ", "}"}], 
        ",", " ", 
        RowBox[{"{", 
         RowBox[{"hCyl1", ",", " ", "rCyl"}], "}"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"test", " ", "@", " ", "cylinderRules"}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "figure", " ", "out", " ", "the", " ", "height", " ", "of", " ", "the", 
       " ", "cone"}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"cylinderPart", " ", "=", " ", 
      RowBox[{"cylinder", "[", 
       RowBox[{"hCyl2", ",", " ", "rCyl"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"conePart", " ", "=", " ", 
      RowBox[{"invertedCone", "[", 
       RowBox[{"hCone", ",", " ", "rCyl"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"tube", " ", "=", " ", 
      RowBox[{
       RowBox[{"conicalTestTube", "[", 
        RowBox[{"cylinderPart", ",", " ", "conePart", ",", " ", 
         RowBox[{"emptyCylinder", "[", "]"}]}], "]"}], " ", "/.", " ", 
       "cylinderRules"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"test", " ", "@", " ", "tube"}], ";", "\[IndentingNewLine]", 
     RowBox[{"errors", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"vol", ",", " ", "depth"}], "}"}], ",", " ", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"depthFunc", "[", "tube", "]"}], "[", "vol", "]"}], 
              " ", "-", " ", "depth"}], ")"}], "^", "2"}]}], 
          "\[IndentingNewLine]", "]"}], " ", "@@", " ", "#"}], "&"}], " ", "/@",
        " ", "data"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"err", " ", "=", " ", 
      RowBox[{
       RowBox[{"Total", "[", "errors", "]"}], " ", "//", " ", "N"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"min", ",", " ", "tubeRules"}], "}"}], " ", "=", " ", 
      RowBox[{"NMinimize", "[", 
       RowBox[{
        RowBox[{"{", "err", " ", "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"hCyl2", ",", " ", "hCone"}], "}"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"test", " ", "@", " ", "tubeRules"}], ";", "\[IndentingNewLine]",
      "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "finally", " ", "figure", " ", "out", " ", "the", " ", "real", " ", 
       "height", " ", "of", " ", "the", " ", "cylinder"}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"hOverall", " ", "=", " ", "42"}], ";", " ", 
     RowBox[{"(*", " ", 
      RowBox[{"from", " ", "opentrons", " ", "labware"}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"tube", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"conicalTestTube", "[", 
         RowBox[{
          RowBox[{"cylinder", "[", 
           RowBox[{
            RowBox[{"hOverall", " ", "-", " ", "hCone"}], ",", " ", "rCyl"}], 
           "]"}], ",", " ", "conePart", ",", " ", 
          RowBox[{"emptyCylinder", "[", "]"}]}], "]"}], " ", "/.", " ", 
        "cylinderRules"}], " ", "/.", " ", "tubeRules"}]}], ";", 
     "\[IndentingNewLine]", "tube"}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"fittedIdt", " ", "=", " ", 
  RowBox[{"fitIdtData", "[", "idtData", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", " ", "@", " ", "fittedIdt"}]}], 
  ";"}]}], "Input",ExpressionUUID->"e0795983-552f-487d-b98c-b389c7119e83"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Falcon Tubes", \
"Subsection",ExpressionUUID->"538021f0-7c84-4b41-88de-a1cf7115330c"],

Cell["We have some empirical data for the 15mL Falcon tube.", \
"Text",ExpressionUUID->"9cffa962-d8f4-445c-9000-7c96089d0960"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"hBase", " ", "=", " ", "34.93"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"goodFalconData", " ", "=", " ", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{"(*", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"1000", ",", " ", "19.78"}], "}"}], ","}], "*)"}], " ", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"2000", ",", " ", "28.02"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"3000", ",", " ", "hBase"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"500", ",", " ", "15.19"}], "}"}], ",", " ", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"1000", ",", " ", "19.99"}], "}"}], ","}], "*)"}], " ", 
        RowBox[{"{", 
         RowBox[{"50", ",", "5.13"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"100", ",", "7.26"}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"200", ",", " ", "10.01"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"150", ",", " ", "9.00"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"300", ",", " ", "12.11"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"600", ",", " ", "16.49"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"1200", ",", " ", "22.40"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"1800", ",", " ", "26.60"}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"{", 
         RowBox[{"400", ",", " ", "14.03"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"500", ",", " ", "14.97"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"700", ",", " ", "17.78"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"800", ",", " ", "18.57"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"900", ",", " ", "19.40"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"1500", ",", " ", "24.12"}], "}"}]}], "\[IndentingNewLine]", 
       "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"okFalconData", " ", "=", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"100", ",", " ", "6.96"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"150", ",", " ", "8.79"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"300", ",", " ", "11.75"}], "}"}], ",", " ", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"450", ",", " ", "14.32"}], "}"}], ","}], "*)"}], " ", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"600", ",", " ", "15.89"}], "}"}], ","}], "*)"}], " ", 
        RowBox[{"{", 
         RowBox[{"750", ",", " ", "18.04"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"900", ",", " ", "19.48"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"1050", ",", " ", "20.95"}], "}"}]}], 
       RowBox[{"(*", 
        RowBox[{",", " ", 
         RowBox[{"{", 
          RowBox[{"1200", ",", " ", "20.51"}], "}"}]}], "*)"}], 
       "\[IndentingNewLine]", "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"upperFalconData", " ", "=", " ", 
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"4000", ",", " ", 
          RowBox[{"hBase", " ", "+", " ", "7.23"}]}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"6000", ",", " ", 
          RowBox[{"hBase", " ", "+", "20.60"}]}], "}"}], " ", ",", " ", 
        RowBox[{"{", 
         RowBox[{"12000", ",", " ", 
          RowBox[{"hBase", " ", "+", " ", "57.66"}]}], "}"}]}], 
       "\[IndentingNewLine]", "}"}]}]}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"ListPlot", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"goodFalconData", ",", " ", "okFalconData"}], "}"}], ",", " ", 
   RowBox[{"ImageSize", "\[Rule]", "Large"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<vol\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"PlotRange", "\[Rule]", "All"}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"ListPlot", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "goodFalconData", ",", " ", "okFalconData", ",", " ", "upperFalconData"}],
     "}"}], ",", " ", 
   RowBox[{"ImageSize", "\[Rule]", "Large"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<vol\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"PlotRange", "\[Rule]", "All"}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"falconData", " ", "=", " ", 
  RowBox[{"Union", "[", 
   RowBox[{
   "goodFalconData", " ", "~", "Join", "~", " ", "okFalconData", " ", "~", 
    "Join", "~", " ", "upperFalconData"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"conicalFalconData", " ", "=", " ", 
  RowBox[{"Select", "[", 
   RowBox[{"falconData", ",", " ", 
    RowBox[{
     RowBox[{
      RowBox[{"#", "[", 
       RowBox[{"[", "1", "]"}], "]"}], " ", "\[LessEqual]", " ", "875"}], 
     "&"}]}], "]"}]}]}], \
"Input",ExpressionUUID->"459936ce-da21-4400-a130-ac179bbf79ca"],

Cell["\<\
We currently model the Falcon tube with an empty cylinder for the cap. We \
might want to try our (improved!) inverted spherical cap.\
\>", "Text",ExpressionUUID->"eb516165-c418-480b-be95-8abe915cf1ab"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"fitFalconData", "[", "data_", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "threshold", ",", " ", "conicalData", ",", "cylinderData", ",", " ", 
      "conePart", ",", "genericDepth", ",", " ", "hCone", ",", " ", "rmid", 
      ",", " ", "rbottom", ",", " ", "errors", ",", " ", "err", ",", " ", 
      "min", ",", " ", "coneRules", ",", " ", "angledCone", ",", " ", 
      "cylinderPart", ",", " ", "hCyl", ",", " ", "rtop", ",", " ", 
      "cylinderRules", ",", " ", "angledCylinder", ",", " ", 
      "\[CapitalDelta]vol", ",", " ", "\[CapitalDelta]h", ",", " ", "vMin", 
      ",", " ", "hMin", ",", " ", "offsetCylinderData", ",", " ", "falcon", 
      ",", " ", "\[Alpha]", ",", " ", "fassumpts", ",", " ", "falconRules", 
      ",", " ", "first", ",", " ", "second", ",", " ", "hTot"}], "}"}], ",", 
    "\[IndentingNewLine]", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", 
     RowBox[{"first", ",", " ", 
      RowBox[{"fit", " ", "the", " ", 
       RowBox[{"cone", ".", " ", "this"}], " ", "gives", " ", "us", " ", 
       "the", " ", "apex", " ", "angle", " ", "and", " ", "rbottom"}]}], " ", 
     "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"conicalData", " ", "=", " ", 
      RowBox[{"Select", "[", 
       RowBox[{"data", ",", " ", 
        RowBox[{
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], " ", "\[LessEqual]", " ", "1000"}],
          "&"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"conePart", " ", "=", " ", 
      RowBox[{"invertedFrustum", "[", 
       RowBox[{"hCone", ",", " ", "rmid", ",", " ", "rbottom"}], "]"}]}], ";",
      "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"genericDepth", "[", "part_", "]"}], " ", ":=", " ", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"expr", ",", " ", "v"}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"expr", " ", "=", " ", 
          RowBox[{"depthFromVolume", "[", 
           RowBox[{"part", ",", " ", "v"}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"genericDepth", "[", "part", "]"}], " ", "=", " ", 
          RowBox[{"Function", "[", 
           RowBox[{
            RowBox[{"{", "vol", "}"}], ",", " ", 
            RowBox[{"expr", " ", "/.", " ", 
             RowBox[{"{", 
              RowBox[{"v", " ", "\[Rule]", " ", "vol"}], "}"}]}]}], 
           "]"}]}]}]}], "\[IndentingNewLine]", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"errors", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"vol", ",", " ", "depth"}], "}"}], ",", " ", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"genericDepth", "[", "conePart", "]"}], "[", "vol", 
               "]"}], " ", "-", " ", "depth"}], ")"}], "^", "2"}]}], 
          "\[IndentingNewLine]", "]"}], " ", "@@", " ", "#"}], "&"}], " ", "/@",
        " ", "conicalData"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"err", " ", "=", " ", 
      RowBox[{
       RowBox[{"Total", "[", "errors", "]"}], " ", "//", " ", "N"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"min", ",", " ", "coneRules"}], "}"}], " ", "=", " ", 
      RowBox[{"NMinimize", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"err", ",", " ", 
          RowBox[{
           RowBox[{"assumptions", "[", "conePart", "]"}], " ", "&&", " ", 
           RowBox[{"hCone", " ", ">", " ", "15"}]}]}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"hCone", ",", " ", "rmid", ",", " ", "rbottom"}], "}"}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"angledCone", " ", "=", " ", 
      RowBox[{"toApexAngled", "[", 
       RowBox[{"conePart", " ", "/.", " ", "coneRules"}], "]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"now", " ", "for", " ", "the", " ", 
       RowBox[{"cylinder", ".", " ", "this"}], " ", "gives", " ", "us", " ", 
       "the", " ", "apex", " ", "angle"}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"cylinderData", " ", "=", " ", 
      RowBox[{"Select", "[", 
       RowBox[{"data", ",", " ", 
        RowBox[{
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], " ", "\[GreaterEqual]", " ", 
          "1200"}], "&"}]}], "]"}]}], ";", " ", 
     RowBox[{"(*", " ", 
      RowBox[{
       RowBox[{
       "hard", " ", "to", " ", "tell", " ", "for", " ", "in", " ", "between", 
        " ", "data"}], ",", " ", 
       RowBox[{"so", " ", 
        RowBox[{"we", "'"}], "re", " ", "conservative"}]}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"vMin", " ", "=", " ", 
      RowBox[{"Min", " ", "@", " ", 
       RowBox[{"cylinderData", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "1"}], "]"}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"hMin", " ", "=", " ", 
      RowBox[{"Min", " ", "@", " ", 
       RowBox[{"cylinderData", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "2"}], "]"}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"offsetCylinderData", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{"#", "[", 
            RowBox[{"[", "1", "]"}], "]"}], "-", "vMin"}], ",", " ", 
          RowBox[{
           RowBox[{"#", "[", 
            RowBox[{"[", "2", "]"}], "]"}], "-", "hMin"}]}], "}"}], " ", 
        "&"}], " ", "/@", " ", "cylinderData"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"cylinderPart", " ", "=", " ", 
      RowBox[{
       RowBox[{"invertedFrustum", "[", 
        RowBox[{"hCyl", ",", " ", "rtop", ",", " ", "rmid"}], "]"}], " ", "/.",
        " ", "coneRules"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"errors", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"vol", ",", " ", "depth"}], "}"}], ",", " ", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{
               RowBox[{"genericDepth", "[", "cylinderPart", "]"}], "[", "vol",
                "]"}], " ", "-", " ", "depth"}], ")"}], "^", "2"}]}], 
          "\[IndentingNewLine]", "]"}], " ", "@@", " ", "#"}], "&"}], " ", "/@",
        " ", "offsetCylinderData"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"err", " ", "=", " ", 
      RowBox[{
       RowBox[{"Total", "[", "errors", "]"}], " ", "//", " ", "N"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"min", ",", " ", "cylinderRules"}], "}"}], " ", "=", " ", 
      RowBox[{"NMinimize", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"err", ",", " ", 
          RowBox[{"assumptions", "[", "cylinderPart", "]"}]}], " ", "}"}], 
        ",", " ", 
        RowBox[{"{", 
         RowBox[{"hCyl", ",", " ", "rtop"}], "}"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"angledCylinder", " ", "=", " ", 
      RowBox[{"toApexAngled", "[", 
       RowBox[{"cylinderPart", " ", "/.", " ", "cylinderRules"}], "]"}]}], 
     ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"falcon", " ", "=", " ", 
      RowBox[{"conicalTestTube", "[", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"invertedFrustum", "[", 
           RowBox[{"hCyl", ",", " ", 
            RowBox[{
             RowBox[{"hCyl", " ", 
              RowBox[{"Tan", "[", "\[Alpha]", "]"}]}], " ", "+", " ", 
             "rmid"}], ",", " ", "\[Alpha]", ",", " ", "\"\<apexangle\>\""}], 
           "]"}], "/.", " ", 
          RowBox[{"{", 
           RowBox[{"\[Alpha]", " ", "\[Rule]", " ", 
            RowBox[{"apexangle", "[", "angledCylinder", "]"}]}], "}"}]}], 
         ")"}], ",", "\[IndentingNewLine]", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"invertedFrustum", "[", 
           RowBox[{"hCone", ",", " ", 
            RowBox[{
             RowBox[{"hCone", " ", 
              RowBox[{"Tan", "[", "\[Alpha]", "]"}]}], " ", "+", " ", 
             "rbottom"}], ",", " ", "\[Alpha]", ",", " ", 
            "\"\<apexangle\>\""}], "]"}], "/.", " ", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"\[Alpha]", " ", "\[Rule]", " ", 
             RowBox[{"apexangle", "[", "angledCone", "]"}]}], ",", " ", 
            RowBox[{"rbottom", " ", "\[Rule]", " ", 
             RowBox[{"(", 
              RowBox[{"rbottom", " ", "/.", " ", "coneRules"}], ")"}]}]}], 
           "}"}]}], ")"}], ",", "\[IndentingNewLine]", 
        RowBox[{"emptyCylinder", "[", "]"}]}], "\[IndentingNewLine]", "]"}]}],
      ";", "\[IndentingNewLine]", 
     RowBox[{"fassumpts", " ", "=", " ", 
      RowBox[{
       RowBox[{"hCone", " ", ">", " ", "18"}], " ", "&&", " ", 
       RowBox[{"hCone", " ", "<", " ", "24.5"}], " ", "&&", " ", 
       RowBox[{"rmid", " ", ">", " ", "6"}], " ", "&&", " ", 
       RowBox[{"hCyl", " ", ">", " ", "75"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"hTot", " ", "=", " ", 
      RowBox[{"119.46", " ", "-", " ", "1.39"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"errors", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"vol", ",", " ", "depth"}], "}"}], ",", " ", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{"FullSimplify", "[", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"genericDepth", "[", "falcon", "]"}], "[", "vol", 
                 "]"}], " ", "-", " ", "depth"}], ",", " ", "fassumpts"}], 
              "]"}], ")"}], "^", "2"}]}], "\[IndentingNewLine]", "]"}], " ", "@@",
          " ", "#"}], "&"}], " ", "/@", " ", "data"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"err", " ", "=", " ", 
      RowBox[{
       RowBox[{"Total", "[", "errors", "]"}], " ", "//", " ", "N"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
       RowBox[{"put", " ", "together", " ", "to", " ", "get", " ", "rmid"}], 
       ",", " ", "hCyl", ",", " ", 
       RowBox[{"and", " ", "hCone"}]}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"first", "[", "]"}], " ", ":=", " ", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"{", 
           RowBox[{"min", ",", " ", "falconRules"}], "}"}], " ", "=", " ", 
          RowBox[{"NMinimize", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"err", ",", " ", "fassumpts"}], " ", "}"}], ",", " ", 
            RowBox[{"{", 
             RowBox[{"hCyl", ",", " ", "hCone", ",", " ", "rmid"}], "}"}]}], 
           "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"test", " ", "@", " ", 
          RowBox[{"(", 
           RowBox[{"falcon", " ", "/.", " ", "falconRules"}], ")"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Function", "[", 
           RowBox[{"f", ",", " ", 
            RowBox[{"conicalTestTube", "[", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"toCartesian", "[", 
               RowBox[{
                RowBox[{"parts", "[", "f", "]"}], "[", "\"\<cylindrical\>\"", 
                "]"}], "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{"toCartesian", "[", 
               RowBox[{
                RowBox[{"parts", "[", "f", "]"}], "[", "\"\<conical\>\"", 
                "]"}], "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{"emptyCylinder", "[", "]"}]}], "\[IndentingNewLine]", 
             "]"}]}], "]"}], "[", 
          RowBox[{"falcon", " ", "/.", " ", "falconRules"}], "]"}]}]}], 
       "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"second", "[", "]"}], " ", ":=", " ", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"rule", " ", "=", " ", 
          RowBox[{"hCyl", " ", "\[Rule]", " ", 
           RowBox[{"hTot", " ", "-", " ", "hCone"}]}]}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"{", 
           RowBox[{"min", ",", " ", "falconRules"}], "}"}], " ", "=", " ", 
          RowBox[{"NMinimize", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"err", " ", "/.", " ", "rule"}], ",", " ", 
              RowBox[{"fassumpts", " ", "/.", " ", "rule"}]}], " ", "}"}], 
            ",", " ", 
            RowBox[{"{", 
             RowBox[{"hCone", ",", " ", "rmid"}], "}"}]}], "]"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"test", " ", "@", " ", 
          RowBox[{"(", 
           RowBox[{"falcon", " ", "/.", " ", "falconRules"}], ")"}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Function", "[", 
           RowBox[{"f", ",", " ", 
            RowBox[{"conicalTestTube", "[", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"toCartesian", "[", 
               RowBox[{
                RowBox[{"parts", "[", "f", "]"}], "[", "\"\<cylindrical\>\"", 
                "]"}], "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{"toCartesian", "[", 
               RowBox[{
                RowBox[{"parts", "[", "f", "]"}], "[", "\"\<conical\>\"", 
                "]"}], "]"}], ",", "\[IndentingNewLine]", 
              RowBox[{"emptyCylinder", "[", "]"}]}], "\[IndentingNewLine]", 
             "]"}]}], "]"}], "[", 
          RowBox[{
           RowBox[{"falcon", " ", "/.", " ", "rule"}], "/.", " ", 
           "falconRules"}], "]"}]}]}], "\[IndentingNewLine]", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"first", "[", "]"}], ",", " ", 
       RowBox[{"second", "[", "]"}]}], "}"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"fittedFalcon1", ",", " ", "fittedFalcon2"}], "}"}], " ", "=", 
   " ", 
   RowBox[{"fitFalconData", "[", "falconData", "]"}]}], 
  ";"}], "\[IndentingNewLine]", "fittedFalcon1", "\[IndentingNewLine]", \
"fittedFalcon2", "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fittedFalcon", " ", "=", " ", "fittedFalcon2"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"volume", "[", "fittedFalcon", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"fittedFalcon", ",", " ", 
     RowBox[{"volume", "[", "fittedFalcon", "]"}]}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"aa615510-dc12-4c6f-8411-89df124f5563"],

Cell[BoxData[
 RowBox[{"Block", "[", 
  RowBox[{
   RowBox[{"{", "expr", "}"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"expr", " ", "=", " ", 
     RowBox[{"depthFromVolume", "[", 
      RowBox[{"fittedFalcon", ",", " ", "vol"}], "]"}]}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"Show", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Plot", "[", 
       RowBox[{"expr", ",", " ", 
        RowBox[{"{", 
         RowBox[{"vol", ",", " ", "0", ",", " ", 
          RowBox[{"volume", "[", "fittedFalcon", "]"}]}], "}"}], ",", " ", 
        RowBox[{"ImageSize", "\[Rule]", "Large"}]}], "]"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"ListPlot", "[", "falconData", "]"}]}], "]"}]}]}], 
  "]"}]], "Input",ExpressionUUID->"bc443cb3-9f50-4e20-8b4e-6613d6e756cb"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Pipettes and Pipette Tips", \
"Subsection",ExpressionUUID->"df46b03a-45a2-4596-b58b-627507f0eca5"],

Cell[CellGroupData[{

Cell["p50", \
"Subsubsection",ExpressionUUID->"66309444-0725-436f-9234-3f3d0873de67"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"p50M0", " ", "=", " ", 
   RowBox[{"pipette", "[", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"60", ",", " ", 
       RowBox[{"12.23", " ", "/", "2"}], ",", " ", 
       RowBox[{"11.34", "/", "2"}]}], "]"}], ",", " ", "\[IndentingNewLine]", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"3.05", ",", " ", 
       RowBox[{"11.34", "/", "2"}], ",", " ", 
       RowBox[{"9.41", "/", "2"}]}], "]"}], ",", " ", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"what", "'"}], "s", " ", "here", " ", 
        RowBox[{"isn", "'"}], "t", " ", "actually", " ", "a", " ", "cone"}], 
       ",", " ", 
       RowBox[{"but", " ", "is", " ", "close", " ", "enough"}]}], " ", "*)"}],
      "\[IndentingNewLine]", 
     RowBox[{"cylinder", "[", 
      RowBox[{"3.32", ",", " ", 
       RowBox[{"5.11", "/", "2"}]}], 
      RowBox[{"(*", 
       RowBox[{"6.91", "/", "2"}], "*)"}], "]"}]}], "]"}]}], " ", 
  RowBox[{"(*", 
   RowBox[{"forcing", " ", "monotonicity", " ", "when", " ", "tip", " ", 
    RowBox[{"attached", ":", " ", "hack"}]}], "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{"plotProfile", "[", "p50M0", 
  "]"}]}], "Input",ExpressionUUID->"9fe38c6c-2890-414b-9b0a-4ffc9d41abb1"]
}, Open  ]],

Cell[CellGroupData[{

Cell["10 \[Mu]L", \
"Subsubsection",ExpressionUUID->"825acbcd-eec7-4024-b8ae-6bcc3329ba69"],

Cell["\<\
C:\\github\\Opentrons\\opentrons\\shared-data\\labware\\definitions\\2\\\
opentrons_96_tiprack_10ul\\1.json\
\>", "Text",ExpressionUUID->"85daca9f-bbcc-4d87-b976-57eb85e2756c"],

Cell[BoxData[
 RowBox[{"opentrons$10\[Mu]l$tipM0", " ", "=", " ", 
  RowBox[{"pipetteTip", "[", 
   RowBox[{"invertedFrustum", "[", 
    RowBox[{"39.2", ",", " ", "2.5", ",", " ", "0.75"}], "]"}], 
   "]"}]}]], "Input",ExpressionUUID->"fbdef5ca-f0a8-4713-9381-6a3dffd9913b"]
}, Open  ]],

Cell[CellGroupData[{

Cell["300 \[Mu]L", \
"Subsubsection",ExpressionUUID->"f5bbc95c-03ae-4233-af3c-5d2c25753b35"],

Cell["\<\
C:\\github\\Opentrons\\opentrons\\shared-data\\labware\\definitions\\2\\\
opentrons_96_tiprack_300ul\\1.json\
\>", "Text",ExpressionUUID->"f79fffaa-198f-4f51-a628-313f6b87a37d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"opentrons$300\[Mu]l$tipM0", " ", "=", " ", 
   RowBox[{"pipetteTip", "[", 
    RowBox[{"invertedFrustum", "[", 
     RowBox[{"59.3", ",", " ", "3", ",", " ", "1"}], "]"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"opentrons$300\[Mu]l$tipM1", " ", "=", " ", 
   RowBox[{"pipetteTip", "[", "\[IndentingNewLine]", 
    RowBox[{"(*", " ", "flare", " ", "*)"}], " ", 
    RowBox[{
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"1.35", ",", " ", 
       RowBox[{"6.91", "/", "2"}], ",", " ", 
       RowBox[{"6.24", "/", "2"}]}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", "ribbed", " ", "*)"}], " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"16.07", ",", " ", 
       RowBox[{"6.24", "/", "2"}], ",", " ", 
       RowBox[{"6.11", "/", "2"}]}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"cone", " ", "section", " ", "1"}], " ", "*)"}], " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
       RowBox[{
       "59.11", " ", "-", " ", "1.35", " ", "-", " ", "16.07", " ", "-", 
        "25.20"}], ",", " ", 
       RowBox[{"4.94", "/", "2"}], ",", " ", 
       RowBox[{"3.91", "/", "2"}]}], " ", "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"cone", " ", "section", " ", "2"}], " ", "*)"}], " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
       RowBox[{"25.20", " ", "-", " ", "17.90"}], ",", " ", 
       RowBox[{"3.91", " ", "/", "2"}], ",", " ", 
       RowBox[{"3.15", "/", "2"}]}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"cone", " ", "section", " ", "3"}], " ", "*)"}], " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{
       RowBox[{"17.90", " ", "-", " ", "8.53"}], ",", " ", 
       RowBox[{"3.15", "/", " ", "2"}], ",", " ", 
       RowBox[{"2.37", " ", "/", "2"}]}], "]"}], ",", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"cone", " ", "section", " ", "4"}], " ", "*)"}], " ", 
     RowBox[{"invertedFrustum", "[", 
      RowBox[{"8.53", ",", " ", 
       RowBox[{"2.37", "/", "2"}], ",", " ", 
       RowBox[{"1.01", "/", "2"}]}], "]"}]}], "\[IndentingNewLine]", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "opentrons$300\[Mu]l$tipM1"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"height", "[", "opentrons$300\[Mu]l$tipM1", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"plotProfile", "[", "opentrons$300\[Mu]l$tipM1", 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"plotProfile", " ", "@", " ", 
  RowBox[{"mountTip", "[", 
   RowBox[{"p50M0", ",", " ", "opentrons$300\[Mu]l$tipM1"}], 
   "]"}]}]}], "Input",ExpressionUUID->"3bc77bfb-73d5-4148-b629-630aa0885eaa"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Collision Detection: Tips, in Tubes, Moving Laterally", \
"Section",ExpressionUUID->"ff17b704-a955-41c5-9dc9-2c3458d4c45d"],

Cell[TextData[{
 StyleBox["depth ",
  FontSlant->"Italic"],
 "is from the bottom of tube, as usual"
}], "Text",ExpressionUUID->"9899be27-8c70-4d7b-9da0-26eb1e86eac3"],

Cell[CellGroupData[{

Cell["Utilities", \
"Subsubsection",ExpressionUUID->"563448e5-845b-4d94-9052-fd9ec910d2db"],

Cell[BoxData[{
 RowBox[{"Clear", "[", 
  RowBox[{
  "findLower", ",", " ", "findLowerClause", ",", " ", "findUpper", ",", " ", 
   "findUpperClause", ",", " ", "findBoundSimplify", ",", " ", "findClauses", 
   ",", " ", "findProcess"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"findBoundSimplify", "[", "clauses_", "]"}], " ", ":=", " ", 
  RowBox[{"clauses", " ", "//.", " ", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"Inequality", "[", 
       RowBox[{
       "lower_", " ", ",", " ", "Less", ",", " ", "var_", " ", ",", " ", 
        "Less", ",", " ", "upper_"}], "]"}], " ", "\[RuleDelayed]", " ", 
      RowBox[{
       RowBox[{"lower", " ", "<", " ", "var"}], " ", "&&", " ", 
       RowBox[{"var", " ", "<", " ", "upper"}]}]}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"LessEqual", " ", "\[Rule]", "  ", "Less"}], ",", " ", 
     RowBox[{"GreaterEqual", " ", "\[Rule]", " ", "Greater"}], ",", " ", 
     RowBox[{
      RowBox[{"x_", " ", ">", " ", "y_"}], " ", "\[RuleDelayed]", " ", 
      RowBox[{"y", " ", "<", " ", "x"}]}]}], "}"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"findClauses", "[", "clauses_List", "]"}], " ", ":=", " ", 
  "clauses"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"findClauses", "[", "clauses_And", "]"}], " ", ":=", " ", 
  RowBox[{"List", " ", "@@", " ", "clauses"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"findClauses", "[", "other_", "]"}], " ", ":=", " ", 
   RowBox[{"{", "other", "}"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"findProcess", "[", 
     RowBox[{"var_", ",", " ", "clauses_", ",", " ", "op_"}], "]"}], " ", ":=",
     " ", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"simplified", ",", " ", "list", ",", " ", "found"}], "}"}], 
      ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"simplified", " ", "=", " ", 
        RowBox[{"findBoundSimplify", "[", "clauses", "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"list", " ", "=", " ", 
        RowBox[{"Flatten", "[", 
         RowBox[{"{", 
          RowBox[{"simplified", " ", "/.", " ", 
           RowBox[{"And", " ", "\[Rule]", " ", "List"}]}], "}"}], "]"}]}], 
       ";", "\[IndentingNewLine]", 
       RowBox[{"found", " ", "=", " ", 
        RowBox[{
         RowBox[{
          RowBox[{"op", "[", 
           RowBox[{"var", ",", " ", "#"}], "]"}], " ", "&"}], " ", "/@", " ", 
         "list"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"found", " ", "=", " ", 
        RowBox[{"Union", "[", 
         RowBox[{"Flatten", "[", "found", "]"}], "]"}]}], ";", 
       "\[IndentingNewLine]", "found"}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"findLower", "[", 
   RowBox[{"var_", ",", " ", 
    RowBox[{"clauses", ":", 
     RowBox[{"(", 
      RowBox[{"_List", " ", "|", " ", "_And"}], ")"}]}]}], "]"}], " ", ":=", 
  " ", 
  RowBox[{"findProcess", "[", 
   RowBox[{"var", ",", " ", "clauses", ",", " ", "findLowerClause"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"findLower", "[", 
   RowBox[{"var_", ",", " ", "clause_"}], "]"}], " ", ":=", " ", 
  RowBox[{"findLower", "[", 
   RowBox[{"var", ",", " ", 
    RowBox[{"{", "clause", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"findUpper", "[", 
   RowBox[{"var_", ",", " ", 
    RowBox[{"clauses", ":", 
     RowBox[{"(", 
      RowBox[{"_List", " ", "|", " ", "_And"}], ")"}]}]}], "]"}], " ", ":=", 
  " ", 
  RowBox[{"findProcess", "[", 
   RowBox[{"var", ",", " ", "clauses", ",", " ", "findUpperClause"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"findUpper", "[", 
   RowBox[{"var_", ",", " ", "clause_"}], "]"}], " ", ":=", " ", 
  RowBox[{"findUpper", "[", 
   RowBox[{"var", ",", " ", 
    RowBox[{"{", "clause", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"findLowerClause", "[", 
   RowBox[{"var_", ",", " ", 
    RowBox[{"bound_", " ", "<", " ", "var_"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"{", "bound", "}"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"findLowerClause", "[", 
   RowBox[{"var_", ",", " ", "expr_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", " ", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"printCell", "[", 
       RowBox[{"\"\<lowerFault\>\"", " ", "\[Rule]", " ", 
        RowBox[{"FullForm", "[", "expr", "]"}]}], "]"}], ";"}], "*)"}], " ", 
    RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"findUpperClause", "[", 
   RowBox[{"var_", ",", " ", 
    RowBox[{"var_", " ", "<", " ", "bound_"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"{", "bound", "}"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"findUpperClause", "[", 
    RowBox[{"var_", ",", " ", "expr_"}], "]"}], " ", ":=", " ", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "}"}], ",", " ", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"printCell", "[", 
        RowBox[{"\"\<upperFault\>\"", " ", "\[Rule]", " ", 
         RowBox[{"FullForm", "[", "expr", "]"}]}], "]"}], ";"}], "*)"}], " ", 
     RowBox[{"{", "}"}]}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"findLower", "[", 
    RowBox[{"z", ",", " ", 
     RowBox[{"z", " ", "<", "  ", "10"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"findUpper", "[", 
    RowBox[{"z", ",", " ", 
     RowBox[{"z", " ", "<", "  ", "10"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"findLower", "[", 
    RowBox[{"z", ",", " ", 
     RowBox[{
      RowBox[{"z", " ", ">", " ", "10"}], " ", "&&", " ", 
      RowBox[{"z", " ", "<", " ", "11"}]}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"findUpper", "[", 
    RowBox[{"z", ",", " ", 
     RowBox[{
      RowBox[{"z", " ", ">", " ", "10"}], " ", "&&", " ", 
      RowBox[{"z", " ", "<", " ", "11"}]}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"findLower", "[", 
    RowBox[{"z", ",", " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"0.19409486595347666`", "<", "z"}], ",", 
       RowBox[{"z", "<", "16.674223638479965`"}]}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"findUpper", "[", 
    RowBox[{"z", ",", " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"0.19409486595347666`", "<", "z"}], ",", 
       RowBox[{"z", "<", "16.674223638479965`"}]}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"findLower", "[", 
    RowBox[{"z", ",", " ", 
     RowBox[{
     "0.19409486595347666`", "<", "z", "\[LessEqual]", 
      "16.674223638479965`"}]}], " ", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"findUpper", "[", 
    RowBox[{"z", ",", " ", 
     RowBox[{
      RowBox[{
      "0.19409486595347666`", "<", "z", "\[LessEqual]", 
       "16.674223638479965`"}], " ", "&&", " ", 
      RowBox[{"z", " ", "<", " ", "17"}]}]}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"75c3af9d-9536-41ac-8944-bf8ec024767b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "minToPieceWise", "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"minToPieceWise", "[", 
   RowBox[{"expr_", ",", " ", 
    RowBox[{"{", 
     RowBox[{"var_", ",", " ", "lower_", ",", " ", "upper_"}], "}"}]}], "]"}],
   " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Piecewise", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"{", 
        RowBox[{"expr", ",", " ", 
         RowBox[{"Simplify", "[", 
          RowBox[{
           RowBox[{"lower", " ", "\[LessEqual]", " ", "var"}], " ", "&&", " ", 
           RowBox[{"var", " ", "\[LessEqual]", " ", "upper"}]}], "]"}]}], 
        "}"}], "}"}], ",", " ", "Indeterminate"}], "]"}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"minToPieceWise", "[", 
   RowBox[{
    RowBox[{"Min", "[", "expr_", "]"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"var_", ",", " ", "lower_", ",", " ", "upper_"}], "}"}]}], "]"}],
   " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Piecewise", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"{", 
        RowBox[{"expr", ",", " ", 
         RowBox[{"Simplify", "[", 
          RowBox[{
           RowBox[{"lower", " ", "\[LessEqual]", " ", "var"}], " ", "&&", " ", 
           RowBox[{"var", " ", "\[LessEqual]", " ", "upper"}]}], "]"}]}], 
        "}"}], "}"}], ",", " ", "Indeterminate"}], "]"}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"minToPieceWise", "[", 
     RowBox[{
      RowBox[{"minExpr", ":", " ", 
       RowBox[{"Min", "[", 
        RowBox[{"_", ",", " ", "__"}], "]"}]}], ",", " ", 
      RowBox[{"{", 
       RowBox[{"var_", ",", " ", "lower_", ",", " ", "upper_"}], "}"}]}], 
     "]"}], " ", ":=", " ", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "exprs", ",", " ", "this", ",", " ", "others", ",", " ", "and", ",", 
        " ", "cond", ",", " ", "conds"}], "}"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"exprs", " ", "=", " ", 
        RowBox[{"List", " ", "@@", " ", "minExpr"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"conds", "=", " ", 
        RowBox[{
         RowBox[{"Function", "[", 
          RowBox[{"i", ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"this", " ", "=", " ", 
             RowBox[{
              RowBox[{"Take", "[", 
               RowBox[{"exprs", ",", " ", 
                RowBox[{"{", "i", "}"}]}], "]"}], "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"others", " ", "=", " ", 
             RowBox[{"Drop", "[", 
              RowBox[{"exprs", ",", " ", 
               RowBox[{"{", "i", "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"and", " ", "=", " ", 
             RowBox[{
              RowBox[{"Simplify", " ", "@", " ", "And"}], " ", "@@", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"this", " ", "\[LessEqual]", " ", "#"}], "&"}], "/@",
                 " ", "others"}], ")"}]}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"cond", " ", "=", " ", 
             RowBox[{"Quiet", "[", 
              RowBox[{
               RowBox[{"Reduce", "[", 
                RowBox[{
                 RowBox[{"and", " ", "&&", " ", 
                  RowBox[{"lower", " ", "\[LessEqual]", " ", "var"}], " ", "&&",
                   " ", 
                  RowBox[{"var", " ", "\[LessEqual]", " ", "upper"}]}], ",", 
                 " ", "var"}], "]"}], ",", " ", 
               RowBox[{"{", 
                RowBox[{"Reduce", "::", "ratnz"}], "}"}]}], "]"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"{", 
             RowBox[{"this", ",", " ", "cond"}], "}"}]}]}], 
          "\[IndentingNewLine]", "]"}], " ", "/@", " ", 
         RowBox[{"Range", "[", 
          RowBox[{"Length", "[", "exprs", "]"}], "]"}]}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"PiecewiseExpand", "[", 
        RowBox[{"Piecewise", "[", 
         RowBox[{"conds", ",", " ", "Indeterminate"}], "]"}], "]"}]}]}], 
     "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"printCell", " ", "@", " ", 
   RowBox[{"minToPieceWise", "[", 
    RowBox[{
     RowBox[{"Min", "[", 
      RowBox[{
       RowBox[{"2.38", "+", 
        RowBox[{"0.033726", " ", "depth"}]}], ",", 
       RowBox[{"0.4533", "\[VeryThinSpace]", "+", 
        RowBox[{"0.16904", " ", "depth"}]}]}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "depth", ",", " ", "0.19409486595347666`", ",", " ", 
       "16.674223638479965`"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"printCell", " ", "@", " ", 
   RowBox[{"minToPieceWise", "[", 
    RowBox[{
     RowBox[{"7", " ", "+", " ", "depth"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "depth", ",", " ", "0.19409486595347666`", ",", " ", 
       "16.674223638479965`"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"printCell", " ", "@", " ", 
   RowBox[{"minToPieceWise", "[", 
    RowBox[{
     RowBox[{"Min", "[", 
      RowBox[{"7", " ", "+", " ", "depth"}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "depth", ",", " ", "0.19409486595347666`", ",", " ", 
       "16.674223638479965`"}], "}"}]}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"printCell", " ", "@", " ", 
   RowBox[{"minToPieceWise", "[", 
    RowBox[{
     RowBox[{"Min", "[", 
      RowBox[{
       RowBox[{"7", " ", "+", " ", "depth"}], ",", " ", 
       RowBox[{"4", " ", "+", " ", 
        RowBox[{"2", " ", "depth"}]}], ",", " ", 
       RowBox[{"3", " ", "+", " ", 
        RowBox[{"3", "depth"}]}]}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "depth", ",", " ", "0.19409486595347666`", ",", " ", 
       "16.674223638479965`"}], "}"}]}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"fe240e7b-a4f3-45a2-87ef-a6f3529ef1fc"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"piecesOf", "[", "p_Piecewise", "]"}], " ", ":=", " ", 
   RowBox[{"p", "[", 
    RowBox[{"[", "1", "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"trueOf", "[", "p_Piecewise", "]"}], " ", ":=", " ", 
   RowBox[{"p", "[", 
    RowBox[{"[", "2", "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"condsOf", "[", "p_Piecewise", "]"}], " ", ":=", " ", 
   RowBox[{
    RowBox[{"piecesOf", "[", "p", "]"}], "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", "2"}], "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"exprsOf", "[", "p_Piecewise", "]"}], " ", ":=", " ", 
   RowBox[{
    RowBox[{"piecesOf", "[", "p", "]"}], "[", 
    RowBox[{"[", 
     RowBox[{"All", ",", "1"}], "]"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"7a4297cf-8fc9-4cab-a4de-8c7075b1789f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{
   "reduces", " ", "the", " ", "conditions", " ", "in", " ", "a", " ", 
    "Piecewise"}], " ", "*)"}], "\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"reducePiecewise", "[", 
     RowBox[{"piecewise_Piecewise", ",", " ", "var_"}], "]"}], " ", ":=", " ",
     "\[IndentingNewLine]", 
    RowBox[{"Piecewise", "[", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], ",", " ", 
          RowBox[{"Quiet", "[", 
           RowBox[{
            RowBox[{"Reduce", "[", 
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", "2", "]"}], "]"}], ",", " ", "var", ",", " ", 
              "Reals"}], "]"}], ",", " ", 
            RowBox[{"{", 
             RowBox[{"Reduce", "::", "ratnz"}], "}"}]}], "]"}]}], "}"}], " ", 
        "&"}], "/@", 
       RowBox[{"piecesOf", "[", "piecewise", "]"}]}], ",", " ", 
      RowBox[{"trueOf", "[", "piecewise", "]"}]}], "]"}]}], 
   "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"reducePiecewise", "[", 
     RowBox[{"other_", ",", " ", "var_"}], "]"}], " ", ":=", " ", 
    "other"}]}]}]], \
"Input",ExpressionUUID->"af52b5f7-e4f8-411f-bcf5-f87c71d1f3e9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"simplifyPiecewise", "[", 
   RowBox[{"piecewise_Piecewise", ",", " ", "var_", ",", " ", "assumpts_"}], 
   "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"simplify", ",", " ", "result"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"simplify", "[", "expr_", "]"}], " ", ":=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{"expr", ",", " ", "assumpts"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"reducePiecewise", "[", 
       RowBox[{"piecewise", ",", " ", "var"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"Piecewise", "[", " ", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"{", " ", 
           RowBox[{
            RowBox[{"simplify", " ", "@", " ", 
             RowBox[{"#", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}], ",", " ", 
            RowBox[{"#", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], " ", "}"}], "&"}], "/@", " ", 
         RowBox[{"piecesOf", "[", "result", "]"}]}], ",", " ", 
        RowBox[{"simplify", " ", "@", " ", 
         RowBox[{"trueOf", "[", "result", "]"}]}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"PiecewiseExpand", "[", 
       RowBox[{"result", ",", " ", "assumpts"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"result", " ", "/.", " ", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"0.", " ", "\[Rule]", " ", "0"}], ",", " ", 
         RowBox[{"1.", " ", "\[Rule]", " ", "1"}], " ", ",", " ", 
         RowBox[{
          RowBox[{"-", "1."}], " ", "\[Rule]", " ", 
          RowBox[{"-", "1"}]}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"simplify", "[", "result", "]"}]}], ";", "\[IndentingNewLine]", 
     "result"}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"simplifyPiecewise", "[", 
   RowBox[{"other_", ",", " ", "var_", ",", " ", "assumpts_"}], "]"}], " ", ":=",
   " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"simplify", ",", " ", "result"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"simplify", "[", "expr_", "]"}], " ", ":=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{"expr", ",", " ", "assumpts"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"simplify", "[", "other", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"PiecewiseExpand", "[", 
       RowBox[{"result", ",", " ", "assumpts"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"result", " ", "/.", " ", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"0.", " ", "\[Rule]", " ", "0"}], ",", " ", 
         RowBox[{"1.", " ", "\[Rule]", " ", "1"}], " ", ",", " ", 
         RowBox[{
          RowBox[{"-", "1."}], " ", "\[Rule]", " ", 
          RowBox[{"-", "1"}]}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"simplify", "[", "result", "]"}]}], ";", "\[IndentingNewLine]", 
     "result"}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",ExpressionUUID->"e5e7ac3b-2284-4e03-898c-29a324f9e73c"],

Cell[BoxData[{
 RowBox[{"Clear", "[", 
  RowBox[{"minValue", ",", " ", "maxValue"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"maxValue", "[", 
    RowBox[{
    "expr_", ",", " ", "range_", ",", " ", "assumpts_", ",", " ", "var_", ",",
      " ", 
     RowBox[{"default_", " ", ":", " ", 
      RowBox[{"-", "Infinity"}]}]}], "]"}], " ", ":=", " ", 
   RowBox[{"PiecewiseExpand", "[", 
    RowBox[{
     RowBox[{"-", 
      RowBox[{"minValue", "[", 
       RowBox[{
        RowBox[{"-", "expr"}], ",", " ", "range", ",", " ", "assumpts", ",", 
        " ", "var", ",", " ", 
        RowBox[{"-", "default"}]}], "]"}]}], ",", " ", "assumpts"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"minValue", "[", 
   RowBox[{
   "expr_", ",", " ", "range_", ",", " ", "assumpts_", ",", " ", "var_", ",", 
    " ", 
    RowBox[{"default_", " ", ":", " ", "Infinity"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "constraints", ",", " ", "genExpr", ",", " ", "genAssumpts", ",", " ", 
      "genRules", ",", " ", "genConstraints", ",", " ", "genRulesOrder", ",", 
      " ", "min", ",", " ", "eqn", ",", " ", "solns", ",", " ", 
      "adjustMinOther"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"constraints", " ", "=", " ", 
      RowBox[{"range", " ", "&&", " ", "assumpts"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"genExpr", ",", " ", "genConstraints"}], "}"}], ",", " ", 
        "genRules", ",", " ", "genRulesOrder"}], "}"}], " ", "=", " ", 
      RowBox[{"genericize", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"expr", ",", " ", "constraints"}], "}"}], ",", " ", 
        "InexactNumberQ"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"min", " ", "=", " ", 
      RowBox[{"MinValue", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"genExpr", ",", " ", "genConstraints"}], "}"}], ",", " ", 
        "var"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"min", " ", "=", " ", 
      RowBox[{"min", " ", "/.", " ", "genRules"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"min", " ", "=", " ", 
      RowBox[{"PiecewiseExpand", "[", 
       RowBox[{"min", ",", " ", "assumpts"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"min", " ", "=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{"min", ",", " ", "assumpts"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"adjustMinOther", "[", 
       RowBox[{"HoldPattern", "@", 
        RowBox[{"Piecewise", "[", 
         RowBox[{"pieces_", ",", " ", 
          RowBox[{"Infinity", "|", 
           RowBox[{"DirectedInfinity", "[", "]"}], " ", "|", " ", 
           RowBox[{"DirectedInfinity", "[", "_", "]"}]}]}], "]"}]}], "]"}], 
      " ", ":=", " ", 
      RowBox[{"Piecewise", "[", 
       RowBox[{"pieces", ",", " ", "default"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"adjustMinOther", "[", "other_", "]"}], " ", ":=", " ", 
      "other"}], ";", "\[IndentingNewLine]", 
     RowBox[{"min", " ", "=", " ", 
      RowBox[{"adjustMinOther", "[", "min", "]"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"maxValue", "[", 
     RowBox[{
      RowBox[{"#", "[", 
       RowBox[{"[", "1", "]"}], "]"}], ",", " ", 
      RowBox[{"#", "[", 
       RowBox[{"[", "2", "]"}], "]"}], ",", " ", 
      RowBox[{
       RowBox[{"depth", "\[GreaterEqual]", "0"}], "&&", 
       RowBox[{"depth", "\[LessEqual]", "37.8"}], "&&", 
       RowBox[{"z", "\[GreaterEqual]", "depth"}], "&&", 
       RowBox[{"z", "\[LessEqual]", "37.8"}]}], ",", " ", "z", ",", " ", 
      "fred"}], "]"}], " ", "&"}], "/@", " ", 
   RowBox[{"{", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"z", ",", " ", 
       RowBox[{"z", "\[LessEqual]", "0.194095"}]}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{"z", ",", " ", 
       RowBox[{
        RowBox[{"z", "\[LessEqual]", "16.6742"}], "&&", 
        RowBox[{
         RowBox[{"8.53", "+", "depth"}], "\[GreaterEqual]", "z"}]}]}], 
      "}"}]}], "\[IndentingNewLine]", "}"}]}], " ", "//", " ", 
  "Column"}]}], \
"Input",ExpressionUUID->"5d8567c0-1b5c-4911-bcc1-6925fb8a2ac5"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "makeExplicitConditions", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"makeExplicitConditions", "[", 
   RowBox[{"expr_Piecewise", ",", " ", "assumpts_", ",", " ", "default_"}], 
   "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "allConds", ",", " ", "findTrueCond", ",", " ", "trueCond", ",", " ", 
      "result"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"allConds", "[", 
       RowBox[{"p_Piecewise", ",", " ", "ass_"}], "]"}], " ", ":=", " ", 
      RowBox[{"Simplify", "[", 
       RowBox[{
        RowBox[{"Or", " ", "@@", " ", 
         RowBox[{"condsOf", "[", "p", "]"}]}], ",", " ", "ass"}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"findTrueCond", "[", 
       RowBox[{"pieces_", ",", " ", "ass_"}], "]"}], " ", ":=", " ", 
      RowBox[{"Simplify", "[", 
       RowBox[{
        RowBox[{"Not", "[", 
         RowBox[{"Or", " ", "@@", " ", 
          RowBox[{"(", 
           RowBox[{"pieces", "[", 
            RowBox[{"[", 
             RowBox[{"All", ",", "2"}], "]"}], "]"}], ")"}]}], "]"}], ",", 
        " ", "ass"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"findTrueCond", "[", 
       RowBox[{"p_Piecewise", ",", " ", "ass_"}], "]"}], " ", ":=", " ", 
      RowBox[{"Simplify", "[", 
       RowBox[{
        RowBox[{"Not", "[", 
         RowBox[{"allConds", "[", 
          RowBox[{"p", ",", "ass"}], "]"}], "]"}], ",", " ", "ass"}], "]"}]}],
      ";", "\[IndentingNewLine]", 
     RowBox[{"trueCond", " ", "=", " ", 
      RowBox[{"findTrueCond", "[", 
       RowBox[{"expr", ",", " ", "assumpts"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"Piecewise", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"piecesOf", "[", "expr", "]"}], " ", "~", "Join", "~", " ", 
         RowBox[{"{", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"trueOf", "[", "expr", "]"}], ",", " ", "trueCond"}], 
           "}"}], "}"}]}], ",", " ", "Indeterminate"}], "]"}]}], ";", 
     "\[IndentingNewLine]", "result"}]}], 
   "]"}]}]}], "Input",ExpressionUUID->"0849e749-8a26-4cf8-a397-e44d210c044d"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Main Event", \
"Subsubsection",ExpressionUUID->"d8a66d1c-299f-43f2-a1cc-7804e5eff54b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "minClearanceFromDepth", "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"minClearanceFromDepth", "[", 
    RowBox[{"tube_", ",", " ", "tip_", ",", " ", 
     RowBox[{"depth_", "?", "NumericQ"}]}], "]"}], " ", ":=", " ", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "tubeHeight", ",", " ", "assumpts", ",", " ", "expr", ",", "z"}], "}"}],
      ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"tubeHeight", " ", "=", " ", 
       RowBox[{"height", "[", "tube", "]"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"assumpts", " ", "=", " ", 
       RowBox[{
        RowBox[{"assumptions", "[", "tube", "]"}], " ", "&&", " ", 
        RowBox[{"assumptions", "[", "tip", "]"}], " ", "&&", " ", 
        RowBox[{"depth", " ", "\[GreaterEqual]", " ", "0"}], "  ", "&&", " ", 
        RowBox[{"depth", " ", "\[LessEqual]", " ", "tubeHeight"}], " ", "&&", 
        " ", 
        RowBox[{"z", " ", "\[GreaterEqual]", " ", "depth"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"expr", " ", "=", " ", 
       RowBox[{
        RowBox[{"radiusFromDepth", "[", 
         RowBox[{"tube", ",", " ", "z"}], "]"}], " ", "-", " ", 
        RowBox[{"outsideRadiusFromDepth", "[", 
         RowBox[{"tip", ",", " ", 
          RowBox[{"z", "-", "depth"}]}], "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"expr", " ", "=", " ", 
       RowBox[{"PiecewiseExpand", "[", 
        RowBox[{"expr", ",", "assumpts", ",", " ", "Reals"}], "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"printCell", "[", 
       RowBox[{"Plot", "[", 
        RowBox[{"expr", ",", " ", 
         RowBox[{"{", 
          RowBox[{"z", ",", " ", "depth", ",", " ", "tubeHeight"}], "}"}], 
         ",", " ", 
         RowBox[{"AxesLabel", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"\"\<z\>\"", ",", " ", "\"\<clearance\>\""}], "}"}]}], ",",
          " ", 
         RowBox[{"AxesOrigin", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
         RowBox[{"GridLines", "\[Rule]", "Automatic"}], ",", " ", 
         RowBox[{"PlotLabel", "\[Rule]", 
          RowBox[{"StringForm", "[", 
           RowBox[{
           "\"\<Clearance as function of z with depth=``\>\"", ",", "depth"}],
            "]"}]}]}], "]"}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{
        RowBox[{"MinValue", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"expr", ",", " ", 
            RowBox[{
             RowBox[{"depth", " ", "\[LessEqual]", " ", "z"}], " ", "&&", " ", 
             RowBox[{"z", " ", "\[LessEqual]", " ", "tubeHeight"}]}]}], "}"}],
           ",", " ", "z"}], "]"}], ",", " ", "assumpts"}], "]"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"minClearanceFromDepth", "[", 
   RowBox[{"tube_", ",", " ", "tip_", ",", " ", "depth_Symbol"}], "]"}], " ", 
  ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "tubeHeight", ",", " ", "expr", ",", " ", "zDepthAssumpts", ",", " ", 
      "tubeTipAssumpts", ",", "  ", "assumpts", ",", " ", "z", ",", " ", 
      "newConds", ",", " ", "plotRegion", ",", " ", "lowers", ",", " ", 
      "uppers", ",", " ", "applyZ", ",", " ", "allSolns", ",", " ", 
      "extremas", ",", " ", "mins", ",", " ", "min"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"plotRegion", "[", 
       RowBox[{"region_", ",", " ", 
        RowBox[{"upper_:", "tubeHeight"}]}], "]"}], " ", ":=", " ", 
      RowBox[{"RegionPlot", "[", 
       RowBox[{"region", ",", " ", 
        RowBox[{"{", 
         RowBox[{"depth", ",", " ", "0", ",", " ", "upper"}], "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"z", ",", " ", "0", ",", " ", "upper"}], "}"}], ",", " ", 
        RowBox[{"ImageSize", "\[Rule]", "150"}], ",", " ", 
        RowBox[{"BoundaryStyle", "\[Rule]", "Thick"}], ",", " ", 
        RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"tubeHeight", " ", "=", " ", 
      RowBox[{"height", "[", "tube", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"tubeTipAssumpts", " ", "=", " ", 
      RowBox[{
       RowBox[{"assumptions", "[", "tube", "]"}], " ", "&&", " ", 
       RowBox[{"assumptions", "[", "tip", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"zDepthAssumpts", " ", "=", " ", 
      RowBox[{
       RowBox[{"depth", " ", "\[GreaterEqual]", " ", "0"}], "  ", "&&", " ", 
       RowBox[{"depth", " ", "\[LessEqual]", " ", "tubeHeight"}], " ", "&&", 
       " ", 
       RowBox[{"z", " ", "\[GreaterEqual]", " ", "depth"}], "  ", "&&", " ", 
       RowBox[{"z", " ", "\[LessEqual]", " ", "tubeHeight"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"assumpts", " ", "=", " ", 
      RowBox[{"tubeTipAssumpts", " ", "&&", " ", "zDepthAssumpts"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "our", " ", "fundamental", " ", "clearance", " ", "expression", " ", 
       "is", " ", "the", " ", "difference", " ", "in", " ", "the", " ", 
       RowBox[{"radii", ".", " ", "The"}], " ", "pipette", " ", "tip", " ", 
       "is", " ", "above", " ", "the", " ", "bottom", " ", "of", " ", "the", 
       " ", "tube", " ", 
       RowBox[{"by", " ", "'"}], 
       RowBox[{"depth", "'"}]}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"expr", " ", "=", " ", 
      RowBox[{
       RowBox[{"radiusFromDepth", "[", 
        RowBox[{"tube", ",", " ", "z"}], "]"}], " ", "-", " ", 
       RowBox[{"outsideRadiusFromDepth", "[", 
        RowBox[{"tip", ",", " ", 
         RowBox[{"z", "-", "depth"}]}], "]"}]}]}], ";", "\[IndentingNewLine]",
      "\[IndentingNewLine]", 
     RowBox[{"(*", " ", "simplify", " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"expr", " ", "=", " ", 
      RowBox[{"simplifyPiecewise", "[", 
       RowBox[{"expr", ",", " ", "depth", ",", " ", 
        RowBox[{"tubeTipAssumpts", " ", "&&", " ", "zDepthAssumpts"}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "Make", " ", "all", " ", "conditions", " ", "explicit", " ", "rather", 
       " ", "than", " ", "implicit"}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"expr", " ", "=", " ", 
      RowBox[{"makeExplicitConditions", "[", 
       RowBox[{"expr", ",", " ", 
        RowBox[{"tubeTipAssumpts", " ", "&&", " ", "zDepthAssumpts"}], ",", 
        " ", "Indeterminate"}], "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
       RowBox[{"Manifest", " ", "z"}], " ", "\[GreaterEqual]", " ", 
       RowBox[{
       "depth", " ", "etc", " ", "in", " ", "the", " ", "conditions"}]}], " ",
       "*)"}], "\[IndentingNewLine]", 
     RowBox[{"newConds", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"#", " ", "&&", " ", "zDepthAssumpts"}], " ", "&"}], "/@", 
       "  ", 
       RowBox[{"condsOf", "[", "expr", "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"expr", " ", "=", " ", 
      RowBox[{"Piecewise", "[", 
       RowBox[{
        RowBox[{"Transpose", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"exprsOf", " ", "@", " ", "expr"}], ",", " ", "newConds"}],
           "}"}], "]"}], ",", " ", 
        RowBox[{"trueOf", "[", "expr", "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"cellPrint", " ", "@", " ", 
        RowBox[{"Row", "[", 
         RowBox[{"{", 
          RowBox[{"(*", 
           RowBox[{
            RowBox[{"plotRegion", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"condsOf", "[", "expr", "]"}], "[", 
               RowBox[{"[", "2", "]"}], "]"}], ",", " ", "0.2"}], "]"}], 
            ","}], "*)"}], 
          RowBox[{"Row", "[", 
           RowBox[{"plotRegion", " ", "/@", " ", 
            RowBox[{"condsOf", "[", "expr", "]"}]}], "]"}], "}"}], "]"}]}], 
       ";"}], "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "figure", " ", "out", " ", "lower", " ", "and", " ", "upper", " ", 
       "bounds", " ", "for", " ", "z", " ", "in", " ", "each", " ", "of", " ",
        "the", " ", "pieces"}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"lowers", "  ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"minValue", "[", 
         RowBox[{
         "z", ",", " ", "#", ",", " ", "assumpts", ",", " ", "z", ",", " ", 
          "Indeterminate"}], "]"}], "&"}], " ", "/@", " ", 
       RowBox[{"condsOf", "[", "expr", "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"uppers", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"maxValue", "[", 
         RowBox[{
         "z", ",", " ", "#", ",", " ", "assumpts", ",", " ", "z", ",", " ", 
          "Indeterminate"}], "]"}], " ", "&"}], " ", "/@", " ", 
       RowBox[{"condsOf", "[", "expr", "]"}]}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "pair", " ", "those", " ", "with", " ", "the", " ", "corresponding", 
       " ", "expressions"}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"lowers", " ", "=", " ", 
      RowBox[{"pairUp", "[", 
       RowBox[{
        RowBox[{"exprsOf", "[", "expr", "]"}], ",", " ", "lowers"}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"uppers", " ", "=", " ", 
      RowBox[{"pairUp", "[", 
       RowBox[{
        RowBox[{"exprsOf", "[", "expr", "]"}], ",", " ", "uppers"}], "]"}]}], 
     ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "apply", " ", "those", " ", "expressions", " ", "at", " ", "the", " ", 
       "lower", " ", "and", " ", "upper", " ", "bounds"}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"applyZ", "[", 
       RowBox[{"zExpr_", ",", " ", 
        RowBox[{"HoldPattern", " ", "@", " ", 
         RowBox[{"Piecewise", "[", 
          RowBox[{"pieces_", ",", " ", "true_"}], "]"}]}]}], "]"}], " ", ":=",
       " ", 
      RowBox[{"Piecewise", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"Simplify", "[", 
             RowBox[{"zExpr", " ", "/.", " ", 
              RowBox[{"z", " ", "\[Rule]", " ", 
               RowBox[{"#", "[", 
                RowBox[{"[", "1", "]"}], "]"}]}]}], "]"}], ",", " ", 
            RowBox[{"#", "[", 
             RowBox[{"[", "2", "]"}], "]"}]}], "}"}], "&"}], " ", "/@", " ", 
         "pieces"}], ",", " ", 
        RowBox[{"Simplify", "[", " ", 
         RowBox[{"zExpr", " ", "/.", " ", 
          RowBox[{"z", " ", "\[Rule]", " ", "true"}]}], "]"}]}], "]"}]}], ";",
      "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"applyZ", "[", 
       RowBox[{"zExpr_", ",", " ", "other_"}], "]"}], " ", ":=", " ", 
      RowBox[{"Simplify", "[", 
       RowBox[{"zExpr", " ", "/.", " ", 
        RowBox[{"z", " ", "\[Rule]", " ", "other"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"lowers", " ", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"applyZ", "[", 
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], ",", " ", 
          RowBox[{"#", "[", 
           RowBox[{"[", "2", "]"}], "]"}]}], "]"}], " ", "&"}], " ", "/@", 
       " ", "lowers"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"uppers", " ", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"applyZ", "[", 
         RowBox[{
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], ",", " ", 
          RowBox[{"#", "[", 
           RowBox[{"[", "2", "]"}], "]"}]}], "]"}], " ", "&"}], " ", "/@", 
       " ", "uppers"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "figure", " ", "out", " ", "if", " ", "there", " ", "are", " ", "any", 
       " ", "extrema", " ", "on", " ", "the", " ", "interior", " ", "of", " ",
        "the", " ", "various", " ", "regions"}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"allSolns", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"Solve", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"D", "[", 
            RowBox[{"#", ",", " ", "z"}], "]"}], "\[Equal]", " ", "0"}], ",", 
          " ", "z"}], "]"}], " ", "&"}], " ", "/@", " ", 
       RowBox[{"exprsOf", "[", "expr", "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"extremas", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"Function", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"solns", ",", " ", "e", ",", " ", "cond"}], "}"}], ",", 
           " ", 
           RowBox[{"Module", "[", 
            RowBox[{
             RowBox[{"{", "result", "}"}], ",", " ", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"result", "=", 
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"Function", "[", 
                  RowBox[{"soln", ",", " ", "\[IndentingNewLine]", 
                   RowBox[{"If", " ", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Simplify", "[", 
                    RowBox[{"cond", " ", "/.", "soln"}], "]"}], " ", 
                    "\[Equal]", " ", "False"}], "\[IndentingNewLine]", ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"{", "}"}], "\[IndentingNewLine]", ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"Piecewise", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{"e", " ", "/.", " ", "soln"}], ",", " ", 
                    RowBox[{"cond", "/.", " ", "soln"}]}], "}"}], "}"}], ",", 
                    " ", "Indeterminate"}], "]"}]}], "\[IndentingNewLine]", 
                    "]"}]}], "\[IndentingNewLine]", "]"}], "/@", " ", 
                 "solns"}], ")"}]}], ";", "\[IndentingNewLine]", 
              RowBox[{"Flatten", "[", "result", "]"}]}]}], 
            "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}], "@@",
          " ", "#"}], "&"}], "/@", " ", 
       RowBox[{"pairUp", "[", 
        RowBox[{"allSolns", ",", " ", 
         RowBox[{"exprsOf", "[", "expr", "]"}], ",", " ", 
         RowBox[{"condsOf", "[", "expr", "]"}]}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "put", " ", "lower", " ", "and", " ", "upper", " ", "together", " ", 
       "with", " ", "extremas", " ", "and", " ", "then", " ", "Min", " ", 
       "over", " ", "each", " ", "piece"}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"mins", " ", "=", " ", 
      RowBox[{"pairUp", "[", 
       RowBox[{"lowers", ",", " ", "uppers"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"mins", " ", "=", " ", 
      RowBox[{"Flatten", "[", 
       RowBox[{"mins", ",", " ", 
        RowBox[{"{", "1", "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"mins", " ", "=", " ", 
      RowBox[{"Flatten", " ", "/@", " ", "mins"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"mins", " ", "=", 
      RowBox[{"(", 
       RowBox[{"Min", " ", "/@", " ", "mins"}], ")"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"Infinity", " ", "is", " ", "friendlier", " ", "since", " ", 
       RowBox[{"we", "'"}], "re", " ", "using", " ", "Min"}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"mins", " ", "=", " ", 
      RowBox[{"mins", " ", "/.", " ", 
       RowBox[{"{", 
        RowBox[{"Indeterminate", " ", "\[Rule]", " ", "Infinity"}], "}"}]}]}],
      ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"Simplify", " ", "each", " ", "piece"}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"mins", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"PiecewiseExpand", "[", 
         RowBox[{"#", ",", " ", "True"}], "]"}], " ", "&"}], " ", "/@", " ", 
       "mins"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"mins", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"FullSimplify", "[", 
         RowBox[{"#", ",", " ", "True"}], "]"}], "&"}], " ", "/@", " ", 
       "mins"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"mins", " ", "=", " ", 
      RowBox[{
       RowBox[{
        RowBox[{"simplifyPiecewise", "[", 
         RowBox[{"#", ",", " ", "depth", ",", " ", "True"}], "]"}], "&"}], 
       " ", "/@", "mins"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{"min", " ", "across", " ", "the", " ", "pieces"}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"min", " ", "=", " ", 
      RowBox[{"Min", " ", "@@", " ", "mins"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"min", " ", "=", " ", 
      RowBox[{"PiecewiseExpand", "[", 
       RowBox[{"min", ",", " ", "True", ",", " ", "Reals"}], "]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", "simplify", " ", "*)"}], " ", "\[IndentingNewLine]", 
     RowBox[{"min", " ", "=", " ", 
      RowBox[{"simplifyPiecewise", "[", 
       RowBox[{"min", ",", " ", "depth", ",", " ", "True"}], "]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", " ", 
      RowBox[{
      "tidy", " ", "up", " ", "with", " ", "explicit", " ", "conditions"}], 
      " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"min", " ", "=", " ", 
      RowBox[{"makeExplicitConditions", "[", 
       RowBox[{"min", ",", " ", "True", ",", " ", "Indeterminate"}], "]"}]}], 
     ";", "\[IndentingNewLine]", "\[IndentingNewLine]", "min"}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"minClearanceFromDepth", "[", 
  RowBox[{"fittedEppendorf1$5M1", ",", " ", 
   RowBox[{"mountTip", "[", 
    RowBox[{"p50M0", ",", " ", "opentrons$300\[Mu]l$tipM1"}], "]"}], ",", " ",
    "depth"}], 
  "]"}]}], "Input",ExpressionUUID->"fb0c8f22-d58d-4f6f-944f-7d773346bb38"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Tests", \
"Subsubsection",ExpressionUUID->"6fe3322c-0566-42e7-9ba3-bdd9acdc57e1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"testResult", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"minClearanceFromDepth", "[", 
     RowBox[{"fittedEppendorf1$5M1", ",", " ", 
      RowBox[{"mountTip", "[", 
       RowBox[{"p50M0", ",", " ", "opentrons$300\[Mu]l$tipM1"}], "]"}], ",", 
      " ", "depth"}], "]"}]}]}], 
  ";"}]], "Input",ExpressionUUID->"4e57e59f-96b5-4dc3-a778-361bc03a341b"],

Cell[BoxData[{
 RowBox[{"plotProfile", " ", "@", " ", 
  "opentrons$300\[Mu]l$tipM1"}], "\[IndentingNewLine]", 
 RowBox[{"plotProfile", " ", "@", " ", 
  "fittedEppendorf1$5M1"}], "\[IndentingNewLine]", 
 RowBox[{"plotProfile", " ", "@", " ", 
  RowBox[{"mountTip", "[", 
   RowBox[{"p50M0", ",", " ", "opentrons$300\[Mu]l$tipM1"}], 
   "]"}]}]}], "Input",ExpressionUUID->"3138e3e6-19dd-48de-9fe6-6d8733121f74"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"testResult", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"minClearanceFromDepth", "[", 
     RowBox[{
     "fittedEppendorf1$5M1", ",", " ", "opentrons$300\[Mu]l$tipM1", ",", " ", 
      "depth"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"testResult", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", "37.8"}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", " ", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<min clearance\>\""}], "}"}]}], 
   ",", " ", 
   RowBox[{
   "PlotLabel", "\[Rule]", "\"\<Min radial clearance vs tip depth\>\""}], ",",
    " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"testResult", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", "1"}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", " ", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<min clearance\>\""}], "}"}]}], 
   ",", " ", 
   RowBox[{
   "PlotLabel", "\[Rule]", 
    "\"\<Min radial clearance vs tip depth (zoomed)\>\""}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}]}], 
  "]"}]}], "Input",ExpressionUUID->"aeaea31d-7b5f-470d-83be-c1be78e75a58"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"testResult", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"minClearanceFromDepth", "[", 
     RowBox[{
     "fittedEppendorf1$5M1", ",", " ", "opentrons$300\[Mu]l$tipM0", ",", " ", 
      "depth"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"testResult", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", "37.8"}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", " ", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<min clearance\>\""}], "}"}]}], 
   ",", " ", 
   RowBox[{
   "PlotLabel", "\[Rule]", "\"\<Min radial clearance vs tip depth\>\""}], ",",
    " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"testResult", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", "1"}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", " ", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<min clearance\>\""}], "}"}]}], 
   ",", " ", 
   RowBox[{
   "PlotLabel", "\[Rule]", 
    "\"\<Min radial clearance vs tip depth (zoomed)\>\""}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}], ",", " ", 
   RowBox[{"AxesOrigin", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "0"}], "}"}]}]}], 
  "]"}]}], "Input",ExpressionUUID->"ec2b5558-5a57-416f-b2c2-c81e20849f6d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"minClearanceFromDepth", "[", 
    RowBox[{
    "fittedEppendorf1$5M1", ",", " ", "opentrons$300\[Mu]l$tipM1", ",", " ", 
     "10"}], "]"}]}], 
  ";"}]], "Input",ExpressionUUID->"8a87ce33-0ab6-4c9e-858e-2dc33131ee93"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", " ", "@", " ", "fittedEppendorf1$5M1"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", "  ", "opentrons$300\[Mu]l$tipM0"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"minClearanceFromDepth", "[", 
    RowBox[{
    "fittedEppendorf1$5M1", ",", " ", "opentrons$300\[Mu]l$tipM0", ",", " ", 
     "10"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"testResult", " ", "=", " ", 
   RowBox[{"test", " ", "@", " ", 
    RowBox[{"minClearanceFromDepth", "[", 
     RowBox[{
     "fittedEppendorf1$5M1", ",", " ", "opentrons$300\[Mu]l$tipM0", ",", " ", 
      "depth"}], "]"}]}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"(", 
    RowBox[{"testResult", " ", "/.", " ", 
     RowBox[{"{", 
      RowBox[{"depth", " ", "\[Rule]", "  ", "10"}], "}"}]}], ")"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"testResult", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", "37.8"}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", " ", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<min clearance\>\""}], "}"}]}], 
   ",", " ", 
   RowBox[{
   "PlotLabel", "\[Rule]", "\"\<Min radial clearance vs tip depth\>\""}], ",",
    " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"testResult", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "0", ",", " ", "0.5"}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", " ", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<min clearance\>\""}], "}"}]}], 
   ",", " ", 
   RowBox[{
   "PlotLabel", "\[Rule]", 
    "\"\<Min radial clearance vs tip depth (zoomed)\>\""}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{"testResult", ",", " ", 
   RowBox[{"{", 
    RowBox[{"depth", ",", " ", "14.2", ",", " ", "14.4"}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", " ", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<min clearance\>\""}], "}"}]}], 
   ",", " ", 
   RowBox[{
   "PlotLabel", "\[Rule]", 
    "\"\<Min radial clearance vs tip depth (zoomed)\>\""}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"radiusFromDepth", "[", 
      RowBox[{"fittedEppendorf1$5M1", ",", " ", "z"}], "]"}], ",", " ", 
     RowBox[{"outsideRadiusFromDepth", "[", 
      RowBox[{"opentrons$300\[Mu]l$tipM0", ",", 
       RowBox[{"z", " ", "-", " ", "0.1"}]}], "]"}]}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"z", ",", " ", "0", ",", " ", "0.5"}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<depth\>\"", ",", " ", "\"\<radius\>\""}], "}"}]}], ",", " ", 
   RowBox[{
   "PlotLabel", "\[Rule]", " ", "\"\<Radii when tip at 0.1mm depth\>\""}], 
   ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}]}], "Input",ExpressionUUID->"cee38e72-1f38-42c0-8d82-6d02a2eb2592"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Defining Labware Instances", \
"Section",ExpressionUUID->"17bde502-9c9f-436e-b428-0033d7704a2b"],

Cell[CellGroupData[{

Cell["Definitions", \
"Subsection",ExpressionUUID->"82b0e9ae-cc21-457f-aca4-6b5ddd413dde"],

Cell["With that, we define the tips and tubes", \
"Text",ExpressionUUID->"7293cbc3-abce-4c87-bb65-f01fce08d9c1"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"tips", " ", "=", " ", 
     RowBox[{
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
        "opentrons$10\[Mu]l$tip", " ", "\[Rule]", " ", 
         "opentrons$10\[Mu]l$tipM0"}], ",", "\[IndentingNewLine]", 
        RowBox[{
        "opentrons$300\[Mu]l$tip", " ", "\[Rule]", " ", 
         "opentrons$300\[Mu]l$tipM0"}]}], "\[IndentingNewLine]", "}"}], "//", 
      " ", "Association"}]}], ")"}], " ", "//", " ", "Normal"}], " ", "//", 
  " ", "ColumnForm"}]], \
"Input",ExpressionUUID->"f7c64fca-343b-410c-8a94-d6f0c572c2b0"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"(", 
    RowBox[{"tubes", " ", "=", " ", 
     RowBox[{
      RowBox[{"{", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"fittedFalcon15ml", " ", "\[Rule]", " ", "fittedFalcon"}], 
        ",", "\[IndentingNewLine]", 
        RowBox[{
        "fittedEppendorf1$5ml", " ", "\[Rule]", " ", "fittedEppendorf1$5M1"}],
         ",", "\[IndentingNewLine]", 
        RowBox[{
        "fittedEppendorf5$0ml", " ", "\[Rule]", " ", "fittedEppendorf5$0M0"}],
         ",", "\[IndentingNewLine]", 
        RowBox[{"fittedIdtTube", " ", "\[Rule]", " ", "fittedIdt"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"bioradPlateWellM3", " ", "\[Rule]", " ", 
         RowBox[{"modelBioRad3", "[", "]"}]}], ",", "\[IndentingNewLine]", 
        "\[IndentingNewLine]", 
        RowBox[{"generic", " ", "\[Rule]", " ", 
         RowBox[{"toCanonical", " ", "@", " ", 
          RowBox[{"conicalTestTube", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"idTop", ",", " ", "idHip", ",", " ", "idBottom"}], 
             "}"}], ",", " ", 
            RowBox[{"{", 
             RowBox[{"hTop", ",", " ", "hBottom"}], "}"}]}], "]"}]}]}], ",", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{"(*", " ", 
         RowBox[{
         "stuff", " ", "from", " ", "here", " ", "down", " ", "is", " ", 
          "for", " ", 
          RowBox[{"historical", " ", "/", " ", "comparative"}], " ", 
          "purposes", " ", "only"}], " ", "*)"}], "\[IndentingNewLine]", 
        "\[IndentingNewLine]", 
        RowBox[{"eppendorf1$5ml", " ", "\[Rule]", " ", 
         RowBox[{"Block", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"wall", " ", "=", " ", 
              RowBox[{"(*", 
               RowBox[{"measured", "@", "1000"}], "*)"}], " ", 
              RowBox[{"10.34", " ", "-", " ", "8.81"}]}], ",", " ", 
             RowBox[{"hTop", "=", "20"}]}], "}"}], ",", " ", 
           "\[IndentingNewLine]", 
           RowBox[{"toCanonical", " ", "@", " ", 
            RowBox[{"conicalTestTube", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"9.0", " ", 
                RowBox[{"(*", "measured", "*)"}], ",", " ", "8.7", ",", " ", 
                "3.6"}], "}"}], ",", " ", 
              RowBox[{"{", 
               RowBox[{"hTop", ",", " ", 
                RowBox[{"37.8", " ", "-", " ", "hTop"}]}], "}"}]}], "]"}]}]}],
           "]"}]}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{"(*", " ", 
         RowBox[{
         "mixure", " ", "of", " ", "measurements", " ", "and", " ", "values", 
          " ", "from", " ", "spec", " ", "drawing"}], " ", "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{"(*", " ", 
         RowBox[{"FWIW", ",", " ", 
          RowBox[{
           RowBox[{"Opentrons", " ", "uses", " ", "idTop"}], "=", "14.9"}], 
          ",", " ", 
          RowBox[{"depth", "=", 
           RowBox[{
            RowBox[{"117.5", ".", " ", "The"}], " ", "latter", " ", "is", " ",
             "pretty", " ", "good"}]}], ",", " ", 
          RowBox[{
           RowBox[{"given", " ", "'"}], 
           RowBox[{"a", "'"}], " ", 
           RowBox[{"and", " ", "'"}], 
           RowBox[{"wall", "'"}], " ", "defined", " ", "here"}], ",", " ", 
          RowBox[{"so", " ", "our", " ", "depth", " ", 
           RowBox[{"calc", "'"}], "s", " ", "should", " ", "be", " ", 
           "good"}]}], " ", "*)"}], "\[IndentingNewLine]", 
        RowBox[{"(*", " ", 
         RowBox[{
          RowBox[{"note", ":", " ", 
           RowBox[{"as", " ", "defined", " ", "here"}]}], ",", " ", 
          RowBox[{
          "we", " ", "only", " ", "have", " ", "14", "mL", " ", "capacity"}], 
          ",", " ", 
          RowBox[{"not", " ", "15", 
           RowBox[{"mL", ".", " ", "Will"}], " ", "affect", " ", "volume", 
           " ", "calc", " ", "but", " ", "not", " ", "depth", " ", 
           RowBox[{"calc", "."}]}]}], " ", "*)"}], "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"2", " ", "-", " ", 
           RowBox[{"logically", " ", "needed"}]}], ",", " ", 
          RowBox[{"but", " ", "better", " ", "fit", " ", 
           RowBox[{"w", "/", "o"}], " ", 
           RowBox[{"(", 
            RowBox[{"?", "!"}], ")"}]}]}], "*)"}], "\[IndentingNewLine]", 
        RowBox[{"falcon15ml", " ", "\[Rule]", " ", 
         RowBox[{"Module", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
            "id14", ",", " ", "od14", ",", " ", "wall14", ",", " ", 
             "wallMeasured", ",", " ", "wall", ",", " ", "a", ",", " ", "b", 
             ",", " ", "a14", ",", " ", "b14", ",", " ", "c", ",", " ", 
             "cMeasured", ",", " ", "d", ",", " ", "bottomOd", ",", " ", 
             "wallCap", ",", " ", "htopMeasured", ",", " ", "hBottomAndCap"}],
             "}"}], ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"id14", " ", "=", "15.0"}], ";", "\[IndentingNewLine]", 
            RowBox[{"od14", " ", "=", " ", "16.3"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"wall14", " ", "=", " ", 
             RowBox[{"od14", " ", "-", " ", "id14"}]}], ";", " ", 
            "\[IndentingNewLine]", 
            RowBox[{"wallMeasured", " ", "=", " ", "1.27"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"wall", " ", "=", "wallMeasured"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"wallCap", " ", "=", " ", "1.75"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"a", " ", "=", " ", "118.8"}], ";", "\[IndentingNewLine]", 
            RowBox[{"b", " ", "=", " ", "17.37"}], ";", "\[IndentingNewLine]", 
            RowBox[{"a14", " ", "=", " ", "106.3"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"b14", " ", "=", " ", "16.6"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"c", " ", "=", " ", "15.75"}], ";", "\[IndentingNewLine]", 
            RowBox[{"cMeasured", " ", "=", " ", "15.1"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"d", " ", "=", " ", "22.48"}], ";", " ", 
            "\[IndentingNewLine]", 
            RowBox[{"bottomOd", " ", "=", " ", "3.18"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"htopMeasured", " ", "=", " ", "84.07"}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"hBottomAndCap", " ", "=", " ", 
             RowBox[{"d", " ", "-", " ", "wallCap"}]}], ";", 
            "\[IndentingNewLine]", "\[IndentingNewLine]", 
            RowBox[{"toCanonical", " ", "@", " ", 
             RowBox[{"conicalTestTube", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"b14", " ", "-", "  ", "wall"}], ",", " ", 
                 RowBox[{"cMeasured", "-", " ", 
                  RowBox[{"2", " ", "wall"}]}], ",", " ", 
                 RowBox[{"bottomOd", " ", "-", 
                  RowBox[{"2", " ", "wall"}]}]}], "}"}], ",", " ", 
               RowBox[{"{", 
                RowBox[{"htopMeasured", ",", " ", "hBottomAndCap"}], "}"}]}], 
              "]"}]}]}]}], "\[IndentingNewLine]", "]"}]}], ",", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{"(*", " ", 
         RowBox[{
          RowBox[{
          "this", " ", "hacks", " ", "in", " ", "the", " ", "slightly", " ", 
           "shallower", " ", "taper", " ", "at", " ", "the", " ", "top"}], 
          ",", " ", 
          RowBox[{"which", " ", 
           RowBox[{"isn", "'"}], "t", " ", "sized", " ", "on", " ", "the", 
           " ", "spec", " ", "drawing"}]}], " ", "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{"bioradPlateWell", " ", "\[Rule]", " ", 
         RowBox[{"Module", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{"hCyl", "=", "0.15"}], ",", 
             RowBox[{"rbig", "=", 
              RowBox[{"5.46", "/", "2"}]}], ",", " ", 
             RowBox[{"rsmall", "=", 
              RowBox[{"2.64", "/", "2"}]}], ",", " ", "cyl", ",", " ", "con", 
             ",", " ", "cap"}], "}"}], ",", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"cyl", " ", "=", " ", 
             RowBox[{"cylinder", "[", 
              RowBox[{"hCyl", ",", " ", "rbig"}], "]"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"con", " ", "=", " ", 
             RowBox[{"invertedFrustum", "[", 
              RowBox[{
               RowBox[{"14.81", " ", "-", " ", "hCyl"}], ",", " ", "rbig", 
               ",", " ", "rsmall"}], "]"}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"cap", " ", "=", " ", 
             RowBox[{"emptyCylinder", "[", "]"}]}], ";", 
            "\[IndentingNewLine]", 
            RowBox[{"conicalTestTube", "[", 
             RowBox[{"cyl", ",", " ", "con", ",", " ", "cap"}], "]"}]}]}], 
          "]"}]}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{"(*", " ", 
         RowBox[{"see", " ", "above"}], " ", "*)"}], "\[IndentingNewLine]", 
        RowBox[{"bioradPlateWell2", " ", "\[Rule]", " ", 
         RowBox[{"conicalTestTube", "[", 
          RowBox[{
           RowBox[{"cylinder", "[", 
            RowBox[{"8.835453539401207`", ",", "2.239570651942052`"}], "]"}], 
           ",", 
           RowBox[{"invertedFrustum", "[", 
            RowBox[{
            "5.974546460598792`", ",", "2.239570651942052`", ",", 
             "0.15271630954950383`", ",", "\"\<apexangle\>\""}], "]"}], ",", 
           RowBox[{"cylinder", "[", 
            RowBox[{"0", ",", "0"}], "]"}]}], "]"}]}], ",", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{"idtTube", " ", "\[Rule]", " ", 
         RowBox[{"conicalTestTube", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"cylinder", "[", 
            RowBox[{"40.73", ",", " ", 
             RowBox[{"8.31", "/", "2"}]}], "]"}], ",", "\[IndentingNewLine]", 
           RowBox[{"invertedCone", "[", 
            RowBox[{"3.2", ",", " ", 
             RowBox[{"8.31", " ", "/", "2"}]}], "]"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"emptyCylinder", "[", "]"}]}], "\[IndentingNewLine]", 
          "]"}]}]}], "\[IndentingNewLine]", "\[IndentingNewLine]", "}"}], " ",
       "//", " ", "Association"}]}], ")"}], " ", "//", " ", "Normal"}], " ", "//",
   " ", "ColumnForm"}]], \
"Input",ExpressionUUID->"f33ae077-a49f-4b64-8cee-64fee06939c4"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Expressions for Copying to Python", \
"Subsection",ExpressionUUID->"817692a6-7edd-4123-b792-c99e0121f905"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"printAndPlot", "[", "name_", "]"}], " ", ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "simplify", ",", " ", "cFormat", ",", " ", "expr", ",", " ", "tube", ",",
       " ", "h"}], "}"}], ",", " ", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"simplify", "[", "fn_", "]"}], " ", ":=", " ", 
      RowBox[{"FullSimplify", "[", 
       RowBox[{"fn", ",", " ", 
        RowBox[{"assumptions", "[", "tube", "]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"cFormat", "[", "p_Piecewise", "]"}], " ", ":=", " ", 
      RowBox[{"Module", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
         "pieces", ",", " ", "default", ",", " ", "formatted", ",", " ", "op",
           ",", " ", "rules"}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"pieces", " ", "=", " ", 
          RowBox[{"p", "[", 
           RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"default", " ", "=", " ", 
          RowBox[{"p", "[", 
           RowBox[{"[", "2", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"rules", " ", "=", " ", 
          RowBox[{"{", " ", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"x_", "^", 
              RowBox[{"(", 
               RowBox[{"1", "/", "3"}], ")"}]}], " ", "\[RuleDelayed]", " ", 
             RowBox[{"cubeRoot", "[", "x", "]"}]}], ",", " ", 
            "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"x_", "^", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"-", "1"}], "/", "3"}], ")"}]}], " ", 
             "\[RuleDelayed]", " ", 
             RowBox[{"1", " ", "/", " ", 
              RowBox[{"cubeRoot", "[", "x", "]"}]}]}], ",", " ", 
            "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"x_", "^", "2"}], " ", "\[RuleDelayed]", " ", 
             RowBox[{"square", "[", "x", "]"}]}], ",", " ", 
            "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"x_", "^", "3"}], " ", "\[RuleDelayed]", " ", 
             RowBox[{"cube", "[", "x", "]"}]}], ",", " ", 
            "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"Sqrt", "[", "x_", "]"}], " ", "\[RuleDelayed]", " ", 
             RowBox[{"sqrt", "[", "x", "]"}]}]}], "\[IndentingNewLine]", 
           "}"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"op", " ", "=", " ", 
          RowBox[{"Function", "[", 
           RowBox[{
            RowBox[{"{", "expr", "}"}], ",", "\[IndentingNewLine]", 
            RowBox[{"CForm", "[", 
             RowBox[{"expr", " ", "//.", " ", "rules"}], "]"}]}], 
           "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"formatted", " ", "=", " ", 
          RowBox[{
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"op", "[", 
               RowBox[{"#", "[", 
                RowBox[{"[", "1", "]"}], "]"}], "]"}], ",", 
              RowBox[{"#", "[", 
               RowBox[{"[", "2", "]"}], "]"}]}], "}"}], "&"}], "/@", " ", 
           "pieces"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"Piecewise", "[", 
          RowBox[{"formatted", ",", " ", 
           RowBox[{"op", "[", "default", "]"}]}], "]"}]}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"CellPrint", "[", 
      RowBox[{"TextCell", "[", 
       RowBox[{"name", ",", " ", "\"\<Subsubsection\>\""}], "]"}], "]"}], ";",
      "\[IndentingNewLine]", 
     RowBox[{"tube", " ", "=", " ", 
      RowBox[{"tubes", "[", "name", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"test", " ", "@", " ", 
      RowBox[{"parts", "[", "tube", "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"ToString", "[", "name", "]"}], "\[Equal]", " ", 
        "\"\<generic\>\""}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"simplify", " ", "@", " ", 
          RowBox[{"volume", "[", "tube", "]"}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"simplify", " ", "@", " ", 
          RowBox[{"depthFromVolume", "[", 
           RowBox[{"tube", ",", " ", "vol"}], "]"}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"simplify", " ", "@", " ", 
          RowBox[{"volumeFromDepth", "[", 
           RowBox[{"tube", ",", " ", "depth"}], "]"}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"simplify", " ", "@", " ", 
          RowBox[{"radiusFromDepth", "[", 
           RowBox[{"tube", ",", " ", "depth"}], "]"}]}]}], ";"}], 
       "\[IndentingNewLine]", ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"N", " ", "@", " ", 
          RowBox[{"volume", "[", "tube", "]"}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"N", " ", "@", " ", 
          RowBox[{"volumeFromDepth", "[", 
           RowBox[{"tube", ",", 
            RowBox[{"height", "[", "tube", "]"}]}], "]"}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"N", " ", "@", " ", 
          RowBox[{"height", "[", "tube", "]"}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"N", " ", "@", " ", 
          RowBox[{"depthFromVolume", "[", 
           RowBox[{"tube", ",", 
            RowBox[{"volume", "[", "tube", "]"}]}], "]"}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"N", " ", "@", " ", 
          RowBox[{"(", 
           RowBox[{"2", " ", "*", " ", 
            RowBox[{"radiusFromDepth", "[", 
             RowBox[{"tube", ",", 
              RowBox[{"height", "[", "tube", "]"}]}], "]"}]}], ")"}]}]}], ";",
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{"test", " ", "@", "  ", 
         RowBox[{"N", " ", "@", " ", 
          RowBox[{"simplify", " ", "@", " ", 
           RowBox[{"depthFromVolume", "[", 
            RowBox[{"tube", ",", " ", "vol"}], "]"}]}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"cFormat", " ", "@", " ", 
          RowBox[{"simplify", " ", "@", " ", 
           RowBox[{"depthFromVolume", "[", 
            RowBox[{"tube", ",", " ", "vol"}], "]"}]}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"expr", " ", "=", " ", 
         RowBox[{"N", " ", "@", " ", 
          RowBox[{"depthFromVolume", "[", 
           RowBox[{"tube", ",", " ", "vol"}], "]"}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"printCell", " ", "@", " ", 
         RowBox[{"Plot", "[", 
          RowBox[{"expr", ",", " ", 
           RowBox[{"{", 
            RowBox[{"vol", ",", " ", "0", ",", " ", 
             RowBox[{"volume", "[", "tube", "]"}]}], "}"}], ",", " ", 
           RowBox[{"AxesLabel", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], 
           ",", " ", 
           RowBox[{"PlotLabel", "\[Rule]", 
            RowBox[{
             RowBox[{"ToString", "[", "name", "]"}], " ", "<>", " ", 
             "\"\<: depth from volume\>\""}]}], ",", " ", 
           RowBox[{"AxesOrigin", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
           RowBox[{"ImageSize", "\[Rule]", "Large"}]}], "]"}]}], ";", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"N", " ", "@", " ", 
          RowBox[{"simplify", " ", "@", " ", 
           RowBox[{"volumeFromDepth", "[", 
            RowBox[{"tube", ",", " ", "depth"}], "]"}]}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"cFormat", " ", "@", " ", 
          RowBox[{"simplify", " ", "@", " ", 
           RowBox[{"volumeFromDepth", "[", 
            RowBox[{"tube", ",", " ", "depth"}], "]"}]}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"expr", " ", "=", " ", 
         RowBox[{"N", " ", "@", " ", 
          RowBox[{"volumeFromDepth", "[", 
           RowBox[{"tube", ",", " ", "depth"}], "]"}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"printCell", " ", "@", " ", 
         RowBox[{"Plot", "[", 
          RowBox[{"expr", ",", " ", 
           RowBox[{"{", 
            RowBox[{"depth", ",", " ", "0", ",", " ", 
             RowBox[{"height", "[", "tube", "]"}]}], "}"}], ",", " ", 
           RowBox[{"AxesLabel", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{"\"\<depth\>\"", ",", " ", "\"\<volume\>\""}], "}"}]}], 
           ",", " ", 
           RowBox[{"PlotLabel", "\[Rule]", 
            RowBox[{
             RowBox[{"ToString", "[", "name", "]"}], "<>", " ", 
             "\"\<: volume from depth\>\""}]}], ",", " ", 
           RowBox[{"AxesOrigin", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
           RowBox[{"ImageSize", "\[Rule]", "Large"}]}], "]"}]}], ";", 
        "\[IndentingNewLine]", "\[IndentingNewLine]", 
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"N", " ", "@", " ", 
          RowBox[{"simplify", " ", "@", " ", 
           RowBox[{"radiusFromDepth", "[", 
            RowBox[{"tube", ",", " ", "depth"}], "]"}]}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"test", " ", "@", " ", 
         RowBox[{"cFormat", " ", "@", " ", 
          RowBox[{"simplify", " ", "@", " ", 
           RowBox[{"radiusFromDepth", "[", 
            RowBox[{"tube", ",", " ", "depth"}], "]"}]}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"expr", " ", "=", " ", 
         RowBox[{"N", " ", "@", " ", 
          RowBox[{"radiusFromDepth", "[", 
           RowBox[{"tube", ",", " ", "depth"}], "]"}]}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"printCell", " ", "@", " ", 
         RowBox[{"Plot", "[", 
          RowBox[{"expr", ",", " ", 
           RowBox[{"{", 
            RowBox[{"depth", ",", " ", "0", ",", " ", 
             RowBox[{"height", "[", "tube", "]"}]}], "}"}], ",", " ", 
           RowBox[{"AxesLabel", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{"\"\<depth\>\"", ",", " ", "\"\<radius\>\""}], "}"}]}], 
           ",", " ", 
           RowBox[{"PlotLabel", "\[Rule]", 
            RowBox[{
             RowBox[{"ToString", "[", "name", "]"}], "<>", " ", 
             "\"\<: radius from depth\>\""}]}], ",", " ", 
           RowBox[{"AxesOrigin", "\[Rule]", 
            RowBox[{"{", 
             RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
           RowBox[{"ImageSize", "\[Rule]", "Large"}]}], "]"}]}], ";"}]}], 
      "\[IndentingNewLine]", "]"}]}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"printAndPlot", " ", "/@", " ", 
   RowBox[{"Keys", "[", "tubes", "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"129de215-3421-42f4-8c4b-ec8a27a7a42b"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Comparing Models", \
"Subsection",ExpressionUUID->"195ff429-0478-417d-b861-6534fedbe351"],

Cell[CellGroupData[{

Cell["Comparing 1.5 mL Eppendorf Tube Models", \
"Subsubsection",ExpressionUUID->"08646d75-ff52-4893-a3f0-b7a583ac24c0"],

Cell["The fitted Eppendorf model clearly is better.", \
"Text",ExpressionUUID->"01a0a397-eabd-4c51-a1b0-051679643163"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"example1", " ", "=", " ", 
   RowBox[{"tubes", "[", "eppendorf1$5ml", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"example2", " ", "=", " ", "fittedEppendorf1$5M0"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"example3", " ", "=", " ", "fittedEppendorf1$5M1"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "example1"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "example2"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "example3"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"expr1", " ", "=", " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{"example1", ",", " ", "v"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"expr2", " ", "=", " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{"example2", ",", " ", "v"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"expr3", " ", "=", " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{"example3", ",", " ", "v"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"expr1", ",", " ", "expr2", ",", " ", "expr3"}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example1", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"expr1", " ", "-", " ", "expr2"}], ",", " ", 
     RowBox[{"expr2", " ", "-", " ", "expr2"}], ",", " ", 
     RowBox[{"expr3", " ", "-", " ", "expr2"}]}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example1", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<\[CapitalDelta]depth\>\""}], 
     "}"}]}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{" ", 
  RowBox[{"Show", "[", 
   RowBox[{
    RowBox[{"ListPlot", "[", 
     RowBox[{
      RowBox[{"{", "eppendorf15Data", "}"}], ",", " ", 
      RowBox[{"AxesLabel", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"\"\<vol\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
      RowBox[{"PlotRange", "\[Rule]", "All"}], ",", " ", 
      RowBox[{"AxesOrigin", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
      RowBox[{"ImageSize", "\[Rule]", "Large"}]}], "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"Plot", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"depthFromVolume", "[", 
         RowBox[{"example1", ",", " ", "v"}], "]"}], ",", " ", 
        RowBox[{"depthFromVolume", "[", 
         RowBox[{"example2", ",", " ", "v"}], "]"}], ",", " ", 
        RowBox[{"depthFromVolume", "[", 
         RowBox[{"example3", ",", " ", "v"}], "]"}]}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{"v", ",", " ", "0", ",", " ", 
        RowBox[{"volume", "[", "example1", "]"}]}], "}"}]}], "]"}]}], 
   "]"}]}]}], "Input",ExpressionUUID->"40c32bcd-1ef5-4258-830f-887814d9c061"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Comparing IDT Tube Models", \
"Subsubsection",ExpressionUUID->"2a4191bb-328c-47da-b016-436b37e7bf10"],

Cell["\<\
The fitted IDT tube model is marginally better, but still better.\
\>", "Text",ExpressionUUID->"b393e385-50b5-4df3-a099-f5f471f0e5b6"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"example1", " ", "=", " ", 
   RowBox[{"tubes", "[", "idtTube", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"example2", " ", "=", " ", 
   RowBox[{"tubes", "[", "fittedIdtTube", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "example1"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "example2"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"expr1", " ", "=", " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{"example1", ",", " ", "v"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"expr2", " ", "=", " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{"example2", ",", " ", "v"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"expr1", ",", " ", "expr2"}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example1", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"expr1", " ", "-", " ", "expr2"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example1", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<\[CapitalDelta]depth\>\""}], 
     "}"}]}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{" ", 
  RowBox[{"Show", "[", 
   RowBox[{
    RowBox[{"ListPlot", "[", 
     RowBox[{
      RowBox[{"{", "idtData", "}"}], ",", " ", 
      RowBox[{"AxesLabel", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"\"\<vol\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
      RowBox[{"PlotRange", "\[Rule]", "All"}], ",", " ", 
      RowBox[{"AxesOrigin", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
      RowBox[{"ImageSize", "\[Rule]", "Large"}]}], "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"Plot", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"depthFromVolume", "[", 
         RowBox[{"example1", ",", " ", "v"}], "]"}], ",", " ", 
        RowBox[{"depthFromVolume", "[", 
         RowBox[{"example2", ",", " ", "v"}], "]"}]}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{"v", ",", " ", "0", ",", " ", 
        RowBox[{"volume", "[", "example1", "]"}]}], "}"}]}], "]"}]}], 
   "]"}]}]}], "Input",ExpressionUUID->"7a302e25-3286-4ef8-93a9-8e27b3fc0297"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Comparing Bio-rad Plate models", \
"Subsubsection",ExpressionUUID->"77a5f172-eb26-48cd-9ecf-7b19a514709b"],

Cell["Which should we use?", \
"Text",ExpressionUUID->"3187ecba-44aa-4519-ba65-94084921f09e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"example1", " ", "=", " ", 
   RowBox[{"tubes", "[", "bioradPlateWell", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"example2", " ", "=", " ", 
    RowBox[{"tubes", "[", "bioradPlateWell2", "]"}]}], ";"}], " ", 
  RowBox[{"(*", " ", 
   RowBox[{"currently", " ", "in", " ", "use"}], " ", 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"examplem1", " ", "=", " ", 
    RowBox[{"modelBioRad1", "[", "]"}]}], ";"}], " ", 
  RowBox[{"(*", 
   RowBox[{"same", " ", "as", " ", "example", " ", "1"}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"examplem2", " ", "=", " ", 
   RowBox[{"modelBioRad2", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"examplem3", " ", "=", " ", 
   RowBox[{"modelBioRad3", "[", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "example1"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "example2"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "examplem1"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "examplem2"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "examplem3"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr1", " ", "=", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"example1", ",", " ", "v"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"expr2", " ", "=", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"example2", ",", " ", "v"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"exprm1", " ", "=", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"examplem1", ",", " ", "v"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"exprm2", " ", "=", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"examplem2", ",", " ", "v"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"exprm3", " ", "=", " ", 
   RowBox[{"depthFromVolume", "[", 
    RowBox[{"examplem3", ",", " ", "v"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "expr1", ",", " ", "expr2", ",", "exprm1", ",", " ", "exprm2", ",", " ", 
     "exprm3"}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "examplem3", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"PlotLegends", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
     "\"\<v1\>\"", ",", " ", "\"\<v2\>\"", ",", " ", "\"\<m1\>\"", ",", " ", 
      "\"\<m2\>\"", ",", " ", "\"\<m3\>\""}], "}"}]}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"expr2", " ", "-", " ", "expr1"}], ",", " ", 
     RowBox[{"expr2", " ", "-", " ", "expr2"}], ",", " ", 
     RowBox[{"expr2", " ", "-", " ", "exprm1"}], ",", " ", 
     RowBox[{"expr2", " ", "-", " ", "exprm2"}], ",", " ", 
     RowBox[{"expr2", " ", "-", " ", "exprm3"}]}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "examplem3", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<\[CapitalDelta]depth\>\""}], 
     "}"}]}], ",", 
   RowBox[{"PlotLegends", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
     "\"\<v2 - v1\>\"", ",", " ", "\"\<v2 - v2\>\"", ",", " ", 
      "\"\<v2 - m1\>\"", ",", " ", "\"\<v2 - m2\>\"", ",", " ", 
      "\"\<v2 - m3\>\""}], "}"}]}], ",", " ", 
   RowBox[{"PlotRange", " ", "\[Rule]", " ", "All"}], ",", " ", 
   RowBox[{"GridLines", "\[Rule]", "Automatic"}]}], 
  "]"}]}], "Input",ExpressionUUID->"9219ffb6-41dc-4617-b29e-4ccafdd6cad4"],

Cell["\<\
M3 is a more conservative choice than all the others, among other goodness.\
\>", "Text",ExpressionUUID->"e32283bf-cdec-46e4-a4bc-61d5a70dae07"],

Cell[BoxData[{
 RowBox[{"depthFromVolume", "[", 
  RowBox[{"examplem3", ",", " ", "28"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"radiusFromDepth", "[", 
  RowBox[{"examplem3", ",", " ", "%"}], 
  "]"}]}], "Input",ExpressionUUID->"259ab7a5-765e-4e90-86b0-7043c6b5f544"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Comparing 15mL Falcon Tube models", \
"Subsubsection",ExpressionUUID->"dc086512-1d89-4e6d-9fec-34251511fa77"],

Cell["\<\
We should use the fitted one, as we experimentally observed the other model \
predicting depths that were too large.\
\>", "Text",ExpressionUUID->"0e9b95a7-7cf9-4f88-ab72-29ba37e0b431"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"example1", " ", "=", " ", 
   RowBox[{"tubes", "[", "falcon15ml", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"example2", " ", "=", " ", 
   RowBox[{"tubes", "[", "fittedFalcon15ml", "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "example1"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", "example2"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"expr1", " ", "=", " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{"example1", ",", " ", "v"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"expr2", " ", "=", " ", 
  RowBox[{"depthFromVolume", "[", 
   RowBox[{"example2", ",", " ", "v"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"expr1", ",", " ", "expr2"}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example1", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
   RowBox[{"ImageSize", "\[Rule]", "Large"}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"Plot", "[", 
  RowBox[{
   RowBox[{"expr1", "-", "expr2"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"v", ",", " ", "0", ",", " ", 
     RowBox[{"volume", "[", "example1", "]"}]}], "}"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"\"\<volume\>\"", ",", " ", "\"\<\[CapitalDelta]depth\>\""}], 
     "}"}]}], ",", " ", 
   RowBox[{"ImageSize", "\[Rule]", "Large"}]}], "]"}], "\[IndentingNewLine]", 
 RowBox[{" ", 
  RowBox[{"Show", "[", 
   RowBox[{
    RowBox[{"ListPlot", "[", 
     RowBox[{
      RowBox[{"{", "falconData", "}"}], ",", " ", 
      RowBox[{"AxesLabel", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"\"\<vol\>\"", ",", " ", "\"\<depth\>\""}], "}"}]}], ",", " ", 
      RowBox[{"PlotRange", "\[Rule]", "All"}], ",", " ", 
      RowBox[{"AxesOrigin", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
      RowBox[{"ImageSize", "\[Rule]", "Large"}]}], "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"Plot", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"depthFromVolume", "[", 
         RowBox[{"example1", ",", " ", "v"}], "]"}], ",", " ", 
        RowBox[{"depthFromVolume", "[", 
         RowBox[{"example2", ",", " ", "v"}], "]"}]}], "}"}], ",", " ", 
      RowBox[{"{", 
       RowBox[{"v", ",", " ", "0", ",", " ", 
        RowBox[{"volume", "[", "example1", "]"}]}], "}"}]}], "]"}]}], 
   "]"}]}]}], "Input",ExpressionUUID->"1546305e-1880-4a2c-ab31-aa655fdcb3a8"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1444, 1548},
WindowMargins->{{Automatic, 937}, {Automatic, 0}},
PrintingCopies->1,
PrintingPageRange->{32000, 32000},
PrintingOptions->{"Magnification"->1.,
"PaperOrientation"->"Portrait",
"PaperSize"->{612, 792}},
PrivateNotebookOptions->{"FileOutlineCache"->False},
CellContext->Notebook,
CellLabelAutoDelete->True,
TrackCellChangeTimes->False,
FrontEndVersion->"12.0 for Microsoft Windows (64-bit) (April 8, 2019)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> 
     FrontEnd`FileName[{"Report"}, "StandardReport.nb", CharacterEncoding -> 
       "UTF-8"]]], 
   Cell[
    StyleData[All, "Printout"], Magnification -> 0.5]}, Visible -> False, 
  FrontEndVersion -> "12.0 for Microsoft Windows (64-bit) (April 8, 2019)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"]
]

