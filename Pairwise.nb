Notebook[{

Cell[CellGroupData[{
Cell["Data Analysis", \
"Title",ExpressionUUID->"39796d72-87ca-4320-97ff-a98d4bd016ce"],

Cell["\<\
Robert Atkinson
13 November 2019\
\>", "Author",ExpressionUUID->"05aea015-05f3-4e99-899d-20a8cd5792a1"],

Cell["We analyze data from various experiments", \
"Text",ExpressionUUID->"56cc4ba9-b77c-4512-b3b4-73f00a3c0eee"],

Cell[CellGroupData[{

Cell["Basics", \
"Section",ExpressionUUID->"752773aa-79a8-4543-97a4-9a28a9955492"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"FrontEndExecute", "[", 
    RowBox[{"{", 
     RowBox[{"FrontEndToken", "[", 
      RowBox[{
       RowBox[{"InputNotebook", "[", "]"}], ",", "\"\<SelectAll\>\""}], "]"}],
      "}"}], "]"}], ";", "\n", 
   RowBox[{"FrontEndExecute", "[", 
    RowBox[{"{", 
     RowBox[{"FrontEndToken", "[", 
      RowBox[{
       RowBox[{"InputNotebook", "[", "]"}], ",", 
       "\"\<SelectionOpenAllGroups\>\""}], "]"}], "}"}], "]"}], ";"}], 
  "*)"}]], "Input",ExpressionUUID->"4308b520-54ec-4531-b566-b60a693897e8"],

Cell[BoxData[{
 RowBox[{"On", "[", "Assert", "]"}], "\[IndentingNewLine]", 
 RowBox[{"Clear", "[", "assert", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assert", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"assert", "[", 
   RowBox[{"expr", ",", " ", "\"\<assertion failed\>\""}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"assert", "[", 
   RowBox[{"expr_", ",", " ", "msg_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"value", "=", 
      RowBox[{"Evaluate", "[", "expr", "]"}]}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"BooleanQ", "[", "value", "]"}], ",", " ", 
      "\[IndentingNewLine]", 
      RowBox[{"Assert", "[", 
       RowBox[{"value", ",", " ", 
        RowBox[{"Row", "[", 
         RowBox[{"{", 
          RowBox[{"msg", ",", " ", "\"\<: \>\"", ",", " ", 
           RowBox[{"HoldForm", "[", "expr", "]"}]}], "}"}], "]"}]}], "]"}], 
      "\[IndentingNewLine]", ",", "\[IndentingNewLine]", 
      RowBox[{"Assert", "[", 
       RowBox[{"value", ",", " ", 
        RowBox[{"Row", "[", 
         RowBox[{"{", 
          RowBox[{"msg", ",", " ", "\"\<: \>\"", ",", " ", 
           RowBox[{"HoldForm", "[", "expr", "]"}]}], "}"}], "]"}]}], "]"}]}], 
     " ", 
     RowBox[{"(*", " ", 
      RowBox[{"to", " ", 
       RowBox[{"do", ":", " ", 
        RowBox[{"improve", " ", "message"}]}]}], " ", "*)"}], 
     "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"SetAttributes", "[", 
  RowBox[{"assert", ",", " ", "HoldAll"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"assert", "[", "False", "]"}], "\[IndentingNewLine]", 
 RowBox[{"assert", "[", "3", 
  "]"}]}], "Input",ExpressionUUID->"5325dfb4-04b1-494c-bcbd-e2677b467f94"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"printCell", "[", "cell_", "]"}], " ", ":=", " ", 
  RowBox[{"CellPrint", "[", 
   RowBox[{"ExpressionCell", "[", 
    RowBox[{"cell", ",", " ", "\"\<Output\>\""}], "]"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"cellPrint", "[", "cell_", "]"}], " ", ":=", " ", 
  RowBox[{"CellPrint", "[", 
   RowBox[{"ExpressionCell", "[", 
    RowBox[{"cell", ",", " ", "\"\<Output\>\""}], "]"}], 
   "]"}]}]}], "Input",ExpressionUUID->"37bb6aae-3724-4681-b762-434c36589e57"],

Cell[BoxData[
 RowBox[{
  RowBox[{"log", "[", "msg_", "]"}], " ", ":=", " ", 
  RowBox[{"CellPrint", "[", 
   RowBox[{"TextCell", "[", 
    RowBox[{"msg", ",", " ", "\"\<Text\>\""}], "]"}], 
   "]"}]}]], "Input",ExpressionUUID->"e7981d16-a332-4bc6-abdf-3a48fc8b52ff"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"test", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "evald", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"evald", " ", "=", " ", 
      RowBox[{"Evaluate", "[", "expr", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"printCell", "[", 
      RowBox[{
       RowBox[{"HoldForm", "[", "expr", "]"}], " ", "\[Rule]", " ", "evald"}],
       "]"}], ";", "\[IndentingNewLine]", "evald"}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test2", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "evald", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"printCell", "[", 
      RowBox[{
       RowBox[{"HoldForm", "[", "expr", "]"}], " ", "\[Rule]", " ", 
       "\"\<evaluating...\>\""}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"evald", " ", "=", " ", 
      RowBox[{"Evaluate", "[", "expr", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"printCell", "[", 
      RowBox[{"\"\<...\>\"", " ", "\[Rule]", " ", "evald"}], "]"}], ";", 
     "\[IndentingNewLine]", "evald"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"SetAttributes", "[", 
  RowBox[{"test", ",", " ", "HoldAll"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{"SetAttributes", "[", 
  RowBox[{"test2", ",", " ", "HoldAll"}], 
  "]"}]}], "Input",ExpressionUUID->"5aa89327-f38a-4c75-8bc4-5f11f8896fc6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"complement", "[", "angle_", "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"\[Pi]", "/", "2"}], " ", "-", " ", 
   "angle"}]}]], \
"Input",ExpressionUUID->"78d80425-9321-49ab-b281-593a15d6063e"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "hasImaginary", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"hasImaginary", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "result", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"result", " ", "=", " ", 
       RowBox[{"Reap", "[", 
        RowBox[{"Scan", "[", 
         RowBox[{
          RowBox[{"Function", "[", 
           RowBox[{"ee", ",", " ", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"ee", " ", "\[NotEqual]", " ", 
               RowBox[{"Conjugate", "[", "ee", "]"}]}], ",", " ", 
              RowBox[{"Sow", "[", "True", "]"}]}], "]"}]}], "]"}], ",", 
          RowBox[{"{", "expr", "}"}], ",", " ", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"-", "1"}], ",", " ", "Infinity"}], "}"}]}], "]"}], 
        "]"}]}], ";"}], "*)"}], "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"result", " ", "=", " ", 
      RowBox[{"Scan", "[", 
       RowBox[{
        RowBox[{"Function", "[", 
         RowBox[{"ee", ",", " ", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"ee", " ", "\[NotEqual]", " ", 
             RowBox[{"Conjugate", "[", "ee", "]"}]}], ",", " ", 
            RowBox[{"Return", "[", "True", "]"}]}], "]"}]}], "]"}], ",", 
        RowBox[{"{", "expr", "}"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"-", "1"}], ",", " ", "Infinity"}], "}"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Length", " ", "@", " ", 
        RowBox[{"result", "[", 
         RowBox[{"[", "2", "]"}], "]"}]}], " ", ">", " ", "0"}], " ", "*)"}], 
     "\[IndentingNewLine]", 
     RowBox[{"result", " ", "===", " ", "True"}]}]}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"SetAttributes", "[", 
  RowBox[{"hasImaginary", ",", " ", "HoldAll"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"hasImaginary", "[", 
    RowBox[{"1", " ", "+", " ", 
     RowBox[{"2", "I"}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"hasImaginary", "[", 
    RowBox[{"30", "!"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"440d00c8-54b5-4b08-bfe8-ae5feb69d532"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"toDeg", "[", "rad_", "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"rad", " ", "/", " ", "Pi"}], " ", "*", " ", 
   "180"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toRadian", "[", "deg_", "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{"deg", " ", "/", " ", "180"}], " ", "*", " ", 
   "Pi"}]}]}], "Input",ExpressionUUID->"2bbc42e7-5161-4850-a96b-3fb814745a8d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", 
   RowBox[{"variables", ",", " ", "unboundQ"}], "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"unboundQ", "[", "x_Symbol", "]"}], " ", ":=", " ", "True"}], "\n", 
 RowBox[{
  RowBox[{"unboundQ", "[", "_", "]"}], " ", ":=", " ", "False"}], "\n", 
 RowBox[{
  RowBox[{"unboundQ", "[", "E", "]"}], " ", ":=", " ", "False"}], "\n", 
 RowBox[{
  RowBox[{"unboundQ", "[", "I", "]"}], " ", ":=", " ", "False"}], "\n", 
 RowBox[{
  RowBox[{"unboundQ", "[", "Pi", "]"}], " ", ":=", " ", "False"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"unboundQ", "[", "\[Pi]", "]"}], " ", ":=", " ", "False"}], 
  "\n"}], "\n", 
 RowBox[{
  RowBox[{"variables", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"variables", "[", 
   RowBox[{"expr", ",", " ", 
    RowBox[{"{", "}"}]}], "]"}]}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"variables", "[", 
     RowBox[{"expr_", ",", " ", "except_"}], "]"}], " ", ":=", " ", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"result", ",", " ", "reaped"}], "}"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{"result", ",", " ", "reaped"}], "}"}], " ", "=", 
        RowBox[{"Reap", "[", 
         RowBox[{"Scan", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"(", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"unboundQ", "[", "#", "]"}], ",", 
               RowBox[{"Sow", "[", "#", "]"}]}], "]"}], ")"}], "&"}], ",", 
           "expr", ",", "Infinity"}], "]"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", "reaped", "]"}], " ", "==", " ", "0"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"{", "}"}], "\[IndentingNewLine]", ",", 
         "\[IndentingNewLine]", 
         RowBox[{"Complement", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"reaped", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "//", "Union"}], ",", "except"}],
           "]"}]}], "\[IndentingNewLine]", "]"}]}]}], "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"variables", "[", 
    RowBox[{"e", " ", "\[Equal]", " ", 
     RowBox[{"m", " ", 
      RowBox[{"c", "^", "2"}]}]}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"variables", "[", 
    RowBox[{"{", 
     RowBox[{"C", "[", "1", "]"}], "}"}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"8fd2fa68-86de-4381-bd21-52f2d089b894"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "genericize", "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"genericize", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"genericize", "[", 
   RowBox[{"expr", ",", " ", "NumberQ", ",", " ", 
    RowBox[{"{", "}"}]}], " ", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"genericize", "[", 
   RowBox[{"expr_", ",", " ", "test_"}], "]"}], " ", ":=", " ", 
  RowBox[{"genericize", "[", 
   RowBox[{"expr", ",", " ", "test", ",", " ", 
    RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"genericize", "[", 
     RowBox[{"expr_", ",", " ", "test_", ",", " ", "except_"}], "]"}], " ", ":=",
     " ", 
    RowBox[{"Module", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "result", ",", " ", "reaped", ",", " ", "numbers", ",", " ", "count", 
        ",", " ", "neg", ",", " ", "pos", ",", " ", "zero", ",", " ", 
        "constants", ",", " ", "constraints", ",", " ", "rules"}], "}"}], ",",
       "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{"result", ",", " ", "reaped"}], "}"}], " ", "=", 
        RowBox[{"Reap", "[", 
         RowBox[{"Scan", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"(", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"test", "[", "#", "]"}], ",", 
               RowBox[{"Sow", "[", "#", "]"}]}], "]"}], ")"}], "&"}], ",", 
           "expr", ",", "Infinity"}], "]"}], "]"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", "reaped", "]"}], " ", ">", " ", "0"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"numbers", " ", "=", " ", 
           RowBox[{
            RowBox[{"reaped", "[", 
             RowBox[{"[", "1", "]"}], "]"}], "//", "Union"}]}], ";", " ", 
          RowBox[{"(*", " ", 
           RowBox[{"todo", ":", " ", 
            RowBox[{
             RowBox[{
             "should", " ", "we", " ", "merge", " ", "duplicates", " ", 
              "like", " ", 
              RowBox[{"this", "?", " ", "It"}], " ", "does", " ", "make", " ",
               "the", " ", "logic", " ", "below", " ", "somewhat", " ", 
              "easier"}], " ", "..."}]}], " ", "*)"}], "\[IndentingNewLine]", 
          RowBox[{"numbers", " ", "=", " ", 
           RowBox[{"Complement", "[", 
            RowBox[{"numbers", ",", "except"}], "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"numbers", " ", "=", " ", 
           RowBox[{"Sort", "[", "numbers", "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"count", " ", "=", " ", 
           RowBox[{"Length", "[", "numbers", "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"constants", " ", "=", " ", 
           RowBox[{
            RowBox[{
             RowBox[{"C", "[", "#", "]"}], "&"}], " ", "/@", " ", 
            RowBox[{"Range", "[", "count", "]"}]}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"count", " ", ">", " ", "1"}], ",", "\[IndentingNewLine]", 
            RowBox[{"constraints", " ", "=", " ", 
             RowBox[{
              RowBox[{
               RowBox[{
                RowBox[{"constants", "[", 
                 RowBox[{"[", "#", "]"}], "]"}], "<", " ", 
                RowBox[{"constants", "[", 
                 RowBox[{"[", 
                  RowBox[{"#", "+", "1"}], "]"}], "]"}]}], "&"}], " ", "/@", 
              " ", 
              RowBox[{"Range", "[", 
               RowBox[{"count", "-", "1"}], "]"}]}]}], "\[IndentingNewLine]", 
            ",", "\[IndentingNewLine]", 
            RowBox[{"constraints", "=", " ", 
             RowBox[{"{", "}"}]}]}], "\[IndentingNewLine]", "]"}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"pos", " ", "=", " ", 
           RowBox[{"Select", "[", 
            RowBox[{"numbers", ",", " ", 
             RowBox[{
              RowBox[{"#", " ", ">", " ", "0"}], "&"}]}], "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"neg", "  ", "=", " ", 
           RowBox[{"Select", "[", 
            RowBox[{"numbers", ",", " ", 
             RowBox[{
              RowBox[{"#", " ", "<", " ", "0"}], " ", "&"}]}], "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"zero", " ", "=", " ", 
           RowBox[{"Select", "[", 
            RowBox[{"numbers", ",", " ", 
             RowBox[{
              RowBox[{"#", " ", "\[Equal]", " ", "0"}], "&"}]}], "]"}]}], ";",
           "\[IndentingNewLine]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", "pos", "]"}], " ", ">", " ", "0"}], ",", 
            " ", 
            RowBox[{"constraints", " ", "=", " ", 
             RowBox[{"Append", "[", 
              RowBox[{"constraints", ",", " ", 
               RowBox[{
                RowBox[{"constants", "[", 
                 RowBox[{"[", 
                  RowBox[{"count", " ", "-", " ", 
                   RowBox[{"Length", "[", "pos", "]"}], "+", "1"}], "]"}], 
                 "]"}], " ", ">", " ", "0"}]}], "]"}]}]}], "]"}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", "neg", "]"}], " ", ">", " ", "0"}], ",", 
            " ", 
            RowBox[{"constraints", " ", "=", " ", 
             RowBox[{"Append", "[", 
              RowBox[{"constraints", ",", " ", 
               RowBox[{
                RowBox[{"constants", "[", 
                 RowBox[{"[", 
                  RowBox[{"Length", "[", "neg", "]"}], "]"}], "]"}], " ", "<",
                 " ", "0"}]}], "]"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", "zero", "]"}], " ", ">", " ", "0"}], ",", 
            " ", 
            RowBox[{"constraints", " ", "=", " ", 
             RowBox[{"Append", "[", 
              RowBox[{"constraints", ",", " ", 
               RowBox[{
                RowBox[{"constants", "[", 
                 RowBox[{"[", 
                  RowBox[{
                   RowBox[{"Length", "[", "neg", "]"}], "+", "1"}], "]"}], 
                 "]"}], " ", "==", " ", "0"}]}], "]"}]}]}], "]"}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"constraints", " ", "=", " ", 
           RowBox[{"And", " ", "@@", " ", "constraints"}]}], ";", 
          "\[IndentingNewLine]", "\[IndentingNewLine]", 
          RowBox[{"rules", " ", "=", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{
               RowBox[{"numbers", "[", 
                RowBox[{"[", "#", "]"}], "]"}], " ", "\[Rule]", " ", 
               RowBox[{"constants", "[", 
                RowBox[{"[", "#", "]"}], "]"}]}], ")"}], "&"}], "/@", " ", 
            RowBox[{"Range", "[", "count", "]"}]}]}]}]}], 
        "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"expr", " ", "/.", " ", "rules"}], ",", " ", 
         RowBox[{"Reverse", "[", 
          RowBox[{"rules", ",", " ", 
           RowBox[{"{", "2", "}"}]}], "]"}], ",", " ", "constraints"}], 
        "}"}]}]}], "\[IndentingNewLine]", "]"}]}], ";"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"genericize", "[", 
    RowBox[{
     RowBox[{"cone", "[", 
      RowBox[{"h", ",", "2"}], "]"}], " ", "+", " ", 
     RowBox[{"fred", "[", 
      RowBox[{
      "1.2", ",", " ", "3.14159", ",", " ", "1.2", ",", " ", "seven", ",", 
       " ", 
       RowBox[{"-", "2"}], ",", " ", 
       RowBox[{"-", "3"}], ",", " ", "0"}], "]"}]}], "]"}]}], 
  ";"}]}], "Input",ExpressionUUID->"2785b03d-5985-4032-b823-71703b18af08"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "enumerate", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"enumerate", "[", "iterable_", "]"}], " ", ":=", " ", 
  RowBox[{"MapThread", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"{", 
      RowBox[{"#1", ",", " ", "#2"}], "}"}], "&"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"Range", "[", 
       RowBox[{"Length", "[", "iterable", "]"}], "]"}], ",", " ", 
      "iterable"}], "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"enumerate", "[", 
    RowBox[{"func_", ",", "iterable_"}], "]"}], " ", ":=", " ", 
   RowBox[{"MapThread", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"func", "[", 
       RowBox[{"#1", ",", " ", "#2"}], "]"}], "&"}], ",", " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"Range", "[", 
        RowBox[{"Length", "[", "iterable", "]"}], "]"}], ",", " ", 
       "iterable"}], "}"}]}], "]"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"test", " ", "@", " ", 
   RowBox[{"enumerate", "[", 
    RowBox[{"{", 
     RowBox[{"a", ",", " ", "b", ",", " ", "c"}], "}"}], "]"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"Function", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"i", ",", " ", "value"}], "}"}], ",", " ", 
      RowBox[{"value", " ", "+", " ", "i"}]}], "]"}], "@@", "#"}], "&"}], " ",
   "/@", " ", 
  RowBox[{"enumerate", "[", 
   RowBox[{"{", 
    RowBox[{"a", ",", "b", ",", "c"}], "}"}], 
   "]"}]}]}], "Input",ExpressionUUID->"8ec68a9c-2f7a-4b02-a56f-dc20decd0fec"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "pairUp", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pairUp", "[", 
   RowBox[{"a_", ",", " ", "b_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Transpose", "[", 
   RowBox[{"{", 
    RowBox[{"a", ",", "b"}], "}"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"pairUp", "[", 
   RowBox[{"a_", ",", " ", "b_", ",", " ", "c_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Transpose", "[", 
   RowBox[{"{", 
    RowBox[{"a", ",", "b", ",", " ", "c"}], "}"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"pairUp", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"1", ",", "2", ",", " ", "3"}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"a", ",", " ", "b", ",", " ", "c"}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"do", ",", " ", "re", ",", " ", "mi"}], "}"}]}], 
  "]"}]}], "Input",ExpressionUUID->"f5d937b1-633c-462f-b80a-4b944b3250af"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "qReduce", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"qReduce", "[", 
   RowBox[{"expr_", ",", " ", "vars_", ",", " ", 
    RowBox[{"dom_", " ", ":", " ", "Reals"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Quiet", "[", 
   RowBox[{
    RowBox[{"Reduce", "[", 
     RowBox[{"expr", ",", " ", "vars", ",", " ", "dom"}], "]"}], ",", " ", 
    RowBox[{"{", 
     RowBox[{"Reduce", "::", "ratnz"}], "}"}]}], 
   "]"}]}]}], "Input",ExpressionUUID->"ae93f216-c13a-4fa8-8c55-51d96176c90a"],

Cell["ToString is entirely unreasonable about newlines. So we fix.", \
"Text",ExpressionUUID->"01eaa123-f89c-4e73-a01b-9b6b353bb418"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "toString", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toString", "[", "expr_", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "result", ",", " ", "reapedStrings", ",", " ", "token", ",", " ", 
      "rules", ",", " ", "reverseRules", ",", " ", "clean"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"result", ",", " ", "reapedStrings"}], "}"}], " ", "=", 
      RowBox[{"Reap", "[", 
       RowBox[{"Scan", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"StringQ", "[", "#", "]"}], ",", 
             RowBox[{"Sow", "[", "#", "]"}]}], "]"}], ")"}], "&"}], ",", 
         "expr", ",", "Infinity"}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"token", " ", "=", 
      RowBox[{"FromCharacterCode", "[", "1", "]"}]}], ";", " ", 
     RowBox[{"(*", " ", 
      RowBox[{
      "something", " ", "not", " ", "in", " ", "any", " ", "actual", " ", 
       "string"}], " ", "*)"}], "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Length", "[", "reapedStrings", "]"}], " ", ">", " ", "0"}], 
       ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"rules", " ", "=", " ", 
         RowBox[{
          RowBox[{
           RowBox[{"#", " ", "\[Rule]", " ", 
            RowBox[{"StringReplace", "[", 
             RowBox[{"#", ",", " ", 
              RowBox[{"{", 
               RowBox[{"\"\<\\n\>\"", " ", "\[Rule]", " ", "token"}], "}"}]}],
              "]"}]}], " ", "&"}], "/@", " ", 
          RowBox[{"reapedStrings", "[", 
           RowBox[{"[", "1", "]"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"clean", " ", "=", " ", 
         RowBox[{"expr", " ", "/.", " ", "rules"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"result", " ", "=", " ", 
         RowBox[{"ToString", "[", "clean", "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"result", " ", "=", " ", 
         RowBox[{"StringReplace", "[", 
          RowBox[{"result", ",", " ", 
           RowBox[{"{", 
            RowBox[{"token", " ", "\[Rule]", " ", "\"\<\\n\>\""}], "}"}]}], 
          "]"}]}], ";", "\[IndentingNewLine]", "result"}], 
       "\[IndentingNewLine]", ",", "\[IndentingNewLine]", 
       RowBox[{"ToString", "[", "expr", "]"}]}], "\[IndentingNewLine]", 
      "]"}]}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"toString", "[", 
   RowBox[{"StringForm", "[", 
    RowBox[{"\"\<fre\nd ``\>\"", ",", " ", "\"\<barney\>\""}], "]"}], "]"}], 
  " ", "//", " ", "FullForm"}], "\[IndentingNewLine]", 
 RowBox[{"toString", "[", "3", 
  "]"}]}], "Input",ExpressionUUID->"fa4ede11-3c6d-455f-abf3-95b6141118d6"],

Cell[BoxData[{
 RowBox[{"Clear", "[", "formatString", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"formatString", "[", 
   RowBox[{"str_", ",", " ", "values__"}], "]"}], " ", ":=", " ", 
  RowBox[{"toString", " ", "@", " ", 
   RowBox[{"StringForm", "[", 
    RowBox[{"str", " ", ",", " ", 
     RowBox[{"Sequence", " ", "@@", " ", 
      RowBox[{"{", "values", "}"}]}]}], "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"formatString", "[", 
  RowBox[{"\"\<`` ==\n ``\>\"", ",", " ", "a", ",", " ", "b"}], 
  "]"}]}], "Input",ExpressionUUID->"f78fed21-bedf-4a41-bae1-4273afcf7913"]
}, Closed]],

Cell[CellGroupData[{

Cell["Database", \
"Section",ExpressionUUID->"357464a5-45ea-48a2-a12a-751cf054f7cf"],

Cell[CellGroupData[{

Cell["Open the Database", \
"Subsection",ExpressionUUID->"4547b9a4-8df7-490e-800b-4a7aa3844b6b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"<<", "DatabaseLink`DatabaseExamples`"}], ";", 
    "\[IndentingNewLine]", 
    RowBox[{"DatabaseExamplesBuild", "[", "]"}]}], "\[IndentingNewLine]", 
   "*)"}], 
  RowBox[{"(*", 
   RowBox[{"JavaClassPath", "[", "]"}], 
   "*)"}]}]], "Input",ExpressionUUID->"302e56cc-aa82-4b28-b4ea-a0424818b568"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
  "databaseDirectory", " ", "=", " ", 
   "\"\<C:\\\\Users\\\\bob\\\\Dropbox\\\\Grad School\\\\Lutz \
Lab\\\\Data\\\\Pairwise\>\""}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"databasePath", " ", "=", " ", 
  RowBox[{"FileNameJoin", "[", 
   RowBox[{"{", 
    RowBox[{"databaseDirectory", ",", " ", "\"\<Pairwise.accdb\>\""}], "}"}], 
   "]"}]}]}], "Input",ExpressionUUID->"6088f7bc-e275-418e-b0e6-c9a046de71a4"],

Cell["\<\
https://www.easysoft.com/blog/wolfram-mathematica.html
https://www.easysoft.com/products/data_access/jdbc-access-gateway/getting-\
started.html
https://docs.microsoft.com/en-us/office/troubleshoot/access/cannot-use-odbc-\
or-oledb\
\>", "Text",ExpressionUUID->"6c234aaf-66a1-4576-b74e-f6173b6434cf"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Needs", "[", "\"\<JLink`\>\"", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"Needs", "[", "\"\<DatabaseLink`\>\"", "]"}], ";"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{
    "AddToClassPath", "[", 
     "\"\<C:\\\\Program Files\\\\Easysoft Limited\\\\Easysoft JDBC-Access \
Gateway\\\\Libs\\\\esmdb.jar\>\"", "]"}], ";"}], "*)"}]}], "\n", 
 RowBox[{
  RowBox[{"(*", 
   RowBox[{"JavaClassPath", "[", "]"}], 
   "*)"}]}]}], "Input",ExpressionUUID->"ffd9e70f-ba90-4dae-8b57-91c56d14f7eb"],

Cell[BoxData[
 RowBox[{"CloseSQLConnection", "[", "database", 
  "]"}]], "Input",ExpressionUUID->"155b08d0-729a-44f7-bff8-33e954c70f50"],

Cell[BoxData[
 RowBox[{"database", " ", "=", " ", 
  RowBox[{"OpenSQLConnection", "[", 
   RowBox[{
    RowBox[{"JDBC", "[", 
     RowBox[{"\"\<easysoft.sql.esMdbDriver\>\"", ",", 
      RowBox[{
      "\"\<jdbc:easysoft:mdb?DBQ=\>\"", " ", "<>", " ", "databasePath"}]}], 
     "]"}], ",", " ", 
    RowBox[{"\"\<ReadOnly\>\"", " ", "\[Rule]", " ", "True"}]}], 
   "]"}]}]], "Input",ExpressionUUID->"f1b950b2-748a-42df-8adc-a3aa845f9834"],

Cell[CellGroupData[{

Cell["A Couple of Examples", \
"Subsubsection",ExpressionUUID->"cdf52dda-9f66-4a1c-9040-a32d40c7ef9f"],

Cell[BoxData[
 RowBox[{"SQLExecute", "[", 
  RowBox[{"database", ",", "\"\<select * from BadWells\>\"", ",", " ", 
   RowBox[{"\"\<ShowColumnHeadings\>\"", " ", "\[Rule]", " ", "True"}]}], 
  "]"}]], "Input",ExpressionUUID->"d9a54f38-f1fa-45dd-907b-9ff96efcb80c"],

Cell[BoxData[
 RowBox[{"SQLExecute", "[", 
  RowBox[{"database", ",", "\"\<Select * from BadWells Where [Row] = 8\>\""}],
   "]"}]], "Input",ExpressionUUID->"01a02530-3ff7-4adb-a2eb-a777427eecee"],

Cell[BoxData[
 RowBox[{"SQLExecute", "[", 
  RowBox[{
  "database", ",", 
   "\"\<Select * from BadWells Where [Experiment] = 'E19110401'\>\""}], 
  "]"}]], "Input",ExpressionUUID->"d4c33b5e-ed55-495c-904f-868aa8a3d361"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Experiments", \
"Section",ExpressionUUID->"774ea773-ed5e-41bb-9f5c-c46a9ad6e120"],

Cell[CellGroupData[{

Cell["Get Experimental Data", \
"Subsection",ExpressionUUID->"71d1f0cd-217d-4511-8a1c-ccd45ef4b43e"],

Cell[BoxData[{
 RowBox[{"Clear", "[", 
  RowBox[{"makeDataset", ",", " ", "unDataset"}], 
  "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"makeDataset", "[", "sqlResult_", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"headings", ",", " ", "body"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"headings", " ", "=", " ", 
      RowBox[{"sqlResult", "[", 
       RowBox[{"[", "1", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"body", " ", "=", " ", 
      RowBox[{"sqlResult", "[", 
       RowBox[{"[", 
        RowBox[{"2", ";;"}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Dataset", "[", 
      RowBox[{
       RowBox[{"Function", "[", 
        RowBox[{"row", ",", " ", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"Rule", " ", "@@", " ", "#"}], "&"}], " ", "/@", " ", 
           RowBox[{"Transpose", "[", 
            RowBox[{"{", 
             RowBox[{"headings", ",", " ", "row"}], "}"}], "]"}]}], " ", "//",
           " ", "Association"}]}], "]"}], "/@", " ", "body"}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"unDataset", "[", "dataset_Dataset", "]"}], "/;", " ", 
   RowBox[{
    RowBox[{"Length", "[", 
     RowBox[{"Dimensions", "[", "dataset", "]"}], "]"}], "\[Equal]", "2"}]}], 
  " ", ":=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"Values", "[", "#", "]"}], " ", "&"}], " ", "/@", " ", 
   RowBox[{"Normal", "[", "dataset", "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"unDataset", "[", "dataset_Dataset", "]"}], "/;", " ", 
   RowBox[{
    RowBox[{"Length", "[", 
     RowBox[{"Dimensions", "[", "dataset", "]"}], "]"}], "\[Equal]", "1"}]}], 
  " ", ":=", " ", 
  RowBox[{
  "Normal", "[", "dataset", 
   "]"}]}]}], "Input",ExpressionUUID->"36e3099d-fd11-4d05-ad1d-a5ea0d2c475f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
  "dataColumns", " ", "=", " ", 
   "\"\<FluorescenceByIndex.Temperature, FluorescenceByIndex.Value, \
FluorescenceByIndex.Name, \n\t[StrandAMols] * [StrandALength] * 1e9 AS \
nmolNtA, \n\t[StrandBMols] * [StrandBLength] * 1e9 AS nmolNtB,\n\t\
IIf(StrandAMols<StrandBMols, StrandAMols, StrandBMols) * [Overlap] * 1e9 as \
nmolNtOverlap,\n\t[nmolNtOverlap] as nmolDsNt,\n\t[nmolNtA] - [nmolNtOverlap] \
as nmolSsNtA,\n\t[nmolNtB] - [nmolNtOverlap] as nmolSsNtB,\n\tExperiments.*\n\
\>\""}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "dataTable", " ", "=", " ", 
   "\"\<Experiments LEFT JOIN FluorescenceByIndex ON (Experiments.Experiment \
= FluorescenceByIndex.Experiment) AND (Experiments.Index = \
FluorescenceByIndex.Index)\>\""}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
  "dataOrder", " ", "=", " ", 
   "\"\<Experiments.Experiment, FluorescenceByIndex.Temperature, \
Experiments.Index\>\""}], 
  ";"}]}], "Input",ExpressionUUID->"d690b350-772b-4e1f-bed6-a70bcc7d7845"]
}, Open  ]],

Cell[CellGroupData[{

Cell["EvaGreen vs Temperature", \
"Subsection",ExpressionUUID->"2374d7e8-4705-4218-986b-0ac0f79fe3c6"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"noStrandsControl", "[", "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"raw", ",", " ", "query"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"raw", " ", "=", " ", 
      RowBox[{
      "\"\<SELECT \>\"", " ", "<>", " ", "dataColumns", " ", "<>", " ", 
       "\"\< FROM \>\"", " ", "<>", " ", "dataTable", " ", "<>", 
       "\"\<WHERE (([FluorescenceByIndex.Temperature] Is Not Null) AND \
[Experiments.StrandAConcentration]=0 AND \
[Experiments.StrandBConcentration]=0) ORDER BY \>\"", " ", "<>", " ", 
       "dataOrder"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"query", " ", "=", " ", "raw"}], ";", "\[IndentingNewLine]", 
     RowBox[{"makeDataset", "[", 
      RowBox[{"SQLExecute", "[", 
       RowBox[{"database", ",", " ", "query", ",", " ", 
        RowBox[{"\"\<ShowColumnHeadings\>\"", " ", "\[Rule]", " ", "True"}]}],
        "]"}], "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"control", " ", "=", " ", 
  RowBox[{
  "noStrandsControl", "[", 
   "]"}]}]}], "Input",ExpressionUUID->"7bfc77eb-d86e-4911-8d3a-15d0aed66a42"],

Cell["All experiment names that have data", \
"Text",ExpressionUUID->"eeecbe92-5c05-4f43-8f41-de995cc0a79a"],

Cell[BoxData[
 RowBox[{"experimentNames", " ", "=", " ", 
  RowBox[{"Union", "[", 
   RowBox[{"Normal", "[", 
    RowBox[{"control", "[", 
     RowBox[{"[", 
      RowBox[{"All", ",", " ", "\"\<Experiment\>\""}], "]"}], "]"}], "]"}], 
   "]"}]}]], "Input",ExpressionUUID->"03dae6f0-7fee-40da-aee7-83f47240ba6c"],

Cell[BoxData[
 RowBox[{"ListPlot", "[", 
  RowBox[{
   RowBox[{"control", "[", 
    RowBox[{
     RowBox[{"GroupBy", "[", "\"\<Experiment\>\"", "]"}], ",", "All", ",", 
     RowBox[{"{", 
      RowBox[{"\"\<Temperature\>\"", ",", "\"\<Value\>\""}], "}"}]}], "]"}], 
   ",", " ", 
   RowBox[{"ImageSize", "\[Rule]", "Large"}], ",", " ", 
   RowBox[{"AxesLabel", "\[Rule]", " ", 
    RowBox[{"{", 
     RowBox[{"\"\<T\>\"", ",", " ", "\"\<RFU\>\""}], "}"}]}]}], 
  "]"}]], "Input",ExpressionUUID->"79cf074f-268c-4425-8d7a-4b902f1d4848"]
}, Closed]],

Cell[CellGroupData[{

Cell["One Experiment, One Temp", \
"Subsection",ExpressionUUID->"8803bca1-d677-4f9a-a93a-e880bc96b40f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"experimentAtTemp", "[", 
   RowBox[{"experiment_", ",", " ", "temp_"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"raw", ",", " ", "query"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"raw", " ", "=", " ", 
      RowBox[{
      "\"\<SELECT \>\"", " ", "<>", " ", "dataColumns", " ", "<>", " ", 
       "\"\< FROM \>\"", " ", "<>", " ", "dataTable", " ", "<>", 
       "\"\<WHERE ([Experiments.Experiment]='`1`' AND \
[FluorescenceByIndex.Temperature]=`2`) ORDER BY \>\"", " ", "<>", " ", 
       "dataOrder"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"query", " ", "=", " ", 
      RowBox[{"formatString", "[", 
       RowBox[{"raw", " ", ",", " ", "experiment", ",", " ", "temp"}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"makeDataset", "[", 
      RowBox[{"SQLExecute", "[", 
       RowBox[{"database", ",", " ", "query", ",", " ", 
        RowBox[{"\"\<ShowColumnHeadings\>\"", " ", "\[Rule]", " ", "True"}]}],
        "]"}], "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"data", " ", "=", " ", 
  RowBox[{"experimentAtTemp", "[", 
   RowBox[{"\"\<E19110701\>\"", ",", " ", "54"}], 
   "]"}]}]}], "Input",ExpressionUUID->"6fb6c0f8-9e39-44bf-b225-afbd9aa5419f"],

Cell[CellGroupData[{

Cell["Single Stranded Fit", \
"Subsubsection",ExpressionUUID->"6f424fda-c084-4b30-b552-6be730df7245"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"strandASingleData", " ", "=", " ", 
   RowBox[{"data", "[", 
    RowBox[{
     RowBox[{"Select", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"#", "[", "\"\<StrandBConcentration\>\"", "]"}], "\[Equal]", 
        " ", "0"}], " ", "&"}], "]"}], ",", " ", 
     RowBox[{"{", 
      RowBox[{"\"\<nmolNtA\>\"", ",", " ", "\"\<Value\>\""}], "}"}]}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"strandBSingleData", " ", "=", " ", 
   RowBox[{"data", "[", 
    RowBox[{
     RowBox[{"Select", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"#", "[", "\"\<StrandAConcentration\>\"", "]"}], "\[Equal]", 
        " ", "0"}], " ", "&"}], "]"}], ",", " ", 
     RowBox[{"{", 
      RowBox[{"\"\<nmolNtB\>\"", ",", " ", "\"\<Value\>\""}], "}"}]}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"{", 
  RowBox[{
   RowBox[{"fitStrandASingle", " ", "=", " ", 
    RowBox[{"LinearModelFit", "[", " ", 
     RowBox[{
      RowBox[{"unDataset", "[", "strandASingleData", "]"}], ",", " ", 
      "nmolSsNtA", ",", " ", "nmolSsNtA"}], "]"}]}], ",", " ", 
   "\[IndentingNewLine]", 
   RowBox[{"fitStrandBSingle", " ", "=", " ", 
    RowBox[{"LinearModelFit", "[", " ", 
     RowBox[{
      RowBox[{"unDataset", "[", "strandBSingleData", "]"}], ",", " ", 
      "nmolSsNtB", ",", " ", "nmolSsNtB"}], "]"}]}]}], 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fitStrandASingleSlope", " ", "=", " ", 
   RowBox[{
    RowBox[{"fitStrandASingle", "[", "\"\<BestFitParameters\>\"", "]"}], "[", 
    RowBox[{"[", "2", "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"fitStrandBSingleSlope", " ", "=", " ", 
   RowBox[{
    RowBox[{"fitStrandBSingle", "[", "\"\<BestFitParameters\>\"", "]"}], "[", 
    RowBox[{"[", "2", "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"{", 
  RowBox[{
   RowBox[{"fitStrandASingle", "[", "\"\<AdjustedRSquared\>\"", "]"}], ",", 
   " ", 
   RowBox[{"fitStrandBSingle", "[", "\"\<AdjustedRSquared\>\"", "]"}]}], 
  "}"}], "\[IndentingNewLine]", 
 RowBox[{"Row", " ", "@", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"Show", "[", 
     RowBox[{
      RowBox[{"ListPlot", "[", 
       RowBox[{"strandASingleData", ",", " ", 
        RowBox[{"AxesOrigin", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
        RowBox[{"AxesLabel", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"\"\<nmolNtA\>\"", ",", "\"\<RFU\>\""}], "}"}]}], ",", " ", 
        RowBox[{"ImageSize", "\[Rule]", "Medium"}]}], "]"}], ",", " ", 
      RowBox[{"Plot", "[", 
       RowBox[{
        RowBox[{"fitStrandASingle", "[", "conc", "]"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"conc", ",", " ", "0", ",", " ", "10"}], "}"}]}], "]"}]}], 
     "]"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Show", "[", 
     RowBox[{
      RowBox[{"ListPlot", "[", 
       RowBox[{"strandBSingleData", ",", " ", 
        RowBox[{"AxesOrigin", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
        RowBox[{"AxesLabel", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"\"\<nmolNtB\>\"", ",", "\"\<RFU\>\""}], "}"}]}], ",", " ", 
        RowBox[{"ImageSize", "\[Rule]", "Medium"}]}], "]"}], ",", " ", 
      RowBox[{"Plot", "[", 
       RowBox[{
        RowBox[{"fitStrandBSingle", "[", "conc", "]"}], ",", " ", 
        RowBox[{"{", 
         RowBox[{"conc", ",", " ", "0", ",", " ", "10"}], "}"}]}], "]"}]}], 
     "]"}]}], "}"}]}]}], \
"Input",ExpressionUUID->"007a83a4-cce3-435a-89b4-4acc60807130"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Double Stranded Fit", \
"Subsubsection",ExpressionUUID->"bd8a0273-4f19-484f-b4d1-1e2821165c9b"],

Cell["\<\
First way fits three-way fit of molarities of our ss and ds portions, first \
with pure linear fit, then (for giggles) allowing a square term (no \
justification, but the fit is much better).\
\>", "Text",ExpressionUUID->"4aa3eaaf-9d65-4f50-a954-dc46622151fb"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"dsData", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"#", "[", "\"\<nmolDsNt\>\"", "]"}], ",", " ", 
        RowBox[{"#", "[", "\"\<nmolSsNtA\>\"", "]"}], ",", " ", 
        RowBox[{"#", "[", "\"\<nmolSsNtB\>\"", "]"}], ",", " ", 
        RowBox[{"#", "[", "\"\<Value\>\"", "]"}]}], "}"}], " ", "&"}], " ", "/@",
      " ", "data"}], " ", "//", " ", "Normal"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"dsFit0", " ", "=", " ", 
  RowBox[{"LinearModelFit", "[", 
   RowBox[{
    RowBox[{"Normal", "[", "dsData", "]"}], ",", " ", 
    RowBox[{"{", " ", 
     RowBox[{"nmolDsNt", ",", " ", "nmolSsNtA", ",", " ", "nmolSsNtB"}], 
     "}"}], ",", " ", 
    RowBox[{"{", " ", 
     RowBox[{"nmolDsNt", ",", " ", "nmolSsNtA", ",", " ", "nmolSsNtB"}], 
     "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Transpose", "[", 
   RowBox[{"{", " ", 
    RowBox[{
     RowBox[{"dsData", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}], ",", " ", 
     RowBox[{"dsFit0", "[", "\"\<FitResiduals\>\"", "]"}]}], "}"}], "]"}], 
  " ", "//", " ", 
  "ListPlot"}]}], \
"Input",ExpressionUUID->"0c17de91-4819-405c-81d7-4414a1b1bc46"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"dsData", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"#", "[", "\"\<nmolDsNt\>\"", "]"}], ",", " ", 
        RowBox[{"#", "[", "\"\<nmolSsNtA\>\"", "]"}], ",", " ", 
        RowBox[{"#", "[", "\"\<nmolSsNtB\>\"", "]"}], ",", " ", 
        RowBox[{"#", "[", "\"\<Value\>\"", "]"}]}], "}"}], " ", "&"}], " ", "/@",
      " ", "data"}], " ", "//", " ", "Normal"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"dsFit0", " ", "=", " ", 
  RowBox[{"LinearModelFit", "[", 
   RowBox[{
    RowBox[{"Normal", "[", "dsData", "]"}], ",", " ", 
    RowBox[{"{", " ", 
     RowBox[{"nmolDsNt", ",", " ", 
      RowBox[{"nmolDsNt", "^", "2"}], ",", " ", "nmolSsNtA", ",", " ", 
      "nmolSsNtB"}], "}"}], ",", " ", 
    RowBox[{"{", " ", 
     RowBox[{"nmolDsNt", ",", " ", "nmolSsNtA", ",", " ", "nmolSsNtB"}], 
     "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Transpose", "[", 
   RowBox[{"{", " ", 
    RowBox[{
     RowBox[{"dsData", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}], ",", " ", 
     RowBox[{"dsFit0", "[", "\"\<FitResiduals\>\"", "]"}]}], "}"}], "]"}], 
  " ", "//", " ", 
  "ListPlot"}]}], \
"Input",ExpressionUUID->"a245b31c-13fb-48e3-afdb-063a1bf40319"],

Cell["Second way subtracts off the ss fit first", \
"Text",ExpressionUUID->"c717160d-567c-4eaf-b48e-646c8407c898"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"dsData", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"#", "[", "\"\<nmolDsNt\>\"", "]"}], ",", " ", 
        RowBox[{
         RowBox[{"#", "[", "\"\<Value\>\"", "]"}], " ", "-", " ", 
         RowBox[{"fitStrandASingleSlope", " ", "*", " ", 
          RowBox[{"#", "[", "\"\<nmolSsNtA\>\"", "]"}]}], " ", "-", " ", 
         RowBox[{"fitStrandBSingleSlope", " ", "*", " ", 
          RowBox[{"#", "[", "\"\<nmolSsNtB\>\"", "]"}]}]}]}], "}"}], " ", 
      "&"}], " ", "/@", " ", "data"}], " ", "//", " ", "Normal"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"dsFit", " ", "=", " ", 
  RowBox[{"LinearModelFit", "[", 
   RowBox[{
    RowBox[{"Normal", "[", "dsData", "]"}], ",", " ", 
    RowBox[{"{", " ", "nmolDsNt", "}"}], ",", " ", 
    RowBox[{"{", " ", "nmolDsNt", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Transpose", "[", 
   RowBox[{"{", " ", 
    RowBox[{
     RowBox[{"dsData", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}], ",", " ", 
     RowBox[{"dsFit", "[", "\"\<FitResiduals\>\"", "]"}]}], "}"}], "]"}], " ",
   "//", " ", "ListPlot"}], "\[IndentingNewLine]", 
 RowBox[{"Show", "[", 
  RowBox[{
   RowBox[{"ListPlot", "[", 
    RowBox[{"dsData", ",", " ", 
     RowBox[{"AxesOrigin", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
     RowBox[{"AxesLabel", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"\"\<nmolDsNt\>\"", ",", "\"\<RFU\>\""}], "}"}]}], ",", " ", 
     RowBox[{"ImageSize", "\[Rule]", "Medium"}]}], "]"}], ",", " ", 
   RowBox[{"Plot", "[", 
    RowBox[{
     RowBox[{"dsFit", "[", "conc", "]"}], ",", " ", 
     RowBox[{"{", 
      RowBox[{"conc", ",", " ", "0", ",", " ", "10"}], "}"}]}], "]"}]}], 
  "]"}]}], "Input",ExpressionUUID->"fcd178b3-36b2-418a-a554-4b6d55a2df23"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"dsData", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"#", "[", "\"\<nmolDsNt\>\"", "]"}], ",", " ", 
        RowBox[{
         RowBox[{"#", "[", "\"\<Value\>\"", "]"}], " ", "-", " ", 
         RowBox[{"fitStrandASingleSlope", " ", "*", " ", 
          RowBox[{"#", "[", "\"\<nmolSsNtA\>\"", "]"}]}], " ", "-", " ", 
         RowBox[{"fitStrandBSingleSlope", " ", "*", " ", 
          RowBox[{"#", "[", "\"\<nmolSsNtB\>\"", "]"}]}]}]}], "}"}], " ", 
      "&"}], " ", "/@", " ", "data"}], " ", "//", " ", "Normal"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{"dsFit", " ", "=", " ", 
  RowBox[{"LinearModelFit", "[", 
   RowBox[{
    RowBox[{"Normal", "[", "dsData", "]"}], ",", " ", 
    RowBox[{"{", " ", 
     RowBox[{"nmolDsNt", ",", " ", 
      RowBox[{"nmolDsNt", "^", "2"}]}], "}"}], ",", " ", 
    RowBox[{"{", " ", "nmolDsNt", "}"}]}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Transpose", "[", 
   RowBox[{"{", " ", 
    RowBox[{
     RowBox[{"dsData", "[", 
      RowBox[{"[", 
       RowBox[{"All", ",", "1"}], "]"}], "]"}], ",", " ", 
     RowBox[{"dsFit", "[", "\"\<FitResiduals\>\"", "]"}]}], "}"}], "]"}], " ",
   "//", " ", "ListPlot"}], "\[IndentingNewLine]", 
 RowBox[{"Show", "[", 
  RowBox[{
   RowBox[{"ListPlot", "[", 
    RowBox[{"dsData", ",", " ", 
     RowBox[{"AxesOrigin", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0"}], "}"}]}], ",", " ", 
     RowBox[{"AxesLabel", "\[Rule]", 
      RowBox[{"{", 
       RowBox[{"\"\<nmolDsNt\>\"", ",", "\"\<RFU\>\""}], "}"}]}], ",", " ", 
     RowBox[{"ImageSize", "\[Rule]", "Medium"}]}], "]"}], ",", " ", 
   RowBox[{"Plot", "[", 
    RowBox[{
     RowBox[{"dsFit", "[", "conc", "]"}], ",", " ", 
     RowBox[{"{", 
      RowBox[{"conc", ",", " ", "0", ",", " ", "10"}], "}"}]}], "]"}]}], 
  "]"}]}], "Input",ExpressionUUID->"862f2bfc-7fac-4015-a66e-4145965c841a"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Thoughts", \
"Subsection",ExpressionUUID->"603b21c3-d591-4fdb-96d0-61e75e9d6516"],

Cell["\<\
* How do we account for the fact that our eva molecules are beging eaten up \
as they bind, thus reducing background fluoresence.\
\>", "Text",ExpressionUUID->"4d37d500-1ade-4beb-9558-f13300441229"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Misc", "Section",ExpressionUUID->"77386c64-cbe1-49a7-bdbf-c47696c08719"],

Cell["\<\
https://stackoverflow.com/questions/29855062/setting-parameter-values-in-sql-\
for-ms-access\
\>", "Text",ExpressionUUID->"aa3a8019-a87d-47f5-a6bc-033900d84f92"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1292, 1483},
WindowMargins->{{Automatic, 1046}, {Automatic, 29}},
PrintingCopies->1,
PrintingPageRange->{32000, 32000},
PrintingOptions->{"Magnification"->1.,
"PaperOrientation"->"Portrait",
"PaperSize"->{612, 792}},
PrivateNotebookOptions->{"FileOutlineCache"->False},
CellContext->Notebook,
CellLabelAutoDelete->True,
TrackCellChangeTimes->False,
FrontEndVersion->"12.0 for Microsoft Windows (64-bit) (April 8, 2019)",
StyleDefinitions->Notebook[{
   Cell[
    StyleData[
    StyleDefinitions -> 
     FrontEnd`FileName[{"Report"}, "StandardReport.nb", CharacterEncoding -> 
       "UTF-8"]]], 
   Cell[
    StyleData["Graphics"], MenuSortingValue -> 10000, Background -> None], 
   Cell[
    StyleData[All, "Printout"], Magnification -> 0.5]}, Visible -> False, 
  FrontEndVersion -> "12.0 for Microsoft Windows (64-bit) (April 8, 2019)", 
  StyleDefinitions -> "PrivateStylesheetFormatting.nb"]
]

